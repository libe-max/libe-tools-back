{"version":3,"sources":["containers/tools-editors/libe-instagram-story/LibeInstaStoryWysiwyg/assets/libe-icon.png","containers/tools-editors/libe-instagram-story/LibeInstaStoryWysiwyg/assets/libe-quote-sign.png","containers/tools-editors/libe-instagram-story/LibeInstaStoryWysiwyg/assets/bg-image-placeholder.svg","containers/tools-editors/libe-instagram-story/LibeInstaStoryWysiwyg/assets/image-placeholder.svg","containers/tools-editors/libe-instagram-story/LibeInstaStoryWysiwyg/assets/no-display-bg-placeholder.svg","reducers/bundles/fetchBundles.js","actions/actionTypes.js","reducers/bundles/fetchBundle.js","reducers/bundles/createBundle.js","reducers/bundles/saveBundle.js","utils/bundles.js","reducers/bundles/editBundle.js","reducers/bundles/deleteBundle.js","reducers/bundles.js","reducers/index.js","reducers/filters.js","reducers/notifications.js","theme/index.js","actions/actionCreators.js","components/boxes/ShadowBar/style.js","components/boxes/ShadowBar/index.js","components/images/Image/style.js","components/images/Image/index.js","components/text-levels/Heading/index.js","components/text-levels/MainTitle/style.js","components/text-levels/MainTitle/index.js","containers/blocks/Header/style.js","containers/blocks/Header/index.js","containers/blocks/Header/connected.js","components/text-levels/Paragraph/style.js","components/text-levels/Paragraph/index.js","components/boxes/Notification/style.js","components/boxes/Notification/index.js","components/buttons/Button/style.js","components/buttons/Button/index.js","containers/blocks/NotificationsPanel/style.js","containers/blocks/NotificationsPanel/index.js","containers/blocks/NotificationsPanel/connected.js","components/boxes/ShadowBox/style.js","components/boxes/ShadowBox/index.js","components/text-levels/BlockTitle/style.js","components/text-levels/BlockTitle/index.js","containers/blocks/LibeToolThumb/style.js","containers/blocks/LibeToolThumb/index.js","containers/blocks/LibeToolThumb/connected.js","components/text-levels/ParagraphTitle/style.js","components/text-levels/ParagraphTitle/index.js","containers/blocks/LibeBundleThumb/style.js","containers/blocks/LibeBundleThumb/index.js","containers/blocks/LibeBundleThumb/connected.js","components/text-levels/InputLabel/style.js","components/text-levels/InputLabel/index.js","components/inputs/TextInput/style.js","components/inputs/TextInput/index.js","components/inputs/SearchField/style.js","components/inputs/SearchField/index.js","containers/pages/HomePage/style.js","containers/tools-editors/libe-instagram-story/LibeInstaStoryWysiwyg/utils/index.js","components/inputs/SelectList/style.js","components/inputs/SelectList/index.js","containers/tools-editors/libe-instagram-story/LibeInstaStoryWysiwyg/Slide/theme.js","containers/tools-editors/libe-instagram-story/LibeInstaStoryWysiwyg/Slide/style.js","containers/tools-editors/libe-instagram-story/LibeInstaStoryWysiwyg/Slide/index.js","components/logical/WysiwygEditor/style.js","components/logical/WysiwygEditor/index.js","components/inputs/RangeInput/style.js","components/inputs/RangeInput/index.js","containers/tools-editors/libe-instagram-story/LibeInstaStoryWysiwyg/SlideWysiwyg/style.js","containers/tools-editors/libe-instagram-story/LibeInstaStoryWysiwyg/SlideWysiwyg/index.js","containers/tools-editors/libe-instagram-story/LibeInstaStoryWysiwyg/style.js","containers/tools-editors/libe-instagram-story/LibeInstaStoryWysiwyg/index.js","containers/tools-editors/libe-instagram-story/LibeInstaStoryActionsPanel/style.js","containers/tools-editors/libe-instagram-story/index.js","containers/tools-editors/libe-instagram-story/LibeInstaStoryActionsPanel/index.js","utils/tools.js","containers/pages/HomePage/index.js","containers/pages/HomePage/connected.js","containers/pages/BundlePage/style.js","containers/pages/BundlePage/index.js","containers/pages/BundlePage/connected.js","components/inputs/FileInput/style.js","components/inputs/FileInput/index.js","containers/pages/ComponentsPage/style.js","containers/pages/ComponentsPage/index.js","index.js"],"names":["module","exports","fetchBundles","state","action","type","Object","assign","isFetching","list","error","updatedAt","fetchBundle","map","bundle","_id","undefined","filter","elt","createBundle","isCreating","saveBundle","changes","bundleChanges","id","_saving","id1","id2","cleanedBundleChanges","bundleTemplate","created_on","settings_history","getBundleCurrentSettings","settingsHistory","Array","isArray","sort","a","b","timestamp","editBundle","key","value","stored","storedSettings","newChanges","keys","length","hasOwnProperty","deleteBundle","deleting","defaultState","reducers","bundles","filters","tools","notifications","text","level","units","val","breakpoints","wide","medium","numericTransitions","flash","quick","transitions","fonts","brand","easy","rawColors","black","lightBlack","obscureGrey","slightGrey","white","blue","red","shadows","hexToRgba","small","neat","focus","massiveFocus","colorScales","default","base","chroma","scale","mode","danger","shaded","inverted","shadedInverted","colorPalettes","baseText","hex","baseLightText","baseBorder","baseAltBg","baseBg","baseInvertedText","baseInvertedBg","actionText","actionLightText","actionBorder","actionAltBg","actionBg","actionInvertedText","actionInvertedBg","dangerText","dangerLightText","dangerBorder","dangerAltBg","dangerBg","dangerInvertedText","dangerInvertedBg","Theme","colors","_isInverted","_isShaded","_invert","theme","this","_shade","fetchBundlesError","Date","now","fetchBundleError","createBundleError","receivedAt","saveBundleError","deleteBundleError","setBundlesFilter","document","querySelector","pushNotification","Math","floor","random","toString","Wrapper","styled","div","p","ShadowBar","props","className","children","Component","Image","alt","title","wrapperStyle","backgroundImage","src","backgroundSize","contain","backgroundPosition","position","backgroundRepeat","repeat","height","width","imgStyle","classes","style","Heading","MainTitle","Header","onClick","goHome","connect","dispatch","e","push","Paragraph","light","italic","Notification","join","button","Button","disabledMessage","disabled","primary","dangerous","minor","link","icon","onFocus","node","blur","tabIndex","ref","NotificationSlot","fadeOut","bind","hide","setTimeout","timeout","transitionTime","classList","add","notif","NotificationsPanel","notificationsDom","notifAge","reverse","ShadowBox","BlockTitle","LibeToolThumb","createNewBundle","image","name","description","filterBundles","stopPropagation","fetch","then","r","ok","json","Error","status","statusText","res","err","data","catch","message","ParagraphTitle","LibeBundleThumb","widths","makeReadable","moment","locale","format","toLowerCase","created","updated","published","meta","who","author","when","loading","rel","bundleId","navigateToBundle","window","confirm","method","deleteBundleSuccess","label","InputLabel","TextInput","setValue","input","forceUpdate","onChange","onBlur","onKeyPress","blurOnEnter","placeholder","defaultValue","SearchField","inputDom","inputValue","focusInput","displays","displayPickerOptions","selected","SelectList","placeholderOption","options","option","onChangeWrapper","defaultOption","console","setState","libeIcon","LibeInstaSlide","display","backgroundImages","contentPosition","logo","hidden","coverContentPosStyle","parseInt","top","transform","nonCoverContentPosStyle","brSplitTextValue","split","brSplitTitleValue","titleValueWithBrs","forEach","line","i","textValueWithBrs","bgImgPlaceholderStyle","bgImgPlaceholderSrc","imgPlaceholderStyle","imgPlaceholderSrc","coverDisplayTitleOrPlaceholder","color","opacity","imgAndTxtDisplayTitleOrPlaceholder","quoteOnBgDisplayTitleOrPlaceholder","coverDisplayTextOrPlaceholder","imgAndTxtDisplayTextOrPlaceholder","quoteOnBgDisplayTextOrPlaceholder","textOnBgDisplayTextOrPlaceholder","data-property","bgImg","zoom","x","y","libeQuoteSign","WysiwygEditor","active","initDomRootStyles","boxShadow","domRoot","cursor","setActiveStyle","unsetActiveStyle","activate","unactivate","handleMouseenterOnDomRoot","handleMouseleaveOnDomRoot","addEventListener","removeEventListener","$wrapper","onActivate","withTheme","RangeInput","handleChange","updateTextAndFakeRange","min","max","valueDisplayer","fakeGauge","ratio","right","innerHTML","unit","noDisplayBg","IfDomReady","domIsReady","LibeInstaSlideWysiwyg","editorsAreReady","inputs","editors","resize","populateFields","unactivateAllEditors","interval","setInterval","editor","clearInterval","slide","dispatchEdition","$","q","createElement","titleDispatcher","newVal","target","hideTitleDispatcher","textDispatcher","contentPositionDispatcher","displayIsAllowed","indexOf","bgImgSrc","bgImgXPos","bgImgYPos","bgImgZoom","bgImgLogoHide","coverDisplayTitle","coverDisplayText","coverDisplayContentPos","coverDisplayTitleHide","imgAndTxtDisplayImgSrc","imgAndTxtDisplayTitleHide","imgAndTxtDisplayTitle","imgAndTxtDisplayText","quoteOnBgDisplayTitle","quoteOnBgDisplayText","textOnBgDisplayText","textOnBgDisplayContentPos","wrapperWidth","offsetWidth","wrapperHeight","offsetHeight","scX","scY","trX","trY","$slide","$placeholder","rootClass","hex2rgba","LibeInstaStoryWysiwyg","activeSlidePos","pLatestSettings","slides","addNewSlide","activatePrevSlide","activateNextSlide","activateSlide","constrainProportions","getOffsetForCentering","centerSlide","deleteSlide","moveSlideToLeft","moveSlideToRight","duplicateSlide","changeDisplayOnActiveSlide","dispatchEditionInSlide","latestSettings","activeSlideDisplay","displayExists","$displayPicker","slidesDom","$spacer","n","clientHeight","querySelectorAll","spacer","spacerStyle","currentStyle","getComputedStyle","clientWidth","spacerOffset","parseFloat","marginLeft","slideWidth","slideOffset","offsetLeft","targetOffset","offsetDiff","newSlides","slice","newSlide","s","pSlides","newState","DisplayPanel","ActionsPanel","exporting","handleClick","unsavedSettings","blob","download","log","finally","libeInstagramStory","settings","SettingsPanel","actions","savedActions","SavedActionsPanel","HomePage","filteredBundles","lastFilterUpdate","shouldApplyFilters","filterDelay","tryFilterBundles","getBundles","timeSinceLastUpdate","shouldApply","dispatchEvent","CustomEvent","detail","time","bubbles","cancelable","sortedBundles","slug","replace","getBundleSlug","every","word","match","latestEditA","shouldApplyBundlesFilter","toolsDom","toolsList","tool","bundlesDom","setToolsFilter","nBundles","nFilters","nLastFilterUpdate","nShouldApplyFilters","bundleCreation","Promise","resolve","reject","BundlePage","settingsComponents","getSettingsVersions","getSavedBundle","expectedType","params","typesDiffer","makeString","storedBundle","storedSettingsHistory","valueOf","unsavedBundle","latestBundle","isSaving","lastSaveMillis","updatedOn","reduce","curr","getBundleLastSaveDate","lastSavedOn","lastSavedAgo","fromNow","BundleDisplayer","BundleCustomSettings","BundleActions","isSaved","saveChanges","bundleEdit","fetchBundleRequest","newSettings","saveBundleRequest","body","JSON","stringify","headers","FileInput","file","source","size","uploading","isImg","showFilesExplorer","click","downloadSource","open","getSourceName","readableFileSize","unitSelector","onSubmit","files","CpRow","CpBx","ComponentsPage","history","createBrowserHistory","middleware","routerMiddleware","logger","createLogger","collapsed","duration","diff","store","createStore","combineReducers","router","routerReducer","applyMiddleware","render","Switch","Route","path","component","exact","Redirect","from","to","getElementById"],"mappings":"4GAAAA,EAAOC,QAAU,08W,mBCAjBD,EAAOC,QAAU,IAA0B,6C,mBCA3CD,EAAOC,QAAU,IAA0B,kD,mBCA3CD,EAAOC,QAAU,IAA0B,+C,mBCA3CD,EAAOC,QAAU,IAA0B,uD,uIC8B5BC,EAxBM,SAACC,EAAOC,GAC3B,OAAQA,EAAOC,MACb,ICRiC,wBDS/B,OAAOC,OAAOC,OAAO,GAAIJ,EAAO,CAC9BK,YAAY,IAEhB,ICXiC,wBDY/B,OAAOF,OAAOC,OAAO,GAAIJ,EAAO,CAC9BM,KAAML,EAAOK,KACbC,MAAO,KACPF,YAAY,EACZG,UAAWP,EAAOO,YAEtB,ICjBiC,wBDkB/B,OAAOL,OAAOC,OAAO,GAAIJ,EAAO,CAC9BO,MAAON,EAAOM,MACdF,YAAY,EACZG,UAAWP,EAAOO,YAEtB,QACE,OAAOR,I,QEDES,EAnBK,SAACT,EAAOC,GAC1B,OAAQA,EAAOC,MACb,IDJgC,uBCK9B,OAAOF,EACT,IDLgC,uBCM9B,OAAOG,OAAOC,OAAO,GAAIJ,EAAO,CAC9BM,KAAM,sBAAIN,EAAMM,KAAKI,KAAI,SAAAC,GAGvB,OAFYA,EAAOC,MACPX,EAAOU,OAAOC,IACHD,OAASE,MAH5B,CAIFZ,EAAOU,SAAQG,QAAO,SAAAC,GAAG,OAAIA,OAErC,IDZgC,uBCchC,QACE,OAAOf,ICSEgB,EAxBM,SAAChB,EAAOC,GAC3B,OAAQA,EAAOC,MACb,IFAiC,wBEC/B,OAAOC,OAAOC,OAAO,GAAIJ,EAAO,CAC9BiB,YAAY,IAEhB,IFHiC,wBEI/B,OAAOd,OAAOC,OAAO,GAAIJ,EAAO,CAC9BiB,YAAY,EACZX,KAAM,sBAAIN,EAAMM,KAAKI,KAAI,SAAAC,GAGvB,OAFYA,EAAOC,MACPX,EAAOU,OAAOC,IACHD,OAASE,MAH5B,CAIFZ,EAAOU,SAAQG,QAAO,SAAAC,GAAG,OAAIA,OAErC,IFXiC,wBEY/B,OAAOZ,OAAOC,OAAO,GAAIJ,EAAO,CAC9BiB,YAAY,IAEhB,QACE,OAAOjB,I,yjBCpBb,IAyCekB,EAzCI,SAAClB,EAAOC,GACzB,OAAQA,EAAOC,MACb,IHI+B,sBGH7B,OAAOC,OAAOC,OAAO,GAAIJ,EAAO,CAC9BmB,QAAQ,YAAKnB,EAAMmB,QAAQT,KAAI,SAAAU,GAG7B,OAFYA,EAAcR,MACdX,EAAOoB,GACID,EAAhB,KACFA,EADE,CAELE,SAAS,UAIjB,IHN+B,sBGO7B,OAAOnB,OAAOC,OAAO,GAAIJ,EAAO,CAC9BM,KAAM,sBAAIN,EAAMM,KAAKI,KAAI,SAAAC,GAGvB,OAFYA,EAAOC,MACPX,EAAOU,OAAOC,IACHD,OAASE,MAH5B,CAIFZ,EAAOU,SAAQG,QAAO,SAAAC,GAAG,OAAIA,KACjCI,QAAQ,YAAKnB,EAAMmB,QAAQL,QAAO,SAAAM,GAGhC,OAFYA,EAAcR,MACdX,EAAOU,OAAOC,UAIhC,IHlB+B,sBGmB7B,OAAOT,OAAOC,OAAO,GAAIJ,EAAO,CAC9BmB,QAAQ,YAAKnB,EAAMmB,QAAQT,KAAI,SAAAU,GAC7B,IAAMG,EAAMH,EAAcR,IACpBY,EAAMvB,EAAOoB,GACbI,EAAoB,KAAQL,GAElC,cADOK,EAAqBH,QACpBC,IAAQC,EAAOJ,EAAgBK,QAG7C,QACE,OAAOzB,IC3CA0B,EAAiB,CAC5Bd,IAAK,KACLV,KAAM,KACNyB,WAAY,EACZC,iBAAkB,IAGPC,EAA2B,SAAAlB,GACtC,IAAMmB,EAAkBnB,EAAOiB,iBAC/B,OAAKE,GACAC,MAAMC,QAAQF,IACZA,EACJG,MAAK,SAACC,EAAGC,GAAJ,OAAUA,EAAEC,UAAYF,EAAEE,aAAW,IAHhB,ICgChBC,EAtCI,SAACrC,EAAOC,GACzB,OAAQA,EAAOC,MACb,ILWuB,cKXvB,IACUmB,EAAmBpB,EAAnBoB,GAAIiB,EAAerC,EAAfqC,IAAKC,EAAUtC,EAAVsC,MACjB,GAAY,cAARD,EAAqB,OAAOtC,EAChC,IAAMwC,EAASxC,EAAMM,KAAKQ,QAAO,SAAAH,GAAM,OAAIA,EAAOC,MAAQS,KAAI,GACxDoB,EAAiBZ,EAAyBW,GAC1CrB,EAAUnB,EAAMmB,QACnBL,QAAO,SAAAM,GAAa,OAAIA,EAAcR,MAAQS,KAAI,IAAM,CAAET,IAAKS,GAC5DqB,EAAavC,OAAOC,OAAO,GAAIe,EAAlBhB,OAAA,IAAAA,CAAA,GAA8BmC,EAAMC,IAIvD,OAFIG,EAAWJ,KAASG,EAAeH,WAAaI,EAAWJ,GACvC,KAApBI,EAAWJ,IAAgBG,EAAeH,WAAaI,EAAWJ,GAEpEnC,OAAOwC,KAAKD,GAAYE,QAAU,IACjCF,EAAWG,eAAe,OAEpB1C,OAAOC,OAAO,GAAIJ,EAAO,CAC9BmB,QAAS,YAAInB,EAAMmB,QAAQT,KAAI,SAAAU,GAG7B,OAFYA,EAAcR,MACdS,EACWD,OAAgBP,MACrCC,QAAO,SAAAC,GAAG,OAAIA,OAIfZ,OAAOC,OAAO,GAAIJ,EAAO,CAC9BmB,QAAS,sBAAInB,EAAMmB,QAAQT,KAAI,SAAAU,GAG7B,OAFYA,EAAcR,MACdS,EACWD,OAAgBP,MAHhC,CAIL6B,IAAY5B,QAAO,SAAAC,GAAG,OAAIA,OAElC,QACE,OAAOf,ICHE8C,EA5BM,SAAC9C,EAAOC,GAC3B,OAAQA,EAAOC,MACb,INUiC,wBMT/B,OAAOC,OAAOC,OAAO,GAAIJ,EAAO,CAC9B+C,SAAS,GAAD,mBACH/C,EAAM+C,UADH,CAEN9C,EAAOoB,OAGb,INIiC,wBMH/B,OAAOlB,OAAOC,OAAO,GAAIJ,EAAO,CAC9BM,KAAMN,EAAMM,KACTQ,QAAO,SAAAH,GAAM,OAAIA,EAAOC,MAAQX,EAAOoB,MAC1CF,QAASnB,EAAMmB,QACZL,QAAO,SAAAH,GAAM,OAAIA,EAAOC,MAAQX,EAAOoB,MAC1C0B,SAAU/C,EAAM+C,SACbjC,QAAO,SAAAO,GAAE,OAAIA,IAAOpB,EAAOoB,QAElC,INJiC,wBMK/B,OAAOlB,OAAOC,OAAO,GAAIJ,EAAO,CAC9B+C,SAAU/C,EAAM+C,SACbjC,QAAO,SAAAO,GAAE,OAAIA,IAAOpB,EAAOoB,QAElC,QACE,OAAOrB,ICJPgD,EAAe,CACnB1C,KAAM,GACNa,QAAS,GACT4B,SAAU,GACVxC,MAAO,KACPF,YAAY,EACZY,YAAY,EACZT,UAAW,MCvBEyC,EANE,CACfC,QD+Bc,WAAmC,IAAlClD,EAAiC,uDAAzBgD,EAAc/C,EAAW,uCAChD,OAAQA,EAAOC,MAEb,IPvCiC,wBOwCjC,IPvCiC,wBOwCjC,IPvCiC,wBOwC/B,OAAOH,EAAaC,EAAOC,GAE7B,IPxCgC,uBOyChC,IPxCgC,uBOyChC,IPxCgC,uBOyC9B,OAAOQ,EAAYT,EAAOC,GAE5B,IPzCiC,wBO0CjC,IPzCiC,wBO0CjC,IPzCiC,wBO0C/B,OAAOe,EAAahB,EAAOC,GAE7B,IP1C+B,sBO2C/B,IP1C+B,sBO2C/B,IP1C+B,sBO2C7B,OAAOiB,EAAWlB,EAAOC,GAE3B,IP3CuB,cO4CrB,OAAOoC,EAAWrC,EAAOC,GAE3B,IP5CiC,wBO6CjC,IP5CiC,wBO6CjC,IP5CiC,wBO6C/B,OAAO6C,EAAa9C,EAAOC,GAE7B,QACE,OAAOD,IC9DXmD,QCDc,WAGD,IAHEnD,EAGH,uDAHW,CACvBoD,MAAO,GACPF,QAAS,IACRjD,EAAW,uCACZ,OAAQA,EAAOC,MACb,ITY4B,mBSX1B,OAAOC,OAAOC,OAAO,GAAIJ,EAAO,CAC9BoD,MAAOnD,EAAOa,SAElB,ITS8B,qBSR5B,OAAOX,OAAOC,OAAO,GAAIJ,EAAO,CAC9BkD,QAASjD,EAAOa,SAEpB,QACE,OAAOd,IDZXqD,cELoB,WAAyB,IAAxBrD,EAAuB,uDAAf,GAAIC,EAAW,uCAC5C,OAAQA,EAAOC,MACb,IVqB6B,oBUpB3B,MAAM,CACJ,CACEmB,GAAIpB,EAAOoB,GACXiC,KAAMrD,EAAOqD,KACbC,MAAOtD,EAAOsD,MACdnB,UAAWnC,EAAOmC,YALtB,mBAOKpC,IAEP,QACE,OAAOA,K,iFCZPwD,EAAQ,SAAAC,GAAG,gBAAO,EAAIA,EAAX,OAEXC,EAAc,CAClBC,KAAM,SACNC,OAAQ,SAGJC,EAAqB,CACzBC,MAAO,GACPC,MAAO,IACPH,OAAQ,KAGJI,EAAc,CAClBF,MAAM,GAAD,OAAKD,EAAmBC,MAAxB,MACLC,MAAM,GAAD,OAAKF,EAAmBE,MAAxB,MACLH,OAAO,GAAD,OAAKC,EAAmBD,OAAxB,OAGFK,EAAQ,CACZC,MAAO,0BACPC,KAAM,YAGFC,EAAY,CAChBC,MAAO,UACPC,WAAY,UACZC,YAAa,UACbC,WAAY,UACZC,MAAO,UACPC,KAAM,UACNC,IAAK,WAGDC,EAAU,CACdhB,OAAO,OAAD,OAASJ,EAAM,GAAf,YAAqBA,EAAM,KAA3B,YAAoCqB,IAAUT,EAAUC,MAAO,KACrES,MAAM,KAAD,OAAOtB,EAAM,KAAb,YAAsBA,EAAM,IAA5B,cAAsCqB,IAAUT,EAAUC,MAAO,KACtEU,KAAK,KAAD,OAAOvB,EAAM,EAAI,GAAjB,gBAA2BqB,IAAUT,EAAUC,MAAO,KAC1DW,MAAM,OAAD,OAASxB,EAAM,GAAf,YAAqBA,EAAM,IAA3B,YAAmCqB,IAAUT,EAAUM,OAC5DO,aAAa,eAAD,OACFzB,EAAM,KADJ,YACaY,EAAUM,KADvB,sBAEJlB,EAAM,GAFF,cAEUqB,IAAUT,EAAUM,KAAM,GAFpC,4BAGElB,EAAM,IAHR,YAGeqB,IAAUT,EAAUM,KAAM,MAGjDQ,EAAc,CAClBC,QAAS,CACPC,KAAMC,IAAOC,MAAM,CAAClB,EAAUK,MAAOL,EAAUC,QAAQkB,KAAK,OAC5DtF,OAAQoF,IAAOC,MAAM,CAAClB,EAAUK,MAAOL,EAAUM,OAAOa,KAAK,OAC7DC,OAAQH,IAAOC,MAAM,CAAClB,EAAUK,MAAOL,EAAUO,MAAMY,KAAK,QAE9DE,OAAQ,CACNL,KAAMC,IAAOC,MAAM,CAAClB,EAAUI,WAAYJ,EAAUC,QAAQkB,KAAK,OACjEtF,OAAQoF,IAAOC,MAAM,CAAClB,EAAUI,WAAYJ,EAAUM,OAAOa,KAAK,OAClEC,OAAQH,IAAOC,MAAM,CAAClB,EAAUI,WAAYJ,EAAUO,MAAMY,KAAK,QAEnEG,SAAU,CACRN,KAAMC,IAAOC,MAAM,CAAClB,EAAUE,WAAYF,EAAUI,aAAae,KAAK,OACtEtF,OAAQoF,IAAOC,MAAM,CAAClB,EAAUE,WAAYF,EAAUM,OAAOa,KAAK,OAClEC,OAAQH,IAAOC,MAAM,CAAClB,EAAUE,WAAYF,EAAUO,MAAMY,KAAK,QAEnEI,eAAgB,CACdP,KAAMC,IAAOC,MAAM,CAAClB,EAAUG,YAAaH,EAAUI,aAAae,KAAK,OACvEtF,OAAQoF,IAAOC,MAAM,CAAClB,EAAUG,YAAaH,EAAUM,OAAOa,KAAK,OACnEC,OAAQH,IAAOC,MAAM,CAAClB,EAAUG,YAAaH,EAAUO,MAAMY,KAAK,SAIhEK,EAAgB,CACpBT,QAAS,CACPU,SAAUX,EAAYC,QAAQC,KAAK,GAAGU,MACtCC,cAAeb,EAAYC,QAAQC,KAAK,IAAKU,MAC7CE,WAAYd,EAAYC,QAAQC,KAAK,KAAMU,MAC3CG,UAAWf,EAAYC,QAAQC,KAAK,KAAMU,MAC1CI,OAAQhB,EAAYC,QAAQC,KAAK,GAAGU,MACpCK,iBAAkBjB,EAAYC,QAAQC,KAAK,GAAGU,MAC9CM,eAAgBlB,EAAYC,QAAQC,KAAK,GAAGU,MAE5CO,WAAYnB,EAAYC,QAAQlF,OAAO,GAAG6F,MAC1CQ,gBAAiBpB,EAAYC,QAAQlF,OAAO,IAAK6F,MACjDS,aAAcrB,EAAYC,QAAQlF,OAAO,KAAM6F,MAC/CU,YAAatB,EAAYC,QAAQlF,OAAO,KAAM6F,MAC9CW,SAAUvB,EAAYC,QAAQlF,OAAO,GAAG6F,MACxCY,mBAAoBxB,EAAYC,QAAQlF,OAAO,GAAG6F,MAClDa,iBAAkBzB,EAAYC,QAAQlF,OAAO,GAAG6F,MAEhDc,WAAY1B,EAAYC,QAAQK,OAAO,GAAGM,MAC1Ce,gBAAiB3B,EAAYC,QAAQK,OAAO,IAAKM,MACjDgB,aAAc5B,EAAYC,QAAQK,OAAO,KAAMM,MAC/CiB,YAAa7B,EAAYC,QAAQK,OAAO,KAAMM,MAC9CkB,SAAU9B,EAAYC,QAAQK,OAAO,GAAGM,MACxCmB,mBAAoB/B,EAAYC,QAAQK,OAAO,GAAGM,MAClDoB,iBAAkBhC,EAAYC,QAAQK,OAAO,GAAGM,OAElDL,OAAQ,CACNI,SAAUX,EAAYO,OAAOL,KAAK,GAAGU,MACrCC,cAAeb,EAAYO,OAAOL,KAAK,IAAKU,MAC5CE,WAAYd,EAAYO,OAAOL,KAAK,KAAMU,MAC1CG,UAAWf,EAAYO,OAAOL,KAAK,KAAMU,MACzCI,OAAQhB,EAAYO,OAAOL,KAAK,GAAGU,MACnCK,iBAAkBjB,EAAYO,OAAOL,KAAK,GAAGU,MAC7CM,eAAgBlB,EAAYO,OAAOL,KAAK,GAAGU,MAE3CO,WAAYnB,EAAYO,OAAOxF,OAAO,GAAG6F,MACzCQ,gBAAiBpB,EAAYO,OAAOxF,OAAO,IAAK6F,MAChDS,aAAcrB,EAAYO,OAAOxF,OAAO,KAAM6F,MAC9CU,YAAatB,EAAYO,OAAOxF,OAAO,KAAM6F,MAC7CW,SAAUvB,EAAYO,OAAOxF,OAAO,GAAG6F,MACvCY,mBAAoBxB,EAAYO,OAAOxF,OAAO,GAAG6F,MACjDa,iBAAkBzB,EAAYO,OAAOxF,OAAO,GAAG6F,MAE/Cc,WAAY1B,EAAYO,OAAOD,OAAO,GAAGM,MACzCe,gBAAiB3B,EAAYO,OAAOD,OAAO,IAAKM,MAChDgB,aAAc5B,EAAYO,OAAOD,OAAO,KAAMM,MAC9CiB,YAAa7B,EAAYO,OAAOD,OAAO,KAAMM,MAC7CkB,SAAU9B,EAAYO,OAAOD,OAAO,GAAGM,MACvCmB,mBAAoB/B,EAAYO,OAAOD,OAAO,GAAGM,MACjDoB,iBAAkBhC,EAAYO,OAAOD,OAAO,GAAGM,OAEjDJ,SAAU,CACRG,SAAUX,EAAYQ,SAASN,KAAK,GAAGU,MACvCC,cAAeb,EAAYQ,SAASN,KAAK,IAAKU,MAC9CE,WAAYd,EAAYQ,SAASN,KAAK,KAAMU,MAC5CG,UAAWf,EAAYQ,SAASN,KAAK,KAAMU,MAC3CI,OAAQhB,EAAYQ,SAASN,KAAK,GAAGU,MACrCK,iBAAkBjB,EAAYQ,SAASN,KAAK,GAAGU,MAC/CM,eAAgBlB,EAAYQ,SAASN,KAAK,GAAGU,MAE7CO,WAAYnB,EAAYQ,SAASzF,OAAO,GAAG6F,MAC3CQ,gBAAiBpB,EAAYQ,SAASzF,OAAO,IAAK6F,MAClDS,aAAcrB,EAAYQ,SAASzF,OAAO,KAAM6F,MAChDU,YAAatB,EAAYQ,SAASzF,OAAO,KAAM6F,MAC/CW,SAAUvB,EAAYQ,SAASzF,OAAO,GAAG6F,MACzCY,mBAAoBxB,EAAYC,QAAQlF,OAAO,GAAG6F,MAClDa,iBAAkBzB,EAAYQ,SAASzF,OAAO,GAAG6F,MAEjDc,WAAY1B,EAAYQ,SAASF,OAAO,GAAGM,MAC3Ce,gBAAiB3B,EAAYQ,SAASF,OAAO,IAAKM,MAClDgB,aAAc5B,EAAYQ,SAASF,OAAO,KAAMM,MAChDiB,YAAa7B,EAAYQ,SAASF,OAAO,IAAKM,MAC9CkB,SAAU9B,EAAYQ,SAASF,OAAO,GAAGM,MACzCmB,mBAAoB/B,EAAYC,QAAQK,OAAO,GAAGM,MAClDoB,iBAAkBhC,EAAYQ,SAASF,OAAO,GAAGM,OAEnDH,eAAgB,CACdE,SAAUX,EAAYS,eAAeP,KAAK,GAAGU,MAC7CC,cAAeb,EAAYS,eAAeP,KAAK,IAAKU,MACpDE,WAAYd,EAAYS,eAAeP,KAAK,KAAMU,MAClDG,UAAWf,EAAYS,eAAeP,KAAK,KAAMU,MACjDI,OAAQhB,EAAYS,eAAeP,KAAK,GAAGU,MAC3CK,iBAAkBjB,EAAYS,eAAeP,KAAK,GAAGU,MACrDM,eAAgBlB,EAAYS,eAAeP,KAAK,GAAGU,MAEnDO,WAAYnB,EAAYS,eAAe1F,OAAO,GAAG6F,MACjDQ,gBAAiBpB,EAAYS,eAAe1F,OAAO,IAAK6F,MACxDS,aAAcrB,EAAYS,eAAe1F,OAAO,KAAM6F,MACtDU,YAAatB,EAAYS,eAAe1F,OAAO,KAAM6F,MACrDW,SAAUvB,EAAYS,eAAe1F,OAAO,GAAG6F,MAC/CY,mBAAoBxB,EAAYC,QAAQlF,OAAO,GAAG6F,MAClDa,iBAAkBzB,EAAYS,eAAe1F,OAAO,GAAG6F,MAEvDc,WAAY1B,EAAYS,eAAeH,OAAO,GAAGM,MACjDe,gBAAiB3B,EAAYS,eAAeH,OAAO,IAAKM,MACxDgB,aAAc5B,EAAYS,eAAeH,OAAO,KAAMM,MACtDiB,YAAa7B,EAAYS,eAAeP,KAAK,KAAMU,MACnDkB,SAAU9B,EAAYS,eAAeH,OAAO,GAAGM,MAC/CmB,mBAAoB/B,EAAYC,QAAQK,OAAO,GAAGM,MAClDoB,iBAAkBhC,EAAYS,eAAeH,OAAO,GAAGM,QAqC5C,MAjCD,SAARqB,IAA8C,IAC9CC,EAD6C,yDAAJ,GAArB1B,EAAyB,EAAzBA,SAAUD,EAAe,EAAfA,OAMlC,OAJKC,GAAaD,IAAQ2B,EAASxB,EAAcT,UAC5CO,GAAYD,IAAQ2B,EAASxB,EAAcH,QAC5CC,IAAaD,IAAQ2B,EAASxB,EAAcF,UAC5CA,GAAYD,IAAQ2B,EAASxB,EAAcD,gBACxC,CACLnC,QACAS,QACAmD,SACAxC,UACAR,YACAV,cACAM,cACAH,qBACAgB,UAAWA,IACXwC,YAAiC,mBAAb3B,GAAyBA,EAC7C4B,UAA6B,mBAAX7B,GAAuBA,EACzC8B,QAAS,WAAyB,IAAfC,EAAc,uDAANC,KACzB,OAAO,IAAIN,EAAM,CACfzB,UAAW8B,EAAMH,YACjB5B,OAAQ+B,EAAMF,aAGlBI,OAAQ,WAAyB,IAAfF,EAAc,uDAANC,KACxB,OAAO,IAAIN,EAAM,CACfzB,SAAU8B,EAAMH,YAChB5B,QAAS+B,EAAMF,e,0CCzJVK,EAAoB,SAAApH,GAAK,MAAK,CACzCL,KZ/CmC,wBYgDnCM,UAAWoH,KAAKC,MAChBtH,UAeWuH,EAAmB,SAAAvH,GAAK,MAAK,CACxCL,KZ7DkC,uBY8DlCM,UAAWoH,KAAKC,MAChBtH,UAcWwH,EAAoB,SAAAxH,GAAK,MAAK,CACzCL,KZ1EmC,wBY2EnC8H,WAAYJ,KAAKC,MACjBtH,UAcW0H,EAAkB,SAAA5G,GAAE,MAAK,CACpCnB,KZvFiC,sBYwFjCmB,OAsBW6G,EAAoB,SAAC7G,EAAId,GAAL,MAAgB,CAC/CL,KZzGmC,wBY0GnCK,QACAc,OAgBW8G,GAAmB,SAAArH,GAM9B,OALAsH,SACGC,cAAc,6BACdA,cAAc,iBACdA,cAAc,SACd9F,MAAQzB,EACJ,CACLZ,KZ/H8B,qBYgI9BY,WAWSwH,GAAmB,SAAChF,EAAMC,GAAP,MAAkB,CAChDrD,KZ1I+B,oBY2I/BkC,UAAWwF,KAAKC,MAChBxG,GAAIkH,KACDC,MAAsB,KAAhBD,KAAKE,UACXC,SAAS,IACZpF,OACAC,U,0LCvKF,IAQeoF,GARCC,IAAOC,IAAV,MAIC,SAAAC,GAAC,OAAIA,EAAEtB,MAAM5C,QAAQhB,UACxB,SAAAkF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAChB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOlB,UCOb6C,G,iLAEjB,IAAMC,EAAQvB,KAAKuB,MACnB,OAAO,kBAAC,GAAD,CAASC,UAAU,cACvBD,EAAME,c,GAJ0BC,a,kRCbvC,IAkBeR,GAlBCC,IAAOC,IAAV,MCiBQO,G,iLAEjB,IAAMJ,EAAQvB,KAAKuB,MACbK,EAAML,EAAMK,KAAO,iBACnBC,EAAQN,EAAMM,OAAS,KACvBC,EAAe,CACnBC,gBAAgB,OAAD,OAASR,EAAMS,IAAf,KACfC,eAAgBV,EAAMW,QAAU,UAAY,QAC5CC,mBAAoBZ,EAAMa,UAAY,SACtCC,iBAAkBd,EAAMe,QAAU,YAClCC,OAAQhB,EAAMgB,OAAN,UAAkBhB,EAAMgB,OAAxB,MAAqC,KAC7CC,MAAOjB,EAAMiB,MAAN,UAAiBjB,EAAMiB,MAAvB,MAAmC,MAEtCC,EAAW,GACblB,EAAMgB,SAAQE,EAASF,OAAT,UAAqBhB,EAAMgB,OAA3B,OACdhB,EAAMiB,QAAOC,EAASD,MAAT,UAAoBjB,EAAMiB,MAA1B,OAGjB,IAAIE,EAAU,QAOd,OANInB,EAAMW,UAASQ,GAAW,oBAC1BnB,EAAMa,WAAUM,GAAW,qBAC3BnB,EAAMe,SAAQI,GAAW,mBACzBnB,EAAMiB,QAAOE,GAAW,sBACxBnB,EAAMgB,SAAQG,GAAW,uBAEtB,kBAAC,GAAD,CAASC,MAAOb,EAAcN,UAAWkB,GAC9C,yBACEV,IAAKT,EAAMS,IACXW,MAAOF,EACPb,IAAKA,EACLC,MAAOA,S,GA9BoBH,aCJdkB,G,iLAEjB,IAAMrB,EAAQvB,KAAKuB,MACnB,OAAoB,IAAhBA,EAAMzF,MAAoB,wBAAI0F,UAAU,WAAWD,EAAME,UACpC,IAAhBF,EAAMzF,MAAoB,wBAAI0F,UAAU,WAAWD,EAAME,UACzC,IAAhBF,EAAMzF,MAAoB,wBAAI0F,UAAU,WAAWD,EAAME,UACzC,IAAhBF,EAAMzF,MAAoB,wBAAI0F,UAAU,WAAWD,EAAME,UACzC,IAAhBF,EAAMzF,MAAoB,wBAAI0F,UAAU,WAAWD,EAAME,UACzC,IAAhBF,EAAMzF,MAAoB,wBAAI0F,UAAU,WAAWD,EAAME,UACtD,0BAAMD,UAAU,WAAWD,EAAME,c,GATZC,a,iUCbrC,IAeeR,GAfCC,IAAOC,IAAV,MAEE,SAAAC,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MACjB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MACnB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMvD,MAAMC,SACzB,SAAA4E,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOvB,YAIG,SAAAiD,GAAC,OAAIA,EAAEtB,MAAM9D,YAAYE,UAC1C,SAAAkF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,SACjB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MCGjB8G,G,iLAEjB,IAAMtB,EAAQvB,KAAKuB,MACnB,OAAO,kBAAC,GAAD,CAASC,UAAU,cACxB,kBAAC,GAAD,CAAS1F,MAAOyF,EAAMzF,OAAS,GAC5ByF,EAAME,e,GALwBC,a,sVCdvC,IAwBeR,GAxBCC,IAAOC,IAAV,MACC,SAAAC,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOlB,UAStB,SAAA4C,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAKd,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAGJ,SAAAsF,GAAC,OAAIA,EAAEtB,MAAM9D,YAAYE,UAE3C,SAAAkF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MCD3B+G,G,iLAEF,IAAMvB,EAAQvB,KAAKuB,MACnB,OAAO,kBAAC,GAAD,CAASC,UAAU,UACxB,kBAAC,GAAD,KACE,yBAAKuB,QAASxB,EAAMyB,QAAQ,kBAAC,GAAD,CAAOd,SAAO,EAACF,IAAI,2BAC/C,yBAAKe,QAASxB,EAAMyB,QAAQ,kBAAC,GAAD,uD,GANftB,aAYNuB,gBC/BY,SAAA1K,GAAK,MAAK,MAEP,SAAA2K,GAAQ,MAAK,CACzCF,OAAQ,SAAAG,GACND,EAASE,YAAK,UD2BHH,CAGbH,I,gYElCF,IA4Be5B,GA5BCC,IAAOE,EAAV,MAGE,SAAAA,GAAC,OAAIA,EAAEtB,MAAMvD,MAAME,QACnB,SAAA2E,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MACrB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MACvB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOvB,YAGd,SAAAiD,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,SAIvB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOrB,iBAQrB,SAAA+C,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOR,cAInB,SAAAkC,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOf,cCTVyE,G,iLAEjB,IAAM9B,EAAQvB,KAAKuB,MACfmB,EAAU,YAMd,OALInB,EAAMlE,QAAOqF,GAAW,oBACxBnB,EAAM+B,QAAOZ,GAAW,oBACxBnB,EAAMgC,SAAQb,GAAW,qBACzBnB,EAAMzI,QAAO4J,GAAW,oBACxBnB,EAAM/I,SAAQkK,GAAW,qBACtB,kBAAC,GAAD,CAASlB,UAAWkB,GACxBnB,EAAME,c,GAV0BC,a,yOChBvC,IAeeR,GAfCC,IAAOC,IAAV,MACF,SAAAC,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MACb,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,OACtB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOZ,eAE9B,SAAAsC,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOb,gBACpB,SAAAuC,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,QAIP,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOL,eAClB,SAAA+B,GAAC,OAAIA,EAAEtB,MAAMJ,OAAON,gBCIjBmE,G,iLAEjB,IAAMjC,EAAQvB,KAAKuB,MAGbmB,EAAU,CAAC,gBAIjB,OAHInB,EAAMxD,QAAQ2E,EAAQU,KAAK,uBAGxB,kBAAC,GAAD,CAAS5B,UAAWkB,EAAQe,KAAK,MAEpClC,EAAMxD,OACF,kBAAC,GAAD,CAAWV,OAAK,EAACvE,OAAK,GAAEyI,EAAME,UAC9B,kBAAC,GAAD,CAAWpE,OAAK,EAAC7E,QAAM,GAAE+I,EAAME,e,GAbDC,a,ggDCf1C,IAuGeR,GAvGCC,IAAOuC,OAAV,MACE,SAAArC,GAAC,OAAIA,EAAEtB,MAAMvD,MAAME,QACrB,SAAA2E,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MACjB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAExB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MACf,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOT,oBACzB,SAAAmC,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOV,sBAEzB,SAAAoC,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,OACnB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MACN,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MACtB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAM5C,QAAQG,QAW7B,SAAA+D,GAAC,OAAIA,EAAEtB,MAAM5C,QAAQG,QACrB,SAAA+D,GAAC,OAAIA,EAAEtB,MAAM5C,QAAQE,SAIhB,SAAAgE,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOrB,iBACf,SAAA+C,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOnB,aAI5B,SAAA6C,GAAC,OAAIA,EAAEtB,MAAM5C,QAAQG,QACrB,SAAA+D,GAAC,OAAIA,EAAEtB,MAAM5C,QAAQE,SAKlB,SAAAgE,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOH,sBACf,SAAA6B,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOF,oBAKrB,SAAA4B,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,QAEjB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MACjB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAC1B,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAEzB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,QACnB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAId,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOf,cAUpB,SAAAyC,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOR,cACf,SAAAkC,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOL,eAIzB,SAAA+B,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOrB,iBAKpB,SAAA+C,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOR,cC3DVwE,G,iLACR,IAAD,OACFpC,EAAQvB,KAAKuB,MAGbqC,EAA4C,kBAAnBrC,EAAMsC,SACjCtC,EAAMsC,SACN,GAGAnB,EAAU,SASd,OARInB,EAAMuC,UAASpB,GAAW,mBAC1BnB,EAAMwC,YAAWrB,GAAW,qBAC5BnB,EAAMyC,QAAOtB,GAAW,iBACxBnB,EAAM0C,OAAMvB,GAAW,gBACvBnB,EAAM2C,OAAMxB,GAAW,gBACvBnB,EAAMsC,WAAUnB,GAAW,oBAGxB,kBAAC,GAAD,CACLyB,QAAS5C,EAAMsC,SAAW,kBAAM,EAAKO,KAAKC,QAAS,KACnDtB,QAAUxB,EAAMsC,SAA2B,KAAhBtC,EAAMwB,QACjCuB,SAAW/C,EAAMsC,UAA6B,EAAlBtC,EAAM+C,SAClCC,IAAK,SAAAH,GAAU,EAAKA,KAAOA,GAC3BvC,MAAO+B,EACPpC,UAAWkB,GACVnB,EAAME,SACP,yBACED,UAAU,eACVI,IAAKL,EAAMK,IACXI,IAAKT,EAAM2C,Y,GA9BiBxC,a,o8BCjBpC,IAqDeR,GArDCC,IAAOC,IAAV,MAGM,SAAAC,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MACtB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAM5C,QAAQE,SAGb,SAAAgE,GAAC,OAAIA,EAAEtB,MAAMxD,YAAYJ,UAStC,SAAAkF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MCKxByI,G,YACJ,WAAajD,GAAQ,IAAD,8BAClB,4CAAMA,KACDkD,QAAU,EAAKA,QAAQC,KAAb,gBACf,EAAKC,KAAO,EAAKA,KAAKD,KAAV,gBACZE,WAAW,EAAKH,QAASlD,EAAMsD,SAJb,E,uEAQlB,IAAMC,EAAiB9E,KAAKuB,MAAMuD,eAC9B9E,KAAKoE,OACPpE,KAAKoE,KAAKW,UACPC,IAAI,kDACPJ,WAAW5E,KAAK2E,KAAMG,M,6BAKpB9E,KAAKoE,MACPpE,KAAKoE,KAAKW,UACPC,IAAI,iD,+BAIA,IAAD,OAEFC,EADQjF,KAAKuB,MACC0D,MACpB,MAAoB,UAAhBA,EAAMnJ,MACD,yBACLyI,IAAK,SAAAH,GAAU,EAAKA,KAAOA,GAC3B5C,UAAU,0CACV,kBAAC,GAAD,CAAczD,QAAM,GAAEkH,EAAMpJ,MAC5B,yBAAK2F,UAAU,+CACb,kBAAC,GAAD,CAAQwC,OAAK,EAACjB,QAAS/C,KAAKyE,QAASP,KAAK,0CAIvC,yBACLK,IAAK,SAAAH,GAAU,EAAKA,KAAOA,GAC3B5C,UAAU,0CACV,kBAAC,GAAD,KAAeyD,EAAMpJ,MACrB,yBAAK2F,UAAU,+CACb,kBAAC,GAAD,CAAQwC,OAAK,EAACjB,QAAS/C,KAAKyE,QAASP,KAAK,8C,GA1CrBxC,aAiDzBwD,G,iLAEF,IAAM3D,EAAQvB,KAAKuB,MAEbuD,EAAiB/E,EAAM3D,mBAAmBD,OAC1CgJ,EAAmB5D,EAAM3F,cAC5B3C,KAAI,SAAAgM,GACH,IAAMG,EAAWjF,KAAKC,MAAQ6E,EAAMtK,UAEpC,OANY,IAKkBmK,EAAiBM,EAAW,EAClC,KACjB,kBAAC,GAAD,CACLvK,IAAKoK,EAAMrL,GACXqL,MAAOA,EACPJ,QAVU,IAWVC,eAAgBA,OAGnBzL,QAAO,SAAA4L,GAAK,OAAIA,KAChBI,UACH,OAAO,kBAAC,GAAD,CAAS7D,UAAU,uBACvB2D,O,GApB0BzD,aAyBlBuB,gBCjGY,SAAA1K,GAAK,MAAK,CACnCqD,cAAerD,EAAMqD,kBAGO,SAAAsH,GAAQ,MAAK,KD6F5BD,CAGbiC,I,gRElGF,IAaehE,GAbCC,IAAOC,IAAV,MACI,SAAAC,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MACtB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAM5C,QAAQE,SACrB,SAAAgE,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOlB,UAI9B,SAAA4C,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,QACnB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOpB,cAGb,SAAA8C,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,SCETuJ,G,iLAEjB,IAAM/D,EAAQvB,KAAKuB,MACnB,OAAO,kBAAC,GAAD,CAASC,UAAU,cACvBD,EAAME,c,GAJ0BC,a,yOCbvC,IAWeR,GAXCC,IAAOC,IAAV,MAEE,SAAAC,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,QACjB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MACnB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMvD,MAAME,QACzB,SAAA2E,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOvB,YCSVmH,G,iLAEjB,IAAMhE,EAAQvB,KAAKuB,MACnB,OAAO,kBAAC,GAAD,CAASC,UAAU,eACxB,kBAAC,GAAD,CAAS1F,MAAOyF,EAAMzF,OAAS,GAC5ByF,EAAME,e,GALyBC,a,6mBCdxC,IAmCeR,GAnCCC,IAAOC,IAAV,MAKU,SAAAC,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAC9B,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,OACd,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,OAAO,MACrB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,OAAO,MAIpB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAIhB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAKnB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAC1B,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MACf,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MASjB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MCV/ByJ,G,iLAEF,IAAMjE,EAAQvB,KAAKuB,MAEnB,OAAO,kBAAC,GAAD,CAASC,UAAU,kBAAkBuB,QAASxB,EAAMkE,iBACzD,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEzD,IAAKT,EAAMmE,MACXtD,SAAS,SACTR,IAAI,iBACJC,MAAM,mBACR,yBAAKL,UAAU,4BACb,kBAAC,GAAD,KAAaD,EAAMoE,MACnB,kBAAC,GAAD,KAAYpE,EAAMqE,aAClB,yBAAKpE,UAAU,4BACb,kBAAC,GAAD,CAAQuB,QAASxB,EAAMsE,cAAevB,SAAS,KAAKN,OAAK,GAAzD,aACA,kBAAC,GAAD,CAAQjB,QAASxB,EAAMkE,gBAAiBnB,SAAS,MAAjD,oB,GAhBgB5C,aAwBbuB,gBCvCY,SAAA1K,GAAK,MAAK,MAEP,SAAC2K,EAAU3B,GAAX,MAAsB,CAClDkE,gBAAiB,SAAAtC,GACfA,EAAE2C,kBACF5C,E1B2DsC,CACxCzK,KZlEmC,0BsCOjCsN,MAAM,sBAAD,OAAuBxE,EAAM9I,OAAQuN,MAAK,SAAAC,GAC7C,GAAIA,EAAEC,GAAI,OAAOD,EAAEE,OACnB,MAAM,IAAIC,MAAJ,gBAAmBH,EAAEI,OAArB,aAAgCJ,EAAEK,gBACvCN,MAAK,SAAAO,GACN,GAAKA,EAAIC,IAIF,CACLtD,EAAS5C,KACT,IAAM2E,EAAK,mDAA4C1D,EAAM9I,KAAlD,uCAAkF8N,EAAIC,KACjGtD,EAASrC,GAAiBoE,EAAO,eANjC/B,G1ByD2BhK,E0BzDEqN,EAAIE,K1ByDK,CAC5ChO,KZrEmC,wBYsEnC8H,WAAYJ,KAAKC,MACjBlH,Y0B3DMgK,EAASrC,GAAiB,4CAC1BqC,EAASE,YAAK,SAAD,OAAUmD,EAAIE,KAAKhO,KAAnB,YAA2B8N,EAAIE,KAAKtN,O1BuDtB,IAAAD,K0BjD5BwN,OAAM,SAAAF,GACPtD,EAAS5C,KACT,IAAM2E,EAAK,mDAA4C1D,EAAM9I,KAAlD,uCAAkF+N,EAAIG,SACjGzD,EAASrC,GAAiBoE,EAAO,cAGrCY,cAAe,SAAA1C,GACbA,EAAE2C,kBACF5C,EAASxC,GAAiBa,EAAM9I,WDYrBwK,CAGbuC,I,mQEjDF,IAWetE,GAXCC,IAAOC,IAAV,MAEF,SAAAC,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOvB,YACd,SAAAiD,GAAC,OAAIA,EAAEtB,MAAMvD,MAAME,QACrB,SAAA2E,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MACjB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MCSf6K,G,iLAEjB,IAAMrF,EAAQvB,KAAKuB,MACnB,OAAO,kBAAC,GAAD,CAASC,UAAU,mBACxB,kBAAC,GAAD,CAAS1F,MAAOyF,EAAMzF,OAAS,GAC5ByF,EAAME,e,GAL6BC,a,4pFCd5C,IA8IeR,GA9ICC,IAAOC,IAAV,MAQM,SAAAC,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAc3B,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAClB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MACb,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAElB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAGhC,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,QACnB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOpB,cAaV,SAAA8C,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOpB,cAYxB,SAAA8C,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MACZ,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MACtB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOpB,cAUxB,SAAA8C,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAMnB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,SACZ,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,QACtB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOpB,cAkCpB,SAAA8C,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOnB,aAKpB,SAAA6C,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MCtF7B8K,G,YACJ,aAAgB,IAAD,8BAIb,+CACKtO,MAAQ,CACXuO,OAAQ,CACU,EAAhBhG,KAAKE,SAAe,GAAK,IACT,GAAhBF,KAAKE,SAAgB,GAAK,IACV,GAAhBF,KAAKE,SAAgB,GAAK,IACV,GAAhBF,KAAKE,SAAgB,GAAK,MAVjB,E,sEAgBb,IAAMO,EAAQvB,KAAKuB,MACbhJ,EAAQyH,KAAKzH,MAGbwO,EAAe,SAAApM,GAAS,OAAIA,EAC9BqM,KAAOrM,EAAW,KACjBsM,OAAO,MACPC,OAAO,gBACPC,cAAgB,MACfC,EAAUL,EAAaxF,EAAM6F,SAC7BC,EAAUN,EAAaxF,EAAM8F,SAC7BC,EAAYP,EAAaxF,EAAM+F,WAG/BC,EAAO,CACXC,IAAI,GAAD,OAAKjG,EAAM9I,KAAX,iBAAwB8I,EAAMkG,QACjCC,KAAK,iBAAD,OAAaN,IAEfE,EAAWC,EAAKG,MAAL,yBAA4BJ,GAClCD,IAASE,EAAKG,MAAL,6BAAgCL,IAGlD,IAAI3E,EAAU,oBAEd,OADInB,EAAMoG,UAASjF,GAAW,8BACvB,kBAAC,GAAD,CAASlB,UAAWkB,EAASkF,IAAKrG,EAAMsG,SAAU9E,QAASxB,EAAMuG,kBACtE,kBAAC,GAAD,KACE,yBAAKtG,UAAU,0BACb,yBAAKA,UAAU,yCACf,yBAAKA,UAAU,wCACb,yBAAKmB,MAAO,CAAEH,MAAOjK,EAAMuO,OAAO,MAClC,yBAAKnE,MAAO,CAAEH,MAAOjK,EAAMuO,OAAO,OAEpC,yBAAKtF,UAAU,4BACb,kBAAC,GAAD,CAAOY,SAAS,SAASJ,IAAKT,EAAMmE,SAEtC,yBAAKlE,UAAU,4BACb,kBAAC,GAAD,KAAiBD,EAAMM,SAG3B,yBAAKL,UAAU,6BACb,yBAAKA,UAAU,uCACb,yBAAKmB,MAAO,CAAEH,MAAOjK,EAAMuO,OAAO,MAClC,yBAAKnE,MAAO,CAAEH,MAAOjK,EAAMuO,OAAO,OAEpC,yBAAKtF,UAAU,2BACb,kBAAC,GAAD,CAAW8B,OAAK,EAACjG,OAAK,GAAEkK,EAAKC,IAAI,6BAAOD,EAAKG,OAE/C,yBAAKlG,UAAU,8BACb,kBAAC,GAAD,CAAQuB,QAASxB,EAAMlG,aAAc2I,OAAK,EAACD,WAAS,GAApD,aACA,kBAAC,GAAD,CAAQhB,QAASxB,EAAMuG,kBAAvB,oC,GAlEkBpG,aA0EfuB,gBChGY,SAAA1K,GAAK,MAAK,MAEP,SAAC2K,EAAU3B,GAAX,MAAsB,CAClDuG,iBAAkB,SAAA3E,GAChBA,EAAE2C,kBACF5C,EACEE,YAAK,SAAD,OAAU7B,EAAM9I,KAAhB,YAAwB8I,EAAMsG,aAGtCxM,aAAc,SAAA8H,IACZA,EAAE2C,kBACGiC,OAAOC,QAAQ,2DACpB9E,E/B8FsC,CACxCzK,KZjGmC,wBYkGnCmB,G+BhG+B2H,EAAMsG,WACnC9B,MAAM,sBAAD,OAAuBxE,EAAMsG,UAAY,CAC5CI,OAAQ,WACPjC,MAAK,SAAAC,GACN,GAAIA,EAAEC,GAAI,OAAOD,EAAEE,OACnB,MAAM,IAAIC,MAAJ,gBAAmBH,EAAEI,OAArB,aAAgCJ,EAAEK,gBACvCN,MAAK,SAAAO,GACN,GAAKA,EAAIC,IAGF,CACLtD,EAASzC,EAAkBc,EAAMsG,SAAUtB,EAAIC,MAC/C,IAAMvB,EAAK,uEAAgEsB,EAAIC,KAC/EtD,EAASrC,GAAiBoE,EAAO,eALjC/B,E/B2F2B,SAAAtJ,GAAE,MAAK,CACxCnB,KZrGmC,wBYsGnCmB,M+B7FesO,CAAoB3B,EAAIE,OACjCvD,EAASrC,GAAiB,gDAM3B6F,OAAM,SAAAF,GACPtD,EAASzC,EAAkBc,EAAMsG,SAAUrB,IAC3C,IAAMvB,EAAK,uEAAgEuB,EAAIG,SAC/EzD,EAASrC,GAAiBoE,EAAO,kBDkExBhC,CAGb4D,I,0PEzGF,IAWe3F,GAXCC,IAAOgH,MAAV,MAGJ,SAAA9G,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOrB,iBACd,SAAA+C,GAAC,OAAIA,EAAEtB,MAAMvD,MAAME,QACrB,SAAA2E,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,QACjB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAGjB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MCIfqM,G,iLAEjB,IAAM7G,EAAQvB,KAAKuB,MACnB,OAAO,kBAAC,GAAD,CAASC,UAAU,eACvBD,EAAME,c,GAJ2BC,a,itBCbxC,IA4CeR,GA5CCC,IAAOC,IAAV,MAWD,SAAAC,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAChB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MACvB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOvB,YACd,SAAAiD,GAAC,OAAIA,EAAEtB,MAAMvD,MAAME,QACrB,SAAA2E,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MACjB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAEX,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,QACnB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOpB,cAC7B,SAAA8C,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOlB,UACT,SAAA4C,GAAC,OAAIA,EAAEtB,MAAMxD,YAAYD,SAIpC,SAAA+E,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOnB,aAIzB,SAAA6C,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOrB,iBCXV+J,G,YACnB,aAAgB,IAAD,8BACb,+CACKC,SAAW,EAAKA,SAAS5D,KAAd,gBAFH,E,sEAKL1I,GACRgE,KAAKuI,MAAMzN,MAAQkB,EACnBgE,KAAKwI,gB,+BAGI,IAAD,OACFjH,EAAQvB,KAAKuB,MACfmB,EAAU,aACVnB,EAAM4G,QAAOzF,GAAW,0BAO5B,OAAO,kBAAC,GAAD,CAASlB,UAAWkB,GACzB,kBAAC,GAAD,KAAanB,EAAM4G,OACnB,2BACE1P,KAAK,OACLqC,MAAOyG,EAAMzG,MACb2N,SAAUlH,EAAMkH,SAChBtE,QAAS5C,EAAM4C,QACfuE,OAAQnH,EAAMmH,OACd3F,QAASxB,EAAMwB,QACf4F,WAdmB,SAAAxF,GACjB5B,EAAMoH,YAAYpH,EAAMoH,WAAWxF,GACnC5B,EAAMqH,aAAyB,UAAVzF,EAAEtI,KAAiB,EAAK0N,MAAMlE,QAarDwE,YAAatH,EAAMsH,YACnBC,aAAcvH,EAAMuH,aACpBvE,IAAK,SAAAH,GAAU,EAAKmE,MAAQnE,U,GAjCG1C,a,ipBClBvC,IAsCeR,GAtCCC,IAAOC,IAAV,MAWF,SAAAC,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MASZ,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,QACnB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOpB,cACnB,SAAA8C,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,QACtB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOnB,aACrB,SAAA6C,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MACtB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MCTVgN,G,iLACR,IAAD,OACFxH,EAAQvB,KAAKuB,MACbyH,EAAWhJ,KAAKoE,KAAOpE,KAAKoE,KAAKxD,cAAc,SAAW,KAC1DqI,EAAaD,EAAWA,EAASlO,MAAQ,KAGzCoO,EAAa,SAAA/F,GAAC,OAAI6F,EAASzL,SAS7BmF,EAAU,CAAC,gBAMf,OALKuG,GAAe1H,EAAMzG,OACxB4H,EAAQU,KAAK,sBAIR,kBAAC,GAAD,CACL5B,UAAWkB,EAAQe,KAAK,KACxBc,IAAK,SAAAH,GAAU,EAAKA,KAAOA,IAC3B,kBAAC,GAAD,CACEtJ,MAAOyG,EAAMzG,MACb2N,SAAUlH,EAAMkH,SAChBtE,QAAS5C,EAAM4C,QACfuE,OAAQnH,EAAMmH,OACd3F,QAASxB,EAAMwB,QACf8F,YAAatH,EAAMsH,YACnBC,aAAcvH,EAAMuH,eACtB,yBAAKtH,UAAU,iCACb,kBAAC,GAAD,CACEI,IAAI,kBACJmB,QAASmG,EACThF,KAAK,iCAET,yBAAK1C,UAAU,4BACb,kBAAC,GAAD,CACEI,IAAI,aACJmB,QAjCa,SAAAI,GACjB6F,EAASlO,MAAQ,GACjBoO,IAHqBF,EAAS3E,QAmC1BH,KAAK,iC,GA3C0BxC,a,+gJCfzC,IAqQeR,GArQCC,IAAOC,IAAV,MAQC,SAAAC,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOlB,UAejB,SAAA4C,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MACjB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAM1B,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MACpB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MACP,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAC3B,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,OAQlB,SAAAsF,GAAC,OAAIjE,IAAUiE,EAAEtB,MAAMJ,OAAOlB,OAAQ,OAQ1C,SAAA4C,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAQhB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAG5B,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,QACnB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOpB,cAMX,SAAA8C,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,QAKnB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,OAcrB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAKlB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAClB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,OAgCd,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAOtB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAKxB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAWT,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MACtB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAIpB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAIlB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAGN,SAAAsF,GAAC,OAAIA,EAAEtB,MAAM9D,YAAYC,QAYzB,SAAAmF,GAAC,OAAIA,EAAEtB,MAAM9D,YAAYE,UAKtC,SAAAkF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MCnLzBoN,GAAW,CACtB,QACA,WACA,oBACA,mBACA,kBAGWC,GAAuB,CAClC,CAAEjB,MAAO,eAAgBrN,MAAO,cAAe+I,UAAU,EAAMwF,UAAU,GACzE,CAAElB,MAAO,gBAAiBrN,MAAOqO,GAAS,IAC1C,CAAEhB,MAAO,oBAAqBrN,MAAOqO,GAAS,IAC9C,CAAEhB,MAAO,WAAYrN,MAAOqO,GAAS,IACrC,CAAEhB,MAAO,uBAAkBrN,MAAOqO,GAAS,IAC3C,CAAEhB,MAAO,sBAAiBrN,MAAOqO,GAAS,K,2wBCZ5C,IA+CejI,GA/CCC,IAAOC,IAAV,MAYD,SAAAC,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAChB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MACvB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOvB,YACd,SAAAiD,GAAC,OAAIA,EAAEtB,MAAMvD,MAAME,QACrB,SAAA2E,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MACjB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAEX,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,QACnB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOpB,cAC7B,SAAA8C,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOlB,UACT,SAAA4C,GAAC,OAAIA,EAAEtB,MAAMxD,YAAYD,SAIpC,SAAA+E,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOnB,aAiBvB,SAAA6C,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOrB,iBCxBZgL,G,YACnB,WAAa/H,GAAQ,IAAD,sBAClB,4CAAMA,IACN,IACMgI,GADUhI,EAAMiI,SAAW,IACCnQ,QAAO,SAAAoQ,GAAM,OAAIA,EAAOJ,UAAYI,EAAO5F,YAAU,GAHrE,OAIlB,EAAKyE,SAAW,EAAKA,SAAS5D,KAAd,gBAChB,EAAKgF,gBAAkB,EAAKA,gBAAgBhF,KAArB,gBACvB,EAAKnM,MAAQ,CAAEsQ,YAAaU,GANV,E,sEASVvN,GACRgE,KAAKuI,MAAMzN,MAAQkB,I,+BAGV,IAAD,OACFuF,EAAQvB,KAAKuB,MACbhJ,EAAQyH,KAAKzH,MACbiR,EAAUjI,EAAMiI,SAAW,GAC3BG,EAAgBH,EAAQnQ,QAAO,SAAAoQ,GAAM,OAAIA,EAAOJ,YAAU,GAC1DP,EAAea,EAAgBA,EAAc7O,WAAQ1B,EAErDsJ,EAAU,CAAC,eAYjB,OAXInB,EAAM4G,OAAOzF,EAAQU,KAAK,0BAC1B7B,EAAMsC,UAAUnB,EAAQU,KAAK,wBAC7B7K,EAAMsQ,cAEN7I,KAAKuI,OACLvI,KAAKuI,MAAMzN,OACXkF,KAAKuI,MAAMzN,QAAUvC,EAAMsQ,YAAY/N,MACvC4H,EAAQU,KAAK,oCACHpD,KAAKuI,OAAO7F,EAAQU,KAAK,qCAGhC,kBAAC,GAAD,CAAS5B,UAAWkB,EAAQe,KAAK,MACtC,kBAAC,GAAD,KAAalC,EAAM4G,OACnB,4BACEW,aAAcA,EACdjF,SAAUtC,EAAMsC,SAChB4E,SAAUzI,KAAK0J,gBACfvF,QAAS5C,EAAM4C,QACfuE,OAAQnH,EAAMmH,OACd3F,QAASxB,EAAMwB,QACfwB,IAAK,SAAAH,GAAU,EAAKmE,MAAQnE,IAC1BoF,EAAQvQ,KAAI,SAAAwQ,GAEV,OADKA,EAAO3O,OAAO8O,QAAQ9Q,MAAM,8BAC1B,4BACL+B,IAAK4O,EAAO3O,MACZ+I,SAAU4F,EAAO5F,SACjBsE,MAAOsB,EAAOtB,MACdrN,MAAO2O,EAAO3O,OACb2O,EAAOtB,c,sCAOHhF,GACf,IAAM5B,EAAQvB,KAAKuB,MAEnB,GADAvB,KAAK6J,SAAS,CAAEhB,aAAa,IACxBtH,EAAMkH,UACmB,oBAAnBlH,EAAMkH,SACjB,OAAOlH,EAAMkH,SAAStF,O,GA9DczB,aCrBzB,M,quOCGf,IAAMuE,GAAI,oBAEK9E,OAAOC,IAAtB,KAWE6E,GAUAA,GASAA,GAOAA,GAMAA,GAEwB6D,KAMxB7D,GAqBAA,GAcAA,GAOAA,GAMAA,GAgBAA,GAaAA,GAYAA,GAMAA,GAMAA,GAoBAA,GAUAA,GACEA,GAQFA,GACEA,GASFA,GAUAA,GACEA,GAQFA,GACEA,GASFA,GAUAA,GACEA,GAKFA,GACEA,GAMFA,GACEA,GAIFA,GACEA,GAKFA,GAUAA,GACEA,GAeFA,GACAA,GACAA,GACAA,GACAA,GAKCA,GACCA,GAIDA,GACCA,GAIDA,GAAkBA,GACjBA,GAIDA,GAAkBA,GACjBA,GAIDA,GAAkBA,GACjBA,GAKDA,GACCA,GAIDA,GACCA,GAIDA,GAA2BA,GAC1BA,GAMDA,GACCA,GAIDA,GAAqBA,GACpBA,GAKDA,GACCA,GAIDA,GACCA,GAKDA,GACCA,ICtWiB8D,G,iLACR,IACDxI,EAAUvB,KAAVuB,MACAyI,EAAYzI,EAAZyI,QACFnI,EAAQN,EAAMM,OAAS,GACvBhG,EAAO0F,EAAM1F,MAAQ,GACrB6J,EAAQnE,EAAMmE,OAAS,GACvBuE,EAAmB1I,EAAM0I,kBAAoB,GAC7CC,EAAkB3I,EAAM2I,gBACxBC,EAAO5I,EAAM4I,MAAQ,GAGrBlE,EAAC,mBACDvD,EAAU,CAACuD,EAAD,UAAOA,EAAP,YAAY+D,EAAZ,aACZnI,EAAMuI,QAAQ1H,EAAQU,KAAR,UAAgB6C,EAAhB,kBACdkE,EAAKC,QAAQ1H,EAAQU,KAAR,UAAgB6C,EAAhB,iBAGjB,IAAMoE,EACyC,kBAAlCC,SAASJ,EAAiB,IAAyB,GACvD,CACLK,IAAI,GAAD,OAAKL,EAAkB,IAAlB,KAAuC,IAA5C,MACHM,UAAU,oBAAD,OAAsBN,EAAtB,OAGPO,EACyC,kBAAlCH,SAASJ,EAAiB,IAAyB,GACvD,CACLK,IAAI,GAAD,OAAKL,EAAkB,IAAlB,KAAuC,IAA5C,MACHM,UAAU,oBAAD,OAAsBN,EAAtB,OAIPQ,GADY7O,EAAKf,OAAS,IACG6P,MAAM,eAEnCC,GADa/I,EAAM/G,OAAS,IACG6P,MAAM,eACrCE,EAAoB,GAC1BD,EAAkBE,SAAQ,SAACC,EAAMC,GAC/BH,EAAkBzH,KAAK2H,GACnBC,EAAIJ,EAAkBzP,OAAS,GAAG0P,EAAkBzH,KAAK,wBAAIvI,IAAG,YAAOmQ,SAE7E,IAAMC,EAAmB,GACzBP,EAAiBI,SAAQ,SAACC,EAAMC,GAC9BC,EAAiB7H,KAAK2H,GAClBC,EAAIN,EAAiBvP,OAAS,GAAG8P,EAAiB7H,KAAK,wBAAIvI,IAAG,YAAOmQ,SAI3E,IAAME,EAAyBjB,GAC5BA,EAAiB9O,OAEhB,GADA,CAAE4G,gBAAgB,QAAD,OAAUoJ,KAAV,OAEfC,GAAuB1F,GAAUA,IAAUA,EAAM1D,IACnD,CAAEQ,MAAO,IACTD,OAAQ,IACRR,gBAAgB,OAAD,OAASsJ,KAAT,MAEf,GACEC,EAAiCzJ,EAAM/G,MACzC+P,EACA,0BAAMlI,MAAO,CAAE4I,MAAO,QAASC,QAAS,KAAxC,SACEC,EAAqC5J,EAAM/G,MAC7C+P,EACA,0BAAMlI,MAAO,CAAE4I,MAAO,QAASC,QAAS,KAAxC,SACEE,EAAqC7J,EAAM/G,MAC7C+P,EACA,0BAAMlI,MAAO,CAAE4I,MAAO,YAAtB,wBACEI,EAAgC9P,EAAKf,MACvCmQ,EACA,0BAAMtI,MAAO,CAAE4I,MAAO,YAAtB,qBACEK,EAAoC/P,EAAKf,MAC3CmQ,EACA,0BAAMtI,MAAO,CAAE4I,MAAO,YAAtB,qBACEM,EAAoChQ,EAAKf,MAC3CmQ,EACA,0BAAMtI,MAAO,CAAE4I,MAAO,YAAtB,yBACEO,EAAmCjQ,EAAKf,MAC1CmQ,EACA,0BAAMtI,MAAO,CAAE4I,MAAO,YAAtB,qBAGJ,OAAO,kBAAC,IAAD,CAAexL,MAAOA,IAC3B,kBAAC,GAAD,CACEyB,UAAWkB,EAAQe,KAAK,MAGxB,yBAAKsI,gBAAc,oBACjBvK,UAAS,UAAKyE,EAAL,uBACTtD,MAAOuI,GACNjB,EAAiBhR,KAAI,SAAC+S,EAAOhB,GAAR,OAAc,yBAClCnQ,IAAKmQ,EACLxJ,UAAS,UAAKyE,EAAL,sBACTtD,MAAO,CACLZ,gBAAgB,QAAD,OAAUiK,EAAMhK,IAAhB,MACfC,eAAe,GAAD,OAAK+J,EAAMC,MAAQ,KAAnB,MACd9J,mBAAmB,qBAAD,OACd6J,EAAM5J,SAAS8J,EAAI,IAAMF,EAAM5J,SAAS8J,EAAI,GAD9B,8BAEdF,EAAM5J,SAAS+J,GAAK,GAFN,YAOxB,yBAAKxJ,MAAO0H,EAAsB7I,UAAS,UAAKyE,EAAL,oBACzC,yBAAKzE,UAAS,UAAKyE,EAAL,iBACZ,0BAAM8F,gBAAc,SACjBT,IAGL,yBAAK9J,UAAS,UAAKyE,EAAL,yBACZ,yBACE8F,gBAAc,OACdvK,UAAS,UAAKyE,EAAL,wBAAsBA,EAAtB,qBACR0F,KAMP,yBAAKnK,UAAS,UAAKyE,EAAL,6BACZ,yBACE8F,gBAAc,QACdvK,UAAS,UAAKyE,EAAL,WACTtD,MAAOyI,GACL1F,EAAM1D,IACF,yBAAKA,IAAK0D,EAAM1D,IAAKJ,IAAI,uBACzB,IAER,yBAAKJ,UAAS,UAAKyE,EAAL,qBACZ,yBACE8F,gBAAc,QACdvK,UAAS,UAAKyE,EAAL,kBACRwF,GAEH,yBACEM,gBAAc,OACdvK,UAAS,UAAKyE,EAAL,gBACR2F,KAMP,yBAAKpK,UAAS,UAAKyE,EAAL,wBAGd,yBAAKzE,UAAS,UAAKyE,EAAL,gCACZ,yBAAKzE,UAAS,UAAKyE,EAAL,iBACZ,yBAAKjE,IAAKoK,KAAexK,IAAI,wBAE/B,yBAAKJ,UAAS,UAAKyE,EAAL,uBACZ,yBACE8F,gBAAc,QACdvK,UAAS,UAAKyE,EAAL,YACRyF,GAEH,yBACEK,gBAAc,OACdvK,UAAS,UAAKyE,EAAL,mBACR4F,KAMP,yBACElJ,MAAO8H,EACPjJ,UAAS,UAAKyE,EAAL,+BACT,yBACE8F,gBAAc,OACdvK,UAAS,UAAKyE,EAAL,iBACR6F,IAKL,yBAAKtK,UAAS,UAAKyE,EAAL,qBACZ,yBAAKjE,IAAK8H,KAAUlI,IAAI,wB,GAhLUF,a,4mBCV5C,IAEeP,OAAOC,IAAtB,MACc,SAAAC,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOlB,UACjB,SAAA4C,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAEhC,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,QACnB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOpB,cAEb,SAAA8C,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MACZ,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAKf,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMxD,YAAYD,QAfrC,uDAiCM,SAAA+E,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAEd,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,KAnC9B,mBCoBJsQ,G,YACJ,WAAa9K,GAAQ,IAAD,8BAClB,4CAAMA,KACDhJ,MAAQ,CAAE+T,QAAQ,GACvB,EAAKC,kBAAoB,CACvBC,UAAWjL,EAAMkL,QAAUlL,EAAMkL,QAAQ9J,MAAM6J,UAAY,GAC3DE,OAAQnL,EAAMkL,QAAUlL,EAAMkL,QAAQ9J,MAAM+J,OAAS,IAEvD,EAAKC,eAAiB,EAAKA,eAAejI,KAApB,gBACtB,EAAKkI,iBAAmB,EAAKA,iBAAiBlI,KAAtB,gBACxB,EAAKmI,SAAW,EAAKA,SAASnI,KAAd,gBAChB,EAAKoI,WAAa,EAAKA,WAAWpI,KAAhB,gBAClB,EAAKqI,0BAA4B,EAAKA,0BAA0BrI,KAA/B,gBACjC,EAAKsI,0BAA4B,EAAKA,0BAA0BtI,KAA/B,gBAC7BnD,EAAMkL,UACRlL,EAAMkL,QAAQQ,iBAAiB,aAAc,EAAKF,2BAClDxL,EAAMkL,QAAQQ,iBAAiB,aAAc,EAAKD,2BAClDzL,EAAMkL,QAAQQ,iBAAiB,QAAS,EAAKJ,WAhB7B,E,iFAqBlB,OAAI7M,KAAKzH,MAAM+T,OAAetM,KAAK2M,iBAC5B3M,KAAK4M,qB,2CAIZ,OAAI5M,KAAKzH,MAAM+T,OAAetM,KAAK2M,iBAC5B3M,KAAK4M,qB,6CAGW,IACfrL,EAAUvB,KAAVuB,MACJA,EAAMkL,UACRlL,EAAMkL,QAAQS,oBAAoB,aAAclN,KAAK2M,gBACrDpL,EAAMkL,QAAQS,oBAAoB,aAAclN,KAAK4M,kBACrDrL,EAAMkL,QAAQS,oBAAoB,QAASlN,KAAK6M,a,+BAIzC,IAAD,OACF5G,EAAI,iBACJvD,EAAU,CAACuD,GAEjB,OADKjG,KAAKzH,MAAM+T,QAAQ5J,EAAQU,KAAR,UAAgB6C,EAAhB,cACjB,kBAAC,IAAD,CAAelG,MAAO,SAAAA,GAAK,OAAIA,EAAME,WAC1C,kBAAC,GAAD,CACEsE,IAAK,SAAAH,GAAU,EAAK+I,SAAW/I,GAC/B5C,UAAWkB,EAAQe,KAAK,MACxB,yBAAKjC,UAAS,UAAKyE,EAAL,YACZ,kBAAC,GAAD,KAAiBjG,KAAKuB,MAAMM,QAE9B,yBAAKL,UAAS,UAAKyE,EAAL,YACZ,kBAAC,GAAD,CACE/B,KAAK,yBACLnB,QAAS/C,KAAK8M,cAElB,yBAAKtL,UAAS,UAAKyE,EAAL,eACXjG,KAAKuB,MAAME,c,kDAObzB,KAAKzH,MAAM+T,QAAQtM,KAAK2M,mB,kDAIxB3M,KAAKzH,MAAM+T,QAAQtM,KAAK4M,qB,uCAGZ,IAAD,EACsB5M,KAA9BuB,MAASkL,EADD,EACCA,QAAS1M,EADV,EACUA,MACtB0M,IACFA,EAAQ9J,MAAM6J,UAAYzM,EAAM5C,QAAQK,aACxCiP,EAAQ9J,MAAM+J,OAAS,a,yCAIN,IAEjBH,EAEEvM,KAFFuM,kBACSE,EACPzM,KADFuB,MAASkL,QAEPA,IACFA,EAAQ9J,MAAM6J,UAAYD,EAAkBC,UAC5CC,EAAQ9J,MAAM+J,OAASH,EAAkBG,U,iCAIhC,IACHS,EAAoCnN,KAApCmN,SAAmBC,EAAiBpN,KAA1BuB,MAAS6L,WACvBA,GAAoC,oBAAfA,GAA2BA,IACpDpN,KAAK6J,SAAS,CAAEyC,QAAQ,IACxB1H,YAAW,WACJuI,GACAA,EAASvM,cAAc,UACvBuM,EAASvM,cAAc,SAASrD,OACrC4P,EAASvM,cAAc,SAASrD,UAC/B,M,mCAIHyC,KAAK6J,SAAS,CAAEyC,QAAQ,Q,GAvGA5K,aA2Gb2L,eAAUhB,I,+hCC/HzB,IA+DenL,GA/DCC,IAAOC,IAAV,MAYD,SAAAC,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAChB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAClB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOlB,UACT,SAAA4C,GAAC,OAAIA,EAAEtB,MAAMxD,YAAYD,SAKpC,SAAA+E,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOnB,aAUpB,SAAA6C,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOhB,kBCVf2O,G,YACnB,WAAa/L,GAAQ,IAAD,8BAClB,4CAAMA,KACD+G,SAAW,EAAKA,SAAS5D,KAAd,gBAChB,EAAK6I,aAAe,EAAKA,aAAa7I,KAAlB,gBACpB,EAAK8I,uBAAyB,EAAKA,uBAAuB9I,KAA5B,gBAC9B,EAAKoE,aACCvH,EAAMuH,aAAqBvH,EAAMuH,aACjCvH,EAAMkM,KAAOlM,EAAMmM,KAAanM,EAAMkM,IAAMlM,EAAMmM,KAAO,EACzDnM,EAAMkM,KAAalM,EAAMkM,IAAM,KAAO,EACtClM,EAAMmM,IAAanM,EAAMmM,IAAO,EAC7B,GAVS,E,sEAcV1R,GACHsO,SAAStO,EAAK,MACnBgE,KAAKuI,MAAMzN,MAAQwP,SAAStO,EAAK,IACjCgE,KAAKwN,yBACLxN,KAAKwI,iB,0CAILxI,KAAKwN,2B,mCAGOrK,GAAI,IACR5B,EAAUvB,KAAVuB,MACJA,EAAMkH,UAAUlH,EAAMkH,SAAStF,GACnCnD,KAAKwN,2B,+CAGoB,IACjBjM,EAA4CvB,KAA5CuB,MAAOgH,EAAqCvI,KAArCuI,MAAOoF,EAA8B3N,KAA9B2N,eAAgBC,EAAc5N,KAAd4N,UACtC,GAAKrF,GAAUoF,GAAmBC,EAAlC,CACA,IAAMH,EAAMlM,EAAMkM,KAAO,EACnBC,EAAMnM,EAAMmM,KAAO,IACnBG,EAAQtF,EAAMzN,OAAUyN,EAAMzN,MAAQ2S,IAAQC,EAAMD,GAAQ,GAClEG,EAAUjL,MAAMmL,MAAhB,UAA2B,IAAM,IAAMD,EAAvC,KACAF,EACG/M,cAAc,cACdmN,UAFH,UAEkBxF,EAAMzN,OAFxB,OAEgCyG,EAAMyM,KAAOzM,EAAMyM,KAAO,O,+BAGjD,IAAD,OACAzM,EAAUvB,KAAVuB,MACJmB,EAAU,cAEd,OADInB,EAAM4G,QAAOzF,GAAW,2BACrB,kBAAC,GAAD,CAASlB,UAAWkB,GACzB,kBAAC,GAAD,KAAanB,EAAM4G,OACnB,yBAAK3G,UAAU,8BACb,yBACEA,UAAU,0BACV+C,IAAK,SAAAH,GAAU,EAAKwJ,UAAYxJ,KAClC,yBACE5C,UAAU,uCACV+C,IAAK,SAAAH,GAAU,EAAKuJ,eAAiBvJ,IACrC,kBAAC,GAAD,OAEF,2BACE3L,KAAK,QACLqC,MAAOyG,EAAMzG,MACb2S,IAAKlM,EAAMkM,KAAO,EAClBC,IAAKnM,EAAMmM,KAAO,IAClBjF,SAAUzI,KAAKuN,aACfpJ,QAAS5C,EAAM4C,QACfuE,OAAQnH,EAAMmH,OACd3F,QAASxB,EAAMwB,QACf4F,WAAYpH,EAAMoH,WAClBE,YAAatH,EAAMsH,YACnBC,aAAc9I,KAAK8I,aACnBvE,IAAK,SAAAH,GAAU,EAAKmE,MAAQnE,W,GAvEE1C,a,qtBCnBxC,IAiDeR,GA/CCC,IAAOC,IAAV,KAFH,yDAgBE,SAAAC,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MACrB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAClB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,KAlBpB,6BAsBM,SAAAsF,GAAC,OAAIA,EAAEtB,MAAM5C,QAAQE,QAtB3B,4BA4BgB4Q,MAGJ,SAAA5M,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOlB,SA/BhC,qF,6jBCQV,IAAMyP,GAAa,SAAA3M,GAAK,OAAIA,EAAM4M,WAC9B,yBAAK3M,UAAS,qCACbD,EAAME,UAEP,IAEiB2M,G,YAMnB,aAAgB,IAAD,8BACb,+CACK7V,MAAQ,CACX4V,YAAY,EACZE,iBAAiB,GAEnB,EAAKC,OAAS,GACd,EAAKC,QAAU,GACf,EAAKC,OAAS,EAAKA,OAAO9J,KAAZ,gBACd,EAAK+J,eAAiB,EAAKA,eAAe/J,KAApB,gBACtB,EAAKgK,qBAAuB,EAAKA,qBAAqBhK,KAA1B,gBAC5B,EAAKiK,SAAW5G,OAAO6G,YAAY,EAAKJ,OAAQ,KAChDzG,OAAOkF,iBAAiB,SAAU,EAAKuB,QAZ1B,E,iFAqBbzG,OAAOnD,WAAW5E,KAAKwO,OAAQ,IAC/BxO,KAAK6J,SAAS,CAAEsE,YAAY,M,2CAU5B,OADApG,OAAOnD,WAAW5E,KAAKwO,SAAU,IAC5BxO,KAAKzH,MAAM4V,WACXnO,KAAKzH,MAAM8V,iBAChBrO,KAAKuO,QAAUvO,KAAKuO,QAAQlV,QAAO,SAAAwV,GACjC,QAAKA,MACAA,EAAO/B,YACqB,oBAAtB+B,EAAO/B,oBAGpB9M,KAAKyO,kBAPmCzO,KAAK6J,SAAS,CAAEwE,iBAAiB,IADtCrO,KAAK6J,SAAS,CAAEsE,YAAY,M,6CAiB/DpG,OAAO+G,cAAc9O,KAAK2O,UAC1B5G,OAAOmF,oBAAoB,SAAUlN,KAAKwO,U,+BAQjC,IAAD,OACAjN,EAA2BvB,KAA3BuB,MAAOhJ,EAAoByH,KAApBzH,MAAO4U,EAAanN,KAAbmN,SACd4B,EAA2BxN,EAA3BwN,MAAOC,EAAoBzN,EAApByN,gBAGTC,EAAI,SAAAC,GAAC,OAAI/B,EACXA,EAASvM,cAAcsO,GACvBvO,SAASwO,cAAc,OAAOvO,cAAcsO,IAmE1CE,EAAkB,SAAAjM,GACtB,IAAMkM,EAAM,MAAQN,EAAMlN,MAAd,CAAqB/G,MAAOqI,EAAEmM,OAAOxU,QACjD,OAAOkU,EAAgB,QAASK,IAE5BE,EAAsB,SAAApM,GAC1B,IAAMkM,EAAM,MAAQN,EAAMlN,MAAd,CAAqBuI,OAAQE,SAASnH,EAAEmM,OAAOxU,MAAO,MAClE,OAAOkU,EAAgB,QAASK,IAE5BG,EAAiB,SAAArM,GACrB,IAAMkM,EAAM,MAAQN,EAAMlT,KAAd,CAAoBf,MAAOqI,EAAEmM,OAAOxU,QAChD,OAAOkU,EAAgB,OAAQK,IAE3BI,EAA4B,SAAAtM,GAChC,OAAO6L,EAAgB,kBAAmB7L,EAAEmM,OAAOxU,QAI/C4U,EAAmBvG,GAASwG,QAAQZ,EAAM/E,SAAW,EACrDA,EAAU+E,EAAM/E,QAClB0F,EAAmBX,EAAM/E,QAAT,YADJ,aAKV/D,EAAI,2BACJvD,EAAU,CAACuD,GAKjB,OAJAvD,EAAQU,KAAR,UAAgB6C,EAAhB,YAAqB+D,IAGrBhK,KAAKuO,QAAU,GACR,kBAAC,GAAD,CACLhK,IAAK,SAAAH,GAAU,EAAK+I,SAAW/I,GAC/B5C,UAAWkB,EAAQe,KAAR,MACX,yBAAKjC,UAAS,UAAKyE,EAAL,YACZ,kBAAC,GAAU8I,IAEb,kBAAC,GAAD,CAAYZ,WAAY5V,EAAM4V,YAAa,CAGzC,yBAAKtT,IAAI,0BACP2G,UAAU,oCACV,kBAAC,GAAD,CAAeK,MAAM,gBACnBuL,WAAYpN,KAAK0O,qBACjBnK,IAAK,SAAAH,GAAU,EAAKmK,QAAQnL,KAAKgB,IACjCqI,QAASwC,EAAE,yCACX,kBAAC,GAAD,CAAWrG,aAAW,EACpBT,MAAM,qBACN5D,IAAK,SAAAH,GAAU,EAAKkK,OAAOsB,SAAWxL,GACtCyE,YAAY,6BACZJ,SAjHc,SAAAtF,GACtB,IAAMkM,EAASN,EAAM9E,kBACrB8E,EAAM9E,iBAAiB,GADR,MAEN8E,EAAM9E,iBAAiB,GAFjB,CAEqBjI,IAAKmB,EAAEmM,OAAOxU,QAC9C,CACAsH,SAAU,GACVJ,IAAKmB,EAAEmM,OAAOxU,MACdmR,KAAM,MAEV,OAAO+C,EAAgB,mBAAoB,CAACK,OAyGtC,kBAAC,GAAD,CAAYlH,MAAM,uBAChB5D,IAAK,SAAAH,GAAU,EAAKkK,OAAOuB,UAAYzL,GACvCqE,SA9Fe,SAAAtF,GACvB,IAAMkM,EAASN,EAAM9E,kBACrB8E,EAAM9E,iBAAiB,GADR,MAEN8E,EAAM9E,iBAAiB,GAFjB,CAGX7H,SAAU,CACR8J,EAAG/I,EAAEmM,OAAOxU,MACZqR,EAAG4C,EAAM9E,iBAAiB,GAAG7H,SACzB2M,EAAM9E,iBAAiB,GAAG7H,SAAS+J,EACnC,MAGN,CAAE/J,SAAU,CAAE8J,EAAG/I,EAAEmM,OAAOxU,MAAOqR,EAAG,IACpCnK,IAAK,GACLiK,KAAM,MAEV,OAAO+C,EAAgB,mBAAoB,CAACK,OAgFtC,kBAAC,GAAD,CAAYlH,MAAM,qBAChB5D,IAAK,SAAAH,GAAU,EAAKkK,OAAOwB,UAAY1L,GACvCqE,SAhFe,SAAAtF,GACvB,IAAMkM,EAASN,EAAM9E,kBACrB8E,EAAM9E,iBAAiB,GADR,MAEN8E,EAAM9E,iBAAiB,GAFjB,CAGX7H,SAAU,CACR8J,EAAG6C,EAAM9E,iBAAiB,GAAG7H,SACzB2M,EAAM9E,iBAAiB,GAAG7H,SAAS8J,EACnC,GACJC,EAAGhJ,EAAEmM,OAAOxU,SAGd,CACAsH,SAAU,CAAE8J,EAAG,GAAIC,EAAGhJ,EAAEmM,OAAOxU,OAC/BkH,IAAK,GACLiK,KAAM,MAEV,OAAO+C,EAAgB,mBAAoB,CAACK,OAiEtC,kBAAC,GAAD,CAAYlH,MAAM,OAChBsF,IAAK,KAAMC,IAAK,IAAMM,KAAK,MAC3BlF,aAAc,KACdvE,IAAK,SAAAH,GAAU,EAAKkK,OAAOyB,UAAY3L,GACvCqE,SAjHe,SAAAtF,GACvB,IAAMkM,EAASN,EAAM9E,kBACrB8E,EAAM9E,iBAAiB,GADR,MAEN8E,EAAM9E,iBAAiB,GAFjB,CAEqBgC,KAAM9I,EAAEmM,OAAOxU,QAC/C,CACAsH,SAAU,GACVJ,IAAK,GACLiK,KAAM9I,EAAEmM,OAAOxU,OAEnB,OAAOkU,EAAgB,mBAAoB,CAACK,OAyGxB,aAAZrF,EACI,GACA,kBAAC,GAAD,CAAY7B,MAAM,kBAClBM,SAvEa,SAAAtF,GACzB,IAAMkM,EAAM,MAAQN,EAAM5E,KAAd,CAAoBC,OAAQE,SAASnH,EAAEmM,OAAOxU,MAAO,MACjE,OAAOkU,EAAgB,OAAQK,IAsEnB9K,IAAK,SAAAH,GAAU,EAAKkK,OAAO0B,cAAgB5L,GAC3CoF,QAAS,CACP,CAAErB,MAAO,WAAYrN,MAAO,IAAKuO,UAAU,GAC3C,CAAElB,MAAO,UAAWrN,MAAO,UAKvC,yBAAKD,IAAI,wCACP2G,UAAU,oCACV,kBAAC,GAAD,CAAeK,MAAM,6BACnBuL,WAAYpN,KAAK0O,qBACjBnK,IAAK,SAAAH,GAAU,EAAKmK,QAAQnL,KAAKgB,IACjCqI,QAASwC,EAAE,sCACRF,EAAMlN,OAAUkN,EAAMlN,QAAUkN,EAAMlN,MAAMuI,OAC3C,kBAAC,GAAD,CAAWxB,aAAW,EACtBT,MAAM,QACNU,YAAY,iCACZtE,IAAK,SAAAH,GAAU,EAAKkK,OAAO2B,kBAAoB7L,GAC/CqE,SAAU2G,IACV,GACJ,kBAAC,GAAD,CAAWxG,aAAW,EACpBT,MAAM,QACNU,YAAY,iCACZtE,IAAK,SAAAH,GAAU,EAAKkK,OAAO4B,iBAAmB9L,GAC9CqE,SAAU+G,IACZ,kBAAC,GAAD,CAAYrH,MAAM,mBAChBM,SAAUgH,EACVlL,IAAK,SAAAH,GAAU,EAAKkK,OAAO6B,uBAAyB/L,KACtD,kBAAC,GAAD,CAAY+D,MAAM,mBAChBM,SAAU8G,EACVhL,IAAK,SAAAH,GAAU,EAAKkK,OAAO8B,sBAAwBhM,GACnDoF,QAAS,CACP,CAAErB,MAAO,WAAYrN,MAAO,IAAKuO,UAAU,GAC3C,CAAElB,MAAO,UAAWrN,MAAO,UAKnC,yBAAKD,IAAI,wCACP2G,UAAU,oCACV,kBAAC,GAAD,CAAeK,MAAM,oBACnBuL,WAAYpN,KAAK0O,qBACjBnK,IAAK,SAAAH,GAAU,EAAKmK,QAAQnL,KAAKgB,IACjCqI,QAASwC,EAAE,uEACX,kBAAC,GAAD,CAAWrG,aAAW,EACpBT,MAAM,qBACN5D,IAAK,SAAAH,GAAU,EAAKkK,OAAO+B,uBAAyBjM,GACpDyE,YAAY,6BACZJ,SArHe,SAAAtF,GACvB,IAAMkM,EAAM,MAAQN,EAAMrJ,MAAd,CAAqB1D,IAAKmB,EAAEmM,OAAOxU,QAC/C,OAAOkU,EAAgB,QAASK,QAwH9B,yBAAKxU,IAAI,iDACP2G,UAAU,oCACV,kBAAC,GAAD,CAAeK,MAAM,6BACnBuL,WAAYpN,KAAK0O,qBACjBnK,IAAK,SAAAH,GAAU,EAAKmK,QAAQnL,KAAKgB,IACjCqI,QAASwC,EAAE,gFACX,kBAAC,GAAD,CAAY9G,MAAM,mBAChBM,SAAU8G,EACVhL,IAAK,SAAAH,GAAU,EAAKkK,OAAOgC,0BAA4BlM,GACvDoF,QAAS,CACP,CAAErB,MAAO,WAAYrN,MAAO,IAAKuO,UAAU,GAC3C,CAAElB,MAAO,UAAWrN,MAAO,SAC5BiU,EAAMlN,OAAUkN,EAAMlN,QAAUkN,EAAMlN,MAAMuI,OAC3C,kBAAC,GAAD,CAAWxB,aAAW,EACtBT,MAAM,QACNU,YAAY,iCACZtE,IAAK,SAAAH,GAAU,EAAKkK,OAAOiC,sBAAwBnM,GACnDqE,SAAU2G,IACV,GACJ,kBAAC,GAAD,CAAWxG,aAAW,EACpBT,MAAM,QACNU,YAAY,iCACZtE,IAAK,SAAAH,GAAU,EAAKkK,OAAOkC,qBAAuBpM,GAClDqE,SAAU+G,MAKhB,yBAAK3U,IAAI,6BACP2G,UAAU,oCACV,kBAAC,GAAD,CAAeK,MAAM,uBACnBuL,WAAYpN,KAAK0O,qBACjBnK,IAAK,SAAAH,GAAU,EAAKmK,QAAQnL,KAAKgB,IACjCqI,QAASwC,EAAE,0EACX,kBAAC,GAAD,CAAWrG,aAAW,EACpBC,YAAY,wBACZtE,IAAK,SAAAH,GAAU,EAAKkK,OAAOmC,sBAAwBrM,GACnDqE,SAAU2G,MAKhB,yBAAKvU,IAAI,8BACP2G,UAAU,oCACV,kBAAC,GAAD,CAAeK,MAAM,wBACnBuL,WAAYpN,KAAK0O,qBACjBnK,IAAK,SAAAH,GAAU,EAAKmK,QAAQnL,KAAKgB,IACjCqI,QAASwC,EAAE,iFACX,kBAAC,GAAD,CAAWrG,aAAW,EACpBC,YAAY,oCACZtE,IAAK,SAAAH,GAAU,EAAKkK,OAAOoC,qBAAuBtM,GAClDqE,SAAU+G,MAKhB,yBAAK3U,IAAI,2BACP2G,UAAU,oCACV,kBAAC,GAAD,CAAeK,MAAM,oBACnBuL,WAAYpN,KAAK0O,qBACjBnK,IAAK,SAAAH,GAAU,EAAKmK,QAAQnL,KAAKgB,IACjCqI,QAASwC,EAAE,8EACX,kBAAC,GAAD,CAAWrG,aAAW,EACpBC,YAAY,iCACZtE,IAAK,SAAAH,GAAU,EAAKkK,OAAOqC,oBAAsBvM,GACjDqE,SAAU+G,IACZ,kBAAC,GAAD,CAAYrH,MAAM,mBAChBM,SAAUgH,EACVlL,IAAK,SAAAH,GAAU,EAAKkK,OAAOsC,0BAA4BxM,SAM/D,yBAAK5C,UAAS,UAAKyE,EAAL,sB,uCASC,IAAD,EA6BZjG,KA3BFuB,MAASwN,MACP9E,EAHY,EAGZA,iBACApI,EAJY,EAIZA,MACAhG,EALY,EAKZA,KACA6J,EANY,EAMZA,MACAwE,EAPY,EAOZA,gBACAC,EARY,EAQZA,KARY,EA6BZnK,KAnBFsO,OACEsB,EAXY,EAWZA,SACAC,EAZY,EAYZA,UACAC,EAbY,EAaZA,UACAC,EAdY,EAcZA,UACAC,EAfY,EAeZA,cACAC,EAhBY,EAgBZA,kBACAG,EAjBY,EAiBZA,sBACAD,EAlBY,EAkBZA,uBACAE,EAnBY,EAmBZA,uBACAE,EApBY,EAoBZA,sBACAD,EArBY,EAqBZA,0BACAG,EAtBY,EAsBZA,sBACAP,EAvBY,EAuBZA,iBACAM,EAxBY,EAwBZA,qBACAE,EAzBY,EAyBZA,qBACAC,EA1BY,EA0BZA,oBACAC,EA3BY,EA2BZA,0BAIA3G,GAAoBA,EAAiB,KACnC2F,GAAUA,EAAStH,SAAS2B,EAAiB,GAAGjI,KAChDiI,EAAiB,GAAG7H,WAClByN,GAAWA,EAAUvH,SAAS2B,EAAiB,GAAG7H,SAAS8J,GAC3D4D,GAAWA,EAAUxH,SAAS2B,EAAiB,GAAG7H,SAAS+J,IAE7D4D,GAAWA,EAAUzH,SAAS2B,EAAiB,GAAGgC,OAGpDpK,IACEoO,GAAmBA,EAAkB3H,SAASzG,EAAM/G,OAAS,IAC7DsV,GAAuBA,EAAsB9H,SAASzG,EAAMuI,QAAU,KACtEmG,GAAuBA,EAAsBjI,SAASzG,EAAM/G,OAAS,IACrEwV,GAA2BA,EAA0BhI,SAASzG,EAAMuI,QAAU,KAC9EqG,GAAuBA,EAAsBnI,SAASzG,EAAM/G,OAAS,KAGvEe,IACEqU,GAAkBA,EAAiB5H,SAASzM,EAAKf,OAAS,IAC1D0V,GAAsBA,EAAqBlI,SAASzM,EAAKf,OAAS,IAClE4V,GAAsBA,EAAqBpI,SAASzM,EAAKf,OAAS,IAClE6V,GAAqBA,EAAoBrI,SAASzM,EAAKf,OAAS,KAGlE4K,GACE2K,GAAwBA,EAAuB/H,SAAS5C,EAAM1D,KAAO,IAGvEkI,IACEiG,GAAwBA,EAAuB7H,SAAS4B,GACxD0G,GAA2BA,EAA0BtI,SAAS4B,IAGhEC,GACE6F,GAAeA,EAAc1H,SAAS6B,EAAKC,QAAU,O,+BAU3D,IAEMyG,EAAe7Q,KAAKmN,SAAS2D,YAC7BC,EAAgB/Q,KAAKmN,SAAS6D,aAC9BC,EAAMJ,EAJO,KAKbK,EAAMH,EAJQ,KAKdI,GAAON,EANM,MAMuB,EACpCO,GAAOL,EANO,MAMwB,EACtCM,EAASrR,KAAKmN,SAASvM,cAAc,qBACrC0Q,EAAetR,KAAKmN,SAASvM,cAAc,0CACjDyQ,EAAO1O,MAAM6H,UAAb,iBAAmCyG,EAAnC,mBAAiDC,EAAjD,aAAyDC,EAAzD,aAAiEC,EAAjE,KACAE,EAAa3O,MAAM6H,UAAnB,iBAAyCyG,EAAzC,mBAAuDC,EAAvD,aAA+DC,EAA/D,aAAuEC,EAAvE,O,6CASApR,KAAKuO,QAAQzD,SAAQ,SAAA+D,GACnBA,EAAO/B,oB,GAnbsCpL,a,67DCdnD,IAAM6P,GAAS,4BAoIArQ,GAlICC,IAAOC,IAAV,KAIXmQ,IACc,SAAAlQ,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MACvB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAK7BwV,IAEiB,SAAAlQ,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAGtB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,KAIjCwV,IAGU,SAAAlQ,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,KAI7BwV,IACc,SAAAlQ,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAChB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MACd,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAIzCwV,IAK0B,SAAAlQ,GAAC,OAAIA,EAAEtB,MAAMxD,YAAYD,QAGnDiV,GACAA,IACY,SAAAlQ,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,KAM/BwV,IAKI,SAAAlQ,GAAC,OAAIA,EAAEtB,MAAM5C,QAAQhB,UACH,SAAAkF,GAAC,OAAIA,EAAEtB,MAAMxD,YAAYD,QAE5CiV,GAGAA,GAECA,GAIUA,IAEA,SAAAlQ,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,SAC3B,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOf,cACpB,SAAAyC,GAAC,OAAIA,EAAEtB,MAAM5C,QAAQhB,SAI3BoV,IAEoB,SAAAlQ,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAChC,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,KAG1BwV,IACiB,SAAAlQ,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,KAGpCwV,GAQAA,IAOI,SAAAlQ,GAAC,OAAIA,EAAEtB,MAAME,SAASN,OAAOb,gBAC7B,SAAAuC,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,QACN,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MACtB,SAAAsF,GAAC,OAAImQ,IAASnQ,EAAEtB,MAAME,SAASN,OAAOd,gBAAiB,OAEtD,SAAAwC,GAAC,OAAIA,EAAEtB,MAAMxD,YAAYF,SAC7B,SAAAgF,GAAC,OAAIA,EAAEtB,MAAMxD,YAAYF,SAI9B,SAAAgF,GAAC,OAAIA,EAAEtB,MAAME,SAASN,OAAOd,mBAC7B,SAAAwC,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,QACT,SAAAsF,GAAC,OAAImQ,IAASnQ,EAAEtB,MAAME,SAASN,OAAOd,gBAAiB,MAMtE0S,GACCA,GAGAA,GAGAA,I,ikBCnHiBE,G,YACnB,WAAalQ,GAAQ,IAAD,8BAClB,4CAAMA,KACDhJ,MAAQ,CACXmZ,gBAAiB,EACjBC,gBAAiB,GACjBhK,QAASpG,EAAMoG,SAEjB,EAAKiK,OAAS,GACd,EAAKC,YAAc,EAAKA,YAAYnN,KAAjB,gBACnB,EAAKoN,kBAAoB,EAAKA,kBAAkBpN,KAAvB,gBACzB,EAAKqN,kBAAoB,EAAKA,kBAAkBrN,KAAvB,gBACzB,EAAKsN,cAAgB,EAAKA,cAActN,KAAnB,gBACrB,EAAKgK,qBAAuB,EAAKA,qBAAqBhK,KAA1B,gBAC5B,EAAKuN,qBAAuB,EAAKA,qBAAqBvN,KAA1B,gBAC5B,EAAKwN,sBAAwB,EAAKA,sBAAsBxN,KAA3B,gBAC7B,EAAKyN,YAAc,EAAKA,YAAYzN,KAAjB,gBACnB,EAAK0N,YAAc,EAAKA,YAAY1N,KAAjB,gBACnB,EAAK2N,gBAAkB,EAAKA,gBAAgB3N,KAArB,gBACvB,EAAK4N,iBAAmB,EAAKA,iBAAiB5N,KAAtB,gBACxB,EAAK6N,eAAiB,EAAKA,eAAe7N,KAApB,gBACtB,EAAK8N,2BAA6B,EAAKA,2BAA2B9N,KAAhC,gBAClC,EAAK+N,uBAAyB,EAAKA,uBAAuB/N,KAA5B,gBAC9BqD,OAAOkF,iBAAiB,UAAU,kBAAM,EAAKgF,0BAC7ClK,OAAOkF,iBAAiB,UAAU,kBAAM,EAAKkF,iBAvB3B,E,oFA0BK,IAAD,OACtBpK,OAAOmF,oBAAoB,UAAU,kBAAM,EAAK+E,0BAChDlK,OAAOmF,oBAAoB,UAAU,kBAAM,EAAKiF,mB,0CAG5B,IAEdP,EADqB5R,KAAKuB,MAAxBmR,eACsBd,QAAU,GACxC5R,KAAKiS,uBACDL,EAAOzW,OAAQ6E,KAAKmS,cACnBnS,KAAKmS,aAAa,K,2CAGF,IAEfP,EADqB5R,KAAKuB,MAAxBmR,eACsBd,QAAU,GACxC5R,KAAKiS,uBACDL,EAAOzW,OAAQ6E,KAAKmS,cACnBnS,KAAKmS,aAAa,GACvBnS,KAAK4R,OAAS5R,KAAK4R,OAAOvY,QAAO,SAAA0V,GAC/B,QAAKA,MACAA,EAAML,sBAC+B,oBAA/BK,EAAML,2B,+BAwBV,IAAD,OACFnN,EAAQvB,KAAKuB,MAIbmQ,EAHQ1R,KAAKzH,MAGUmZ,eAEvBE,EADiBrQ,EAAMmR,eACCd,QAAU,GAIlCe,GADcf,EAAOF,IAAmB,IACP1H,QACjC4I,EAAgBzJ,GAASwG,QAAQgD,GAAsB,EACzD3S,KAAK6S,iBACP7S,KAAK6S,eAAetK,MAAMzN,MAAQ8X,EAC9BD,EACA,eAIN,IAAMpB,EAAS,2BACT7O,EAAU,CAAC6O,GACZK,EAAOzW,QAAQuH,EAAQU,KAAR,UAAgBmO,EAAhB,eAGpBvR,KAAK4R,OAAS,GACd,IAAMkB,EAAYlB,EAAO3Y,KAAI,SAAC8V,EAAO/D,GACnC,IAAMjI,EAAWiI,IAAM0G,EAAkB,SAAAvO,GAAC,OAAI,EAAK6O,cAAchH,IAAK,KAChEtI,EAAU,CAAC,GAAD,OAAI6O,EAAJ,YAEhB,OADIvG,IAAM0G,GAAgBhP,EAAQU,KAAR,UAAgBmO,EAAhB,mBACnB,yBACL1W,IAAKmQ,EACLjI,QAASA,EACTvB,UAAWkB,EAAQe,KAAK,MACxB,kBAAC,GAAD,CACEsL,MAAOA,EACPxK,IAAK,SAAAH,GAAI,OAAI,EAAKwN,OAAOxO,KAAKgB,IAC9B4K,gBAAiB,EAAKyD,uBAAuBzH,KAC/C,yBAAKxJ,UAAS,UAAK+P,EAAL,mBACZ,yBAAK/P,UAAS,UAAK+P,EAAL,mBACZ,kBAAC,GAAD,CACExO,QAAS,SAAAI,GACPA,EAAE2C,kBACF,EAAKsM,YAAYpH,IAEnB9G,KAAK,+BAET,yBAAK1C,UAAS,UAAK+P,EAAL,sBACZ,kBAAC,GAAD,CACE1N,SAAgB,IAANmH,EACVjI,QAAS,SAAAI,GACPA,EAAE2C,kBACF,EAAKuM,gBAAgBrH,IAEvB9G,KAAK,iCAET,yBAAK1C,UAAS,UAAK+P,EAAL,uBACZ,kBAAC,GAAD,CACE1N,SAAUmH,IAAM4G,EAAOzW,OAAS,EAChC4H,QAAS,SAAAI,GACPA,EAAE2C,kBACF,EAAKwM,iBAAiBtH,IAExB9G,KAAK,kCAET,yBAAK1C,UAAS,UAAK+P,EAAL,sBACZ,kBAAC,GAAD,CACExO,QAAS,SAAAI,GACPA,EAAE2C,kBACF,EAAKyM,eAAevH,IAEtB9G,KAAK,oCAGX,yBAAK1C,UAAS,UAAK+P,EAAL,mBAKlB,OAAO,kBAAC,GAAD,CACL/P,UAAWkB,EAAQe,KAAK,KACxBc,IAAK,SAAAH,GAAU,EAAK+I,SAAW/I,IAC/B,yBAAK5C,UAAS,UAAK+P,EAAL,qBACZ,yBAAK/P,UAAS,UAAK+P,EAAL,wBACZ,yBAAK/P,UAAW,CAAC,GAAD,OACX+P,EADW,yBAEXA,EAFW,qBAEkB9N,KAAK,MACrC,kBAAC,GAAD,CACES,KAAK,8BACLL,SAA6B,IAAnB6N,EACV3O,QAAS/C,KAAK8R,qBAElB,yBAAKtQ,UAAS,UAAK+P,EAAL,kBACZ,kBAAC,GAAD,UACqBnY,IAAnBsY,IACoB,IAApBA,EADA,eAEYA,EAAiB,GAF7B,mBAMJ,yBAAKlQ,UAAW,CAAC,GAAD,OACX+P,EADW,yBAEXA,EAFW,qBAEkB9N,KAAK,MACrC,kBAAC,GAAD,CACES,KAAK,iCACLL,SAAU6N,IAAmBE,EAAOzW,OAAS,EAC7C4H,QAAS/C,KAAK+R,sBAGpB,yBAAKvQ,UAAS,UAAK+P,EAAL,oBACZ,kBAAC,GAAD,CACE/H,QAASJ,GACT7E,IAAK,SAAAH,GAAU,EAAKyO,eAAiBzO,GACrCqE,SAAUzI,KAAKwS,+BAGrB,yBAAKhR,UAAS,UAAK+P,EAAL,aACZ,yBACEhN,IAAK,SAAAH,GAAU,EAAK2O,QAAU3O,GAC9B5C,UAAS,UAAK+P,EAAL,qBACThQ,EAAMoG,QAAsB,GAAZmL,EAClB,yBACE/P,QAAS/C,KAAK6R,YACdrQ,UAAS,UAAK+P,EAAL,gBACT,kBAAC,GAAD,CAAQtN,MAAI,GAAZ,wB,oCAYN,IAAM1C,EAAQvB,KAAKuB,MAEbqQ,EADiBrQ,EAAMmR,eACCd,QAAU,GACxCrQ,EAAMyN,gBAAgB,SAAtB,sBAAoC4C,GAApC,CAA4C,MAC5C5R,KAAK0O,yB,0CASL,IAAMgD,EAAiB1R,KAAKzH,MAAMmZ,eAClC1R,KAAKgS,cAAcN,EAAiB,K,0CAIpC,IAAMA,EAAiB1R,KAAKzH,MAAMmZ,eAClC1R,KAAKgS,cAAcN,EAAiB,K,sCAGZ,IAAXsB,EAAU,uDAAN,KACXzR,EAAQvB,KAAKuB,MACXmR,EAAmBnR,EAAnBmR,eAFe,EAGJA,GAAkB,GAA7Bd,EAHe,EAGfA,OACE,OAANoB,IACAA,GAAKpB,EAAOzW,QACZ6X,GAAK,IACThT,KAAK6J,SAAS,CAAE6H,eAAgBsB,IAChChT,KAAK0O,uBACL1O,KAAKmS,YAAYa,O,6CASjB,IAAKhT,KAAKmN,SAAU,OAAO,KAC3B,IACM5K,EADiBvC,KAAKmN,SAASvM,cAAc,qCACrBqS,aACxBzQ,EAAQ1B,KAAKC,MAAM,EAAIwB,EAAS,IAOtC,OANAvC,KAAKmN,SACF+F,iBAAiB,oCACjBpI,SAAQ,SAAAiE,GAAWA,EAAMpM,MAAMH,MAAZ,UAAuBA,EAAvB,SACtBxC,KAAKmN,SACFvM,cAAc,wCACd+B,MAAMH,MAFT,UAEoBA,EAFpB,MAGO,CAAEA,QAAOD,Y,8CAQqC,IAAhCyQ,EAA+B,uDAA3BhT,KAAKzH,MAAMmZ,eACpC,IAAKsB,GAAW,IAANA,EAAS,OAAO,KAC1B,IAAKhT,KAAKmN,SAAU,OAAO,KAC3B,IAAKnN,KAAK+S,QAAS,OAAO,KAC1B,IAAMI,EAASnT,KAAK+S,QACdhE,GAAe,IAAPiE,EACVhT,KAAKmN,SAASvM,cAAc,wCAC5BZ,KAAKmN,SAAS+F,iBAAiB,oCAAoCF,GACvE,IAAKjE,EAAO,OAAO,KACnB,IAAMqE,EAAcD,EAAOE,cAAgBtL,OAAOuL,iBAAiBH,GAC7DtC,EAAe7Q,KAAKmN,SAASoG,YAC7BC,EAAeC,WAAWL,EAAYM,YACtCC,EAAa5E,EAAM+B,YACnB8C,EAAc7E,EAAM8E,WAAaL,EACjCM,GAAgBjD,EAAe8C,GAAc,EAC7CI,EAAaD,EAAeF,EAClC,OAAOG,I,oCAQoC,IAAhCf,EAA+B,uDAA3BhT,KAAKzH,MAAMmZ,eACpBpC,EAAStP,KAAKkS,sBAAsBc,GAC3B,OAAX1D,IACJtP,KAAK+S,QAAQpQ,MAAM+Q,WAAnB,UAAmCpE,EAAnC,S,oCAQ2B,IAAhB0D,EAAe,4DAAX5Z,EACf,QAAUA,IAAN4Z,IACJhT,KAAK0O,uBACA3G,OAAOC,QAAQ,2BAApB,CACA,IAAMzG,EAAQvB,KAAKuB,MACbhJ,EAAQyH,KAAKzH,MACXma,EAAoCnR,EAApCmR,eAAgB1D,EAAoBzN,EAApByN,gBAChB4C,EAAWc,EAAXd,OACAF,EAAmBnZ,EAAnBmZ,eACFsC,EAAS,sBACVpC,EAAOqC,MAAM,EAAGjB,IADN,YAEVpB,EAAOqC,MAAMjB,EAAI,KAGtB,OADAhE,EAAgB,SAAUgF,GACrBA,EAAU7Y,OACL,IAAN6X,EAAgBhT,KAAKgS,cAAc,GACnCgB,IAAMgB,EAAU7Y,OAAe6E,KAAKgS,cAAcgC,EAAU7Y,OAAS,GACrEuW,EAAiBsB,EAAUhT,KAAKgS,cAAcN,GAC9CA,IAAmBsB,EAAUhT,KAAKgS,cAAcN,EAAiB,QACjEA,EAAiBsB,GAAGhT,KAAKgS,cAAcN,EAAiB,IAL9B1R,KAAKgS,eAAe,M,sCAanCgB,GACf,IAAMzR,EAAQvB,KAAKuB,MACXmR,EAAoCnR,EAApCmR,eAAgB1D,EAAoBzN,EAApByN,gBAChB4C,EAAWc,EAAXd,OAOR5C,EAAgB,SAND,sBACV4C,EAAOqC,MAAM,EAAGjB,EAAI,IADV,CAEbpB,EAAOoB,GACPpB,EAAOoB,EAAI,IAHE,YAIVpB,EAAOqC,MAAMjB,EAAI,MAGtBhT,KAAKgS,cAAcgB,EAAI,K,uCAQPA,GAChB,IAAMzR,EAAQvB,KAAKuB,MACXmR,EAAoCnR,EAApCmR,eAAgB1D,EAAoBzN,EAApByN,gBAChB4C,EAAWc,EAAXd,OAOR5C,EAAgB,SAND,sBACV4C,EAAOqC,MAAM,EAAGjB,IADN,CAEbpB,EAAOoB,EAAI,GACXpB,EAAOoB,IAHM,YAIVpB,EAAOqC,MAAMjB,EAAI,MAGtBhT,KAAKgS,cAAcgB,EAAI,K,qCAQTA,GACd,IAAMzR,EAAQvB,KAAKuB,MACXmR,EAAoCnR,EAApCmR,eAAgB1D,EAAoBzN,EAApByN,gBAChB4C,EAAWc,EAAXd,OAOR5C,EAAgB,SAND,sBACV4C,EAAOqC,MAAM,EAAGjB,IADN,CAEbpB,EAAOoB,IAFM,YAGVpB,EAAOqC,MAAMjB,EAAI,IAHP,OAIRpB,EAAOoB,S,iDAUY7P,GAAI,IACtBuO,EAAmB1R,KAAKzH,MAAxBmZ,eADqB,EAEe1R,KAAKuB,MAAzCyN,EAFqB,EAErBA,gBACA4C,EAHqB,EAEJc,eACjBd,OACA9W,EAAUqI,EAAEmM,OAAZxU,MACFoZ,EAAWtC,EAAOF,GACxBwC,EAASlK,QAAUlP,EACnB,IAAMkZ,EAAS,sBACVpC,EAAOqC,MAAM,EAAGvC,IADN,CAEbwC,GAFa,YAGVtC,EAAOqC,MAAMvC,EAAiB,KAGnC,OADA1R,KAAK0O,uBACEM,EAAgB,SAAUgF,K,6CAQXhB,GAAI,IAAD,OACzB,OAAO,SAACnY,EAAKmB,GAAS,IAAD,EACyB,EAAKuF,MAAzCmR,EADW,EACXA,eAAgB1D,EADL,EACKA,gBAChB4C,EAAWc,EAAXd,OACFsC,EAAWtC,EAAOoB,GAOxB,OANAkB,EAASrZ,GAAOmB,EAMTgT,EAAgB,SALR,sBACV4C,EAAOqC,MAAM,EAAGjB,IADN,CAEbkB,GAFa,YAGVtC,EAAOqC,MAAMjB,EAAI,S,6CAYxBhT,KAAK4R,OAAO9G,SACV,SAAAqJ,GAAC,OAAIA,EAAEzF,6B,gDAtXsBnN,EAAOhJ,GAAQ,IACtCma,EAAmBnR,EAAnBmR,eACAf,EAAoBpZ,EAApBoZ,gBACFC,EAASc,EAAed,QAAU,GAClCwC,EAAUzC,EAAgBC,QAAU,GACpCyC,EAAQ,MACT9b,EADS,CAEZoP,QAASpG,EAAMoG,UASjB,OAPIpP,EAAMoP,UAAYpG,EAAMoG,QACtBiK,EAAOzW,OAAQkZ,EAAS3C,eAAiBE,EAAOzW,OAAS,EACxDkZ,EAAS3C,oBAAiBtY,EACrBb,EAAMoP,SAAYpG,EAAMoG,SAC9BiK,EAAOzW,OAASiZ,EAAQjZ,SAAQkZ,EAAS3C,eAAiBE,EAAOzW,OAAS,GAEhFkZ,EAAS1C,gBAAkBpQ,EAAMmR,eAC1B2B,M,GAtEwC3S,a,6cCbnD,IAEeP,OAAOC,IAAtB,KAFU,8BASI,SAAAC,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MACd,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MACpB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,QAChB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAZ9B,qHCCK,IACbuY,aAAc7C,GACd8C,a,YCIA,aAAgB,IAAD,8BACb,+CACKhc,MAAQ,CAAEic,WAAW,GAC1B,EAAKjD,UAAY,4BACjB,EAAKkD,YAAc,EAAKA,YAAY/P,KAAjB,gBAJN,E,sEAOJ,IACDnD,EAA8BvB,KAA9BuB,MAAOhJ,EAAuByH,KAAvBzH,MAAOkc,EAAgBzU,KAAhByU,YACdC,EAAoBnT,EAApBmT,gBAGFzO,EAAIjG,KAAKuR,UACT7O,EAAU,CAACuD,GAIjB,OAHI1N,EAAMic,WAAW9R,EAAQU,KAAR,UAAgB6C,EAAhB,eAGd,kBAAC,GAAD,CACLzE,UAAWkB,EAAQe,KAAK,MACxB,yBAAKjC,UAAS,UAAKyE,EAAL,oBACZ,kBAAC,GAAD,CACEjC,OAAK,EACLF,SAAO,EACPf,QAAS0R,EACT5Q,WAAU6Q,GACN,iCALN,aAUF,yBAAKlT,UAAS,UAAKyE,EAAL,wBACZ,kBAAC,GAAD,CAAW3C,OAAK,EAACjG,OAAK,GAAtB,mBACA,yBAAK2E,IAAI,qBAAqBJ,IAAI,e,kCAK3BuB,GAAI,IAAD,SAGRnD,KAFEuB,MACN3H,EAFY,EAEZA,GAAIiH,EAFQ,EAERA,iBAGN,OADAb,KAAK6J,SAAS,CAAE2K,WAAW,IACpBzO,MAAM,cAAD,OAAenM,IACxBoM,MAAK,SAAAC,GAAC,OAAIA,EAAEE,UACZH,MAAK,SAAAG,GACJ,GAAIA,EAAKK,IAAK,MAAM,IAAIJ,MAAMD,EAAKK,KAEjCT,MAAMI,EAAKM,MACRT,MAAK,SAAAC,GAAC,OAAIA,EAAE0O,UACZ3O,MAAK,SAAA2O,GAAI,OAAIC,KAASD,EAAM,gBAC5BjO,OAAM,SAAAvD,GAAC,OAAIyG,QAAQiL,IAAI1R,SAG7BuD,OAAM,SAAAvD,GAAC,OAAItC,EAAiB,uEAAD,OAC0CsC,EAAEwD,SACtE,YAEDmO,SAAQ,kBAAM,EAAKjL,SAAS,CAAE2K,WAAW,W,GA1DQ9S,cCL3C7I,GAAO,CAClB,CACE8M,KAAM,oBACNlN,KAAM,uBACNmN,YAAa,yEACbF,MAAO,yCACPsE,QAAS+K,GAAmBT,aAC5BU,SAAUD,GAAmBE,cAC7BC,QAASH,GAAmBR,aAC5BY,aAAcJ,GAAmBK,oB,ikBCI/BC,G,YACJ,WAAa9T,GAAQ,IAAD,8BAClB,4CAAMA,KACDhJ,MAAQ,CACXkD,QAAS8F,EAAM9F,QACf6Z,gBAAiB/T,EAAM9F,QAAQ5C,KAC/B6C,QAAS,CACPC,MAAO,KACPF,QAAS,MAEX8Z,iBAAkB,CAChB5Z,MAAO,EACPF,QAAS,GAEX+Z,mBAAoB,CAClB7Z,OAAO,EACPF,SAAS,IAGb,EAAKga,YAAc,IACnB,EAAKC,iBAAmB,EAAKA,iBAAiBhR,KAAtB,gBACxB,EAAKmB,cAAgB,EAAKA,cAAcnB,KAAnB,gBAErBnD,EAAMoU,aAAa3P,MAAK,SAAAO,GACtB,EAAKV,mBAvBW,E,iFA4BlB7F,KAAKoE,KAAK6I,iBACR,gBACAjN,KAAK6F,iB,2CAyCPjB,WACE5E,KAAK0V,iBACL1V,KAAKyV,e,4CAKPzV,KAAKoE,KAAK8I,oBACR,gBACAlN,KAAK6F,iB,yCAKP,IAAMtN,EAAQyH,KAAKzH,MACbqd,EAAsBzV,KAAKC,MAAQ7H,EAAMgd,iBAAiB9Z,QAC1Doa,EAActd,EAAMid,mBAAmB/Z,QACzCma,EAAsB5V,KAAKyV,aAAeI,GACxC7V,KAAKoE,MACPpE,KAAKoE,KAAK0R,cACR,IAAIC,YACF,gBAAiB,CACfC,OAAQ,CACNrP,QAAS,0BACTsP,KAAM,IAAI9V,MAEZ+V,SAAS,EACTC,YAAY,O,sCAStB,IAAM5d,EAAQyH,KAAKzH,MACbkD,EAAUlD,EAAMkD,QAChBpC,EAASd,EAAMmD,QAAQD,QAOvB2a,EANkB3a,EAAQ5C,KAAKQ,QAAO,SAAAH,GAC1C,IAAMmd,EjEjHiB,SAAAnd,GAC3B,IAAM8b,EAAW5a,EAAyBlB,GAa1C,MAZa,CACXA,EAAOC,IACPD,EAAOT,KACPuc,EAASvN,OACTuN,EAASrP,KACTqP,EAASnZ,KACTmZ,EAASnT,OACT4B,KAAK,KACJ0D,cACAmP,QAAQ,gBAAiB,KACzBA,QAAQ,WAAY,KACpBA,QAAQ,KAAM,IiEoGAC,CAAcrd,GAG3B,OAFmBG,EAAOsR,MAAM,KACG6L,OAAM,SAAAC,GAAI,OAAIJ,EAAKK,MAAMD,MACnCvd,EAAS,QAEEsB,MAAK,SAACC,EAAGC,GAC7C,IAAMic,EAAcvc,EAAyBK,GAAGE,WAAaF,EAAEP,WAE/D,OADoBE,EAAyBM,GAAGC,WAAaD,EAAER,YAC1Cyc,KAEvB3W,KAAK6J,SAAS,CACZyL,gBAAiBc,EACjBZ,mBAAmB,MACdjd,EAAMid,mBADO,CAEhB/Z,SAAS,Q,+BAKJ,IAAD,OACF8F,EAAQvB,KAAKuB,MACbhJ,EAAQyH,KAAKzH,MACbkD,EAAUlD,EAAMkD,QAChB6Z,EAAkB/c,EAAM+c,gBACxBsB,EAA2Bre,EAAMid,mBAAmB/Z,QAGpDob,EAAWC,GAAU7d,KAAI,SAAC8d,EAAM/L,GACpC,OAAO,kBAAC,GAAD,CACLnQ,IAAKmQ,EACLrF,KAAMoR,EAAKpR,KACXlN,KAAMse,EAAKte,KACXiN,MAAOqR,EAAKrR,MACZE,YAAamR,EAAKnR,iBAKhBoR,EAAa1B,EAAgBrc,KAAI,SAACC,EAAQ8R,GAC9C,IAAMgK,EAAW5a,EAAyBlB,GAC1C,OAAO,kBAAC,GAAD,CACL2B,IAAKmQ,EACLvS,KAAMS,EAAOT,KACboP,SAAU3O,EAAOC,IACjBiO,QAASlO,EAAOgB,WAChBmN,QAAS2N,EAASra,WAAa,KAC/B8M,OAAQuN,EAASvN,QAAU,aAC3B/B,MAAK,kBAAaxM,EAAOT,KAApB,cACLoJ,MAAOmT,EAASrP,MAAQ,oBAItBjD,EAAU,CAAC,aASjB,OARIjH,EAAQ3C,OAAO4J,EAAQU,KAAK,2BAC5B3H,EAAQjC,YAAYkJ,EAAQU,KAAK,oCACjC3H,EAAQ7C,YAAY8J,EAAQU,KAAK,8BACjCwT,GAA0BlU,EAAQU,KAAK,+BACtC3H,EAAQ5C,KAAKsC,OACR6b,EAAW7b,QAAQuH,EAAQU,KAAK,kCADhBV,EAAQU,KAAK,2BAIhC,kBAAC,GAAD,CACL5B,UAAWkB,EAAQe,KAAK,KACxBc,IAAK,SAAAH,GAAU,EAAKA,KAAOA,IAC3B,yBAAK5C,UAAU,qBAAoB,kBAAC,GAAD,OACnC,yBAAKA,UAAU,sBACb,yBAAKA,UAAU,4BAA2B,kBAAC,GAAD,OAC1C,yBAAKA,UAAU,0BACb,yBAAKA,UAAU,mBACb,yBAAKA,UAAU,2BACb,kBAAC,GAAD,CACEqH,YAAY,sBACZC,aAAcvH,EAAM7F,QAAQC,MAC5B8M,SAAU,SAAAtF,GAAO5B,EAAM0V,eAAe9T,EAAEmM,OAAOxU,QAC/C4N,OAAQ,SAAAvF,GAAO5B,EAAM0V,eAAe9T,EAAEmM,OAAOxU,WAEjD,yBAAK0G,UAAU,yBACb,yBAAKA,UAAU,gCACZqV,MAKT,yBAAKrV,UAAU,4BACb,yBAAKA,UAAU,mBACb,yBAAKA,UAAU,6BACb,kBAAC,GAAD,CACEqH,YAAY,uBACZC,aAAcvH,EAAM7F,QAAQD,QAC5BgN,SAAU,SAAAtF,GAAO5B,EAAMb,iBAAiByC,EAAEmM,OAAOxU,QACjD4N,OAAQ,SAAAvF,GAAO5B,EAAMb,iBAAiByC,EAAEmM,OAAOxU,WAEnD,yBAAK0G,UAAU,6BAA4B,yBAAKI,IAAI,SAASI,IAAI,wBACjE,yBAAKR,UAAU,4BAA2B,kBAAC,GAAD,CAAW8B,OAAK,EAACC,QAAM,GAAvB,mDAC1C,yBAAK/B,UAAU,mCACb,kBAAC,GAAD,CAAW8B,OAAK,EAACC,QAAM,GAAvB,mDACA,kBAAC,GAAD,CAAQS,OAAK,EAACC,MAAI,EAAClB,QAAS,SAAAI,GAAO5B,EAAMb,iBAAiB,MAA1D,yBAEF,yBAAKc,UAAU,4BACb,kBAAC,GAAD,CAAW1I,OAAK,GAAhB,2DACA,kBAAC,GAAD,CAAWyK,QAAM,EAACD,OAAK,GAAE7H,EAAQ3C,OAAS,uCAC1C,kBAAC,GAAD,CAAQkL,OAAK,EAACC,MAAI,EAAClB,QAASxB,EAAMoU,YAAlC,2BAEF,yBAAKnU,UAAU,2BACb,yBAAKA,UAAU,kCACZwV,MAKT,yBAAKxV,UAAU,mCACb,yBAAKQ,IAAI,qBAAqBJ,IAAI,iB,gDA5LTL,EAAOhJ,GACtC,IAAM2e,EAAW3V,EAAM9F,QACjB0b,EAAW,CACfxb,MAAOpD,EAAMmD,QAAQC,MACrBF,QAASlD,EAAMmD,QAAQD,SAEnB2b,EAAoB,CACxBzb,MAAOpD,EAAMgd,iBAAiB5Z,MAC9BF,QAASlD,EAAMgd,iBAAiB9Z,SAE5B4b,EAAsB,CAC1B1b,MAAOpD,EAAMid,mBAAmB7Z,MAChCF,QAASlD,EAAMid,mBAAmB/Z,SAepC,OAbI8F,EAAM9F,QAAQ5C,KAAKsC,SAAW5C,EAAMkD,QAAQ5C,KAAKsC,SACnDkc,EAAoB5b,SAAU,GAE5B8F,EAAM7F,QAAQC,QAAUpD,EAAMmD,QAAQC,QACxCwb,EAASxb,MAAQ4F,EAAM7F,QAAQC,MAC/Byb,EAAkBzb,MAAQwE,KAAKC,MAC/BiX,EAAoB1b,OAAQ,GAE1B4F,EAAM7F,QAAQD,UAAYlD,EAAMmD,QAAQD,UAC1C0b,EAAS1b,QAAU8F,EAAM7F,QAAQD,QACjC2b,EAAkB3b,QAAU0E,KAAKC,MACjCiX,EAAoB5b,SAAU,GAEzB,MACFlD,EADL,CAEEkD,QAASyb,EACTxb,QAASyb,EACT5B,iBAAkB6B,EAClB5B,mBAAoB6B,Q,GAnEH3V,aAsORuB,gBC7OY,SAAA1K,GAAK,MAAK,CACnCkD,QAASlD,EAAMkD,QACfC,QAASnD,EAAMmD,QACf4b,eAAgB/e,EAAM+e,mBAGM,SAAApU,GAAQ,MAAK,CACzCyS,WAAY,kBAAM,IAAI4B,SAAQ,SAACC,EAASC,GACtCvU,E1DmBsC,CACxCzK,KZrCmC,0BsEkBjCsN,MAAM,wBAAwBC,MAAK,SAAAC,GACjC,GAAIA,EAAEC,GAAI,OAAOD,EAAEE,OACnB,MAAM,IAAIC,MAAJ,gBAAmBH,EAAEI,OAArB,aAAgCJ,EAAEK,gBACvCN,MAAK,SAAAO,GACN,GAAKA,EAAIC,IAGF,CACLtD,EAAShD,EAAkBqG,EAAIC,MAC/B,IAAMvB,EAAK,4FAAqFsB,EAAIC,KACpGtD,EAASrC,GAAiBoE,EAAO,UACjCwS,EAAOlR,EAAIC,UANXtD,G1DiB2BrK,E0DjBE0N,EAAIE,K1DkBhC,CACLhO,KZzCiC,wBY0CjCM,UAAWoH,KAAKC,MAChBvH,U0DpBI2e,EAAQjR,EAAIE,M1DgBe,IAAA5N,K0DT5B6N,OAAM,SAAAF,GACPtD,EAAShD,EAAkBsG,EAAIG,UAC/B,IAAM1B,EAAK,4FAAqFuB,EAAIG,SACpGzD,EAASrC,GAAiBoE,EAAO,UACjCwS,EAAOjR,EAAIG,gBAGfsQ,eAAgB,SAAAjb,GACdkH,E1DkGqC,CACvCzK,KZpH8B,mBYqH9BY,O0DpG0B2C,KAE1B0E,iBAAkB,SAAA1E,GAChBkH,EAASxC,GAAiB1E,QD4MfiH,CAGboS,I,sgIEtPF,IAuMenU,GAvMCC,IAAOC,IAAV,MA8BD,SAAAC,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MACpB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MACP,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAC3B,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,OAQZ,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOlB,UAgB1B,SAAA4C,GAAC,OAAIjE,IAAUiE,EAAEtB,MAAMJ,OAAOlB,OAAQ,OAQ1C,SAAA4C,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAKf,SAAAsF,GAAC,OAAIA,EAAEtB,MAAM5C,QAAQE,SAMxB,SAAAgE,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAChB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAME,SAASN,OAAOlB,UAEvC,SAAA4C,GAAC,OAAIA,EAAEtB,MAAME,SAASN,OAAOpB,cAC7B,SAAA8C,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,QAUN,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAWnB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAa1B,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAId,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,M,ikBCvG9B2b,G,YACJ,WAAanW,GAAQ,IAAD,8BAClB,4CAAMA,KACDhJ,MAAQ,CACXoP,SAAS,EACTzO,YAAQE,GAEV,EAAKue,mBAAqB,GAC1B,EAAKlJ,eAAiB,EAAKA,eAAe/J,KAApB,gBACtB,EAAKkT,oBAAsB,EAAKA,oBAAoBlT,KAAzB,gBAC3BnD,EAAMsW,iBAAiB/C,SAAQ,WACzB,EAAK1Q,MAAM,EAAKyF,SAAS,CAAElC,SAAS,OAVxB,E,kFAelB,IAAMpG,EAAQvB,KAAKuB,MACbhJ,EAAQyH,KAAKzH,MACbuf,EAAevW,EAAMmV,MAAMqB,OAAOtf,KAElCuf,EADazW,EAAMrI,OAAOT,OACGqf,EACnC,IAAKvf,EAAMoP,SAAWqQ,EAAa,OAAOzW,EAAMyB,SAChDhD,KAAKyO,mB,uCAGY,IACTiE,EAAmB1S,KAAK4X,sBAAxBlF,eADQ,EAES1S,KAAK2X,mBAAtBhS,EAFQ,EAERA,KAAM8B,EAFE,EAEFA,OACRwQ,EAAa,SAAAjc,GACjB,YAAY5C,IAAR4C,EAA0B,GACvBA,GAET2J,EAAK4C,MAAMzN,MAAQmd,EAAWvF,EAAe/M,MAC7C8B,EAAOc,MAAMzN,MAAQmd,EAAWvF,EAAejL,U,4CAI/C,IAAMlG,EAAQvB,KAAKuB,MACb2W,EAAe3W,EAAMrI,OACrB8B,EAAiBZ,EAAyB8d,GAC1CC,EAAwBD,EAAa/d,kBAAoB,GACzDua,EAAkBnT,EAAM7H,QAC1BhB,OAAOC,OAAO,GAAIqC,EAAlB,MAAuCuG,EAAM7H,eAC7CN,EACAsb,WACKA,EAAgBvb,IACvBub,EAAgB/Z,UAAYqM,OAASoR,WAEvC,IAAMC,EAAgB9W,EAAM7H,QAAN,MAEfwe,EAFe,CAGlB/d,iBAAiB,GAAD,mBAAMge,GAAN,CAA6BzD,WAE7Ctb,EAIJ,MAAO,CACL8e,eACAld,iBACAqd,gBACA3D,kBACA4D,aAPmBD,GAAiBH,EAQpCxF,eATqBgC,GAAmB1Z,EAUxCud,SARe7D,GAAmBA,EAAgB7a,W,+BAY3C,IAAD,OACF0H,EAAQvB,KAAKuB,MACbhJ,EAAQyH,KAAKzH,MAFX,EAWJyH,KAAK4X,sBALPM,EANM,EAMNA,aACAld,EAPM,EAONA,eACA0Z,EARM,EAQNA,gBACAhC,EATM,EASNA,eACA6F,EAVM,EAUNA,SAEIC,EpElE2B,SAAAtf,GACnC,IACMuf,EADWre,EAAyBlB,GACfyB,WAAa,EAKxC,MAHoB,CADFzB,EAAOgB,YAAc,EACPue,GAAWC,QAAO,SAAChL,EAAKiL,GACtD,OAAO7X,KAAK4M,IAAIA,EAAKiL,MoE6DEC,CAAsBV,GACvCW,EAAc7R,KAAOwR,EAAgB,KAAKtR,OAAO,6BACjD4R,EAAe9R,KAAOwR,EAAgB,KAAKO,UAC3CpR,EAAUpP,EAAMoP,QAChBqR,EAAkBzX,EAAMwV,KAAK/M,SAAY,SAAAzI,GAAK,OAAI,+BAClD0X,EAAuB1X,EAAMwV,KAAK/B,UAAa,SAAAzT,GAAK,OAAI,+BACxD2X,EAAgB3X,EAAMwV,KAAK7B,SAAY,SAAA3T,GAAK,OAAI,+BAChD4X,IACCjB,EAAa/e,MACdwO,IACA4Q,IACA7D,EAKAhS,EAAU,CAAC,eASjB,OARInK,EAAMoP,SAASjF,EAAQU,KAAK,+BAC5B7B,EAAM7H,SAASgJ,EAAQU,KAAK,8BAC5B7B,EAAMwV,KAAK/M,SAAStH,EAAQU,KAAK,4BACjC7B,EAAMwV,KAAK/B,UAAUtS,EAAQU,KAAK,oCAClCmV,GAAU7V,EAAQU,KAAK,sBACvB+V,GAASzW,EAAQU,KAAK,qBAGnB,kBAAC,GAAD,CAASmB,IAAK,SAAAH,GAAU,EAAKA,KAAOA,GAAQ5C,UAAWkB,EAAQe,KAAK,MACzE,yBAAKjC,UAAU,uBAAsB,kBAAC,GAAD,OACrC,yBAAKA,UAAU,wBACb,yBAAKA,UAAU,8BAA6B,kBAAC,GAAD,OAC5C,yBAAKA,UAAU,mCACb,yBAAKA,UAAU,+BACb,kBAACwX,EAAD,CACEpf,GAAIse,EAAa/e,IACjBof,SAAUA,EACV5Q,QAASA,EACT3M,eAAgBA,EAChB0Z,gBAAiBA,EACjBhC,eAAgBA,EAChB1D,gBAAiBzN,EAAMyN,gBACvBnO,iBAAkBU,EAAMV,oBAE5B,yBAAKW,UAAU,kCACb,kBAAC,GAAD,CAAW+B,QAAM,EAACD,OAAK,GAAvB,sDAGJ,kBAAC,IAAD,CAAevD,MAAOA,EAAME,QAC1B,yBAAKuB,UAAU,oCACb,yBAAKA,UAAU,2CACb,yBAAKA,UAAU,wCACb,kBAAC,GAAD,CAAY1F,MAAO,GAAnB,gCACA,4BACE,4BACE,kBAAC,GAAD,CACEqM,MAAM,QACNU,YAAY,iCACZC,aAAc4J,EAAe/M,KAC7B8C,SAAU,SAAAtF,GAAC,OAAI5B,EAAMyN,gBAAgB,OAAQ7L,EAAEmM,OAAOxU,QACtDyJ,IAAK,SAAAH,GAAU,EAAKuT,mBAAmBhS,KAAOvB,MAElD,4BACE,kBAAC,GAAD,CACE+D,MAAM,SACNU,YAAY,YACZC,aAAc4J,EAAejL,OAC7BgB,SAAU,SAAAtF,GAAC,OAAI5B,EAAMyN,gBAAgB,SAAU7L,EAAEmM,OAAOxU,QACxDyJ,IAAK,SAAAH,GAAU,EAAKuT,mBAAmBlQ,OAASrD,QAIxD,yBAAK5C,UAAU,uCACb,kBAAC,GAAD,CAAY1F,MAAO,GAAnB,2BACA,kBAACmd,EAAD,CACErf,GAAIse,EAAa/e,IACjBof,SAAUA,EACV5Q,QAASA,EACT3M,eAAgBA,EAChB0Z,gBAAiBA,EACjBhC,eAAgBA,EAChB1D,gBAAiBzN,EAAMyN,gBACvBnO,iBAAkBU,EAAMV,uBAKlC,yBAAKW,UAAU,uCACb,yBAAKQ,IAAI,qBAAqBJ,IAAI,aAGtC,yBAAKJ,UAAU,2BACb,kBAAC,GAAD,KACE,yBAAKA,UAAU,wBACb,kBAAC,GAAD,CAAQyC,MAAI,EAACD,OAAK,EAACjB,QAASxB,EAAMyB,QAAlC,iBACA,yBAAKxB,UAAU,+BACb,kBAAC0X,EAAD,CACEtf,GAAIse,EAAa/e,IACjBof,SAAUA,EACV5Q,QAASA,EACT3M,eAAgBA,EAChB0Z,gBAAiBA,EACjBhC,eAAgBA,EAChB1D,gBAAiBzN,EAAMyN,gBACvBnO,iBAAkBU,EAAMV,oBAE5B,yBAAKW,UAAU,gCACb,kBAAC,GAAD,CAAW8B,OAAK,EAACjG,OAAK,GAAtB,uBACmB,6BADnB,IAEG,0BAAMwE,MAAOgX,GAAcC,GAF9B,MAKF,yBAAKtX,UAAU,iCACb,kBAAC,GAAD,CAAW8B,OAAK,EAACC,QAAM,EAAClG,OAAK,GAA7B,sBAIF,yBAAKmE,UAAU,4BACb,kBAAC,GAAD,CACEsC,SAAO,EACPD,SAAU0U,EACVxV,QAAS,SAAAI,GAAC,OAAI5B,EAAM6X,YAAY1E,KAHlC,wB,GAnMWhT,aAiNVuB,gBCpNY,SAAC1K,EAAOgJ,GACjC,IAAM3H,EAAK2H,EAAMmV,MAAMqB,OAAOne,GACxBnB,EAAO8I,EAAMmV,MAAMqB,OAAOtf,KAChC,MAAO,CACLse,KAAMD,GAAUzd,QAAO,SAAA0d,GAAI,OAAIA,EAAKte,OAASA,KAAM,IAAM,GACzDS,OAAQX,EAAMkD,QAAQ5C,KAAKQ,QAAO,SAAAH,GAAM,OAAIA,EAAOC,MAAQS,KAAI,IAAvD,MAAkEK,GAC1EP,QAASnB,EAAMkD,QAAQ/B,QAAQL,QAAO,SAAAggB,GAAU,OAAIA,EAAWlgB,MAAQS,KAAI,OAIjD,SAACsJ,EAAU3B,GACvC,IAAM3H,EAAK2H,EAAMmV,MAAMqB,OAAOne,GAC9B,MAAO,CACLoJ,OAAQ,SAAAG,GAAC,OAAID,EAASE,YAAK,OAC3B4L,gBAAiB,SAACnU,EAAKmB,GAAN,OAAckH,E7D6ET,SAACtJ,EAAIiB,EAAKC,GAAV,MAAqB,CAC7CrC,KZ3FyB,cY4FzBmB,KACAiB,MACAC,S6DjF0CF,CAAWhB,EAAIiB,EAAKmB,KAC5D6b,eAAgB,kBAAM,IAAIN,SAAQ,SAACC,EAASC,GAC1CvU,E7DwB4B,SAAAtJ,GAAE,MAAK,CACvCnB,KZpDkC,uBYqDlCmB,M6D1Ba0f,CAAmB1f,IAC5BmM,MAAM,mBAAD,OAAoBnM,IAAMoM,MAAK,SAAAC,GAClC,GAAIA,EAAEC,GAAI,OAAOD,EAAEE,OACnB,MAAM,IAAIC,MAAJ,gBAAmBH,EAAEI,OAArB,aAAgCJ,EAAEK,gBACvCN,MAAK,SAAAO,GACN,GAAKA,EAAIC,IAGF,CACLtD,EAAS7C,EAAiBkG,EAAIC,MAC9B,IAAMvB,EAAK,6FAAsFsB,EAAIC,KACrGtD,EAASrC,GAAiBoE,EAAO,UACjC/B,EAASE,YAAK,MACdqU,EAAOlR,EAAIC,UAPXtD,G7DuBwBhK,E6DvBIqN,EAAIE,K7DuBG,CAC3ChO,KZxDkC,uBYyDlCM,UAAWoH,KAAKC,MAChBlH,Y6DzBQse,EAAQjR,EAAIE,M7DsBY,IAAAvN,K6DdzBwN,OAAM,SAAAF,GACPtD,EAAS7C,EAAiBmG,EAAIG,UAC9B,IAAM1B,EAAK,6FAAsFuB,EAAIG,SACrGzD,EAASrC,GAAiBoE,EAAO,UACjC/B,EAASE,YAAK,MACdqU,EAAOjR,EAAIG,gBAGfyS,YAAa,SAAAG,GAAW,OAAI,IAAIhC,SAAQ,SAACC,EAASC,GAChD,IAAK8B,EAAa,OAAO9B,EAAO,IAAIrR,MAAM,uBAC1ClD,E7DkC2B,SAAAtJ,GAAE,MAAK,CACtCnB,KZ/EiC,sBYgFjCmB,M6DpCa4f,CAAkB5f,IAC3BmM,MAAM,oBAAD,OAAqBnM,GAAM,CAC9BqO,OAAQ,MACRwR,KAAMC,KAAKC,UAAUJ,GACrBK,QAAS,CAAE,eAAgB,qCAC1B5T,MAAK,SAAAC,GACN,GAAIA,EAAEC,GAAI,OAAOD,EAAEE,OACnB,MAAM,IAAIC,MAAJ,gBAAmBH,EAAEI,OAArB,aAAgCJ,EAAEK,gBACvCN,MAAK,SAAAO,GACN,GAAKA,EAAIC,IAIF,CACLtD,EAAS1C,EAAgB5G,IACzB,IAAMqL,EAAK,gGAAyFsB,EAAIC,KACxGtD,EAASrC,GAAiBoE,EAAO,UACjCwS,EAAOlR,EAAIC,UAPXtD,E7D6BkC,CAC1CzK,KZnFiC,sBYoFjCS,O6D/BmCqN,EAAIE,OAC/BvD,EAASrC,GAAiB,2BAC1B2W,EAAQjR,EAAIE,SAObC,OAAM,SAAAF,GACPtD,EAAS1C,EAAgB5G,IACzB,IAAMqL,EAAK,gGAAyFuB,EAAIG,SACxGzD,EAASrC,GAAiBoE,EAAO,UACjCwS,EAAOjR,EAAIG,gBAGf9F,iBAAkB,SAAChF,EAAMC,GACvB,IAAKD,EAAM,MAAM,IAAIuK,MAAM,uEAC3BlD,EAASrC,GAAiBhF,EAAMC,QD+IvBmH,CAGbyU,I,stHEpOF,IAoLexW,GApLCC,IAAOC,IAAV,MAcC,SAAAC,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAEb,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,QACnB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOpB,cACnB,SAAA8C,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,QAEhC,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MACnB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAGR,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,QAMT,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAe7B,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAIxB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAYd,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MACtB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMD,UAAUH,OAAOlB,UAIpB,SAAA4C,GAAC,OAAIA,EAAEtB,MAAMxD,YAAYD,SACjC,SAAA+E,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,OAUX,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMxD,YAAYD,SAIrC,SAAA+E,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MACrB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAClB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MAWnB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMD,UAAUH,OAAOrB,iBAI9B,SAAA+C,GAAC,OAAIA,EAAEtB,MAAMD,UAAUH,OAAOvB,YA0BxB,SAAAiD,GAAC,OAAIA,EAAEtB,MAAMhE,MAAM,MCvGjB8d,G,YACnB,WAAatY,GAAQ,IAAD,8BAClB,4CAAMA,KACDhJ,MAAQ,CACXuhB,KAAM,KACNC,OAAQ,CACNC,KAAM,KACNvhB,KAAM,OAGN8I,EAAMS,KACR+D,MAAMxE,EAAMS,IAAK,CACfiG,OAAQ,MACRnK,KAAM,SACLkI,MAAK,SAAAC,GAAC,OAAIA,EAAEC,GAAKD,EAAE0O,OAAS,QAC5B3O,MAAK,SAAAO,GACJ,EAAKsD,SAAS,CACZkQ,OAAQ,CACNC,KAAMzT,EAAIyT,KACVvhB,KAAM8N,EAAI9N,WAlBF,E,sEAyBT,IAAD,OACF8I,EAAQvB,KAAKuB,MACbhJ,EAAQyH,KAAKzH,MAGfmK,EAAU,aACVnB,EAAM4G,QAAOzF,GAAW,0BACxBnB,EAAM0Y,YAAWvX,GAAW,yBAC5BnK,EAAMuhB,OAAMpX,GAAW,yBACvBnB,EAAMS,MAAKU,GAAW,2BAC1B,IAAMwX,EAAQ,eAAClY,EAAD,uDAAO,GAAP,OAAcA,EACzB2I,MAAM,KACNsJ,OAAO,GAAG,GACVyC,MAAM,wCACLnV,EAAMS,KAAOkY,EAAM3Y,EAAMS,OAAMU,GAAW,iCAC1CnB,EAAMS,MAAQkY,EAAM3Y,EAAMS,OAAMU,GAAW,iCAG/C,IAAMyX,EAAoB,SAAAhX,GACxBA,EAAE2C,kBACF,EAAKyC,MAAM6R,SAOPC,EAAiB,SAAAlX,GACrBA,EAAE2C,kBACFiC,OAAOuS,KAAK/Y,EAAMS,IAAK,WAanBuY,EAAgB,eAACvY,EAAD,uDAAO,GAAP,OAAcA,EAAI2I,MAAM,KAAKsJ,OAAO,GAAG,IACvDuG,EAAmB,SAAAR,GACvB,IAAKA,GAAiB,IAATA,EAAY,MAAO,UAIhC,IAHA,IAAIzT,EAAMyT,EACNje,EAAQ,CAAC,IAAK,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MACxD0e,EAAe,EACZlU,EAAM,MAAQkU,EAAe1e,EAAMZ,OAAS,GACjDoL,GAAY,KACZkU,IAGF,OADAlU,EAAMzF,KAAKC,MAAY,IAANwF,GAAa,IACxB,GAAN,OAAUA,EAAV,YAAiBxK,EAAM0e,KAIzB,OAAO,kBAAC,GAAD,CAASjZ,UAAWkB,GACzB,yBAAKlB,UAAU,qBAAoB,kBAAC,GAAD,KAAaD,EAAM4G,QACtD,yBAAK3G,UAAU,qBACb,yBAAKA,UAAU,yBAAyBuB,QAASoX,GAC/C,yBAAK3Y,UAAU,oCAAmC,kBAAC,GAAD,CAAG8B,OAAK,GAAE/B,EAAMsH,aAAe,uBACjF,yBAAKrH,UAAU,sCAAqC,kBAAC,GAAD,CAAG8B,OAAK,GAAR,iBACpD,yBAAK9B,UAAU,wBAAuB,kBAAC,GAAD,KAAIjJ,EAAMuhB,KAAOvhB,EAAMuhB,KAAKnU,KAAO,QAE3E,yBAAKnE,UAAU,kCAAiC,kBAAC,GAAD,CAAQwC,OAAK,EAACjB,QA7BhD,SAAAI,GAChB,EAAKoF,MAAMzN,MAAQ,KACnB,EAAK+O,SAAS,CAAEiQ,KAAM,SA2B4B,MAChD,yBAAKtY,UAAU,0BAA0BuB,QAnC1B,SAAAI,GACb5B,EAAMmZ,UACRnZ,EAAMmZ,SAASvX,EAAG5K,EAAMuhB,QAiCsC,kBAAC,GAAD,gBAC9D,yBAAKtY,UAAU,6BAA4B,yBAAKI,IAAI,SAASI,IAAI,wBACjE,yBAAKR,UAAU,0BAAyB,2BAAO/I,KAAK,OAAOgQ,SA9CtC,SAAAtF,GACvB,EAAK0G,SAAS,CACZiQ,KAAM,EAAKvR,MAAMoS,MAAM,IAAM,QA4C0DpW,IAAK,SAAAyO,GAAO,EAAKzK,MAAQyK,OAElH,yBAAKxR,UAAU,2BAA2BuB,QAASoX,GACjD,yBAAK3Y,UAAU,qBAAoB,kBAAC,GAAD,CAAOU,SAAO,EAACF,IAAKT,EAAMS,OAC7D,yBAAKR,UAAU,8CACb,yBAAKA,UAAU,kCACb,yBAAKA,UAAU,0BAAyB,kBAAC,GAAD,CAAG8B,OAAK,EAACjG,OAAK,GAAEmd,EAAiBjiB,EAAMwhB,OAAOC,MAA9C,aACxC,yBAAKxY,UAAU,0BAAyB,kBAAC,GAAD,CAAG8B,OAAK,EAACjG,OAAK,GAAE9E,EAAMwhB,OAAOthB,MAAQ,YAC7E,yBAAK+I,UAAU,0BAAyB,kBAAC,GAAD,KAAI+Y,EAAchZ,EAAMS,QAElE,yBAAKR,UAAU,qCAAoC,kBAAC,GAAD,CAAQwC,OAAK,EAACjB,QAASsX,GAAvB,sBACnD,yBAAK7Y,UAAU,iCAAgC,kBAAC,GAAD,CAAQuB,QAASoX,GAAjB,eAGnD,yBAAK3Y,UAAU,2BAA2BuB,QAASoX,GACjD,kBAAC,GAAD,KACE,yBAAK3Y,UAAU,kCACb,yBAAKA,UAAU,0BAAyB,kBAAC,GAAD,CAAG8B,OAAK,EAACjG,OAAK,GAAEmd,EAAiBjiB,EAAMwhB,OAAOC,MAA9C,aACxC,yBAAKxY,UAAU,0BAAyB,kBAAC,GAAD,CAAG8B,OAAK,EAACjG,OAAK,GAAE9E,EAAMwhB,OAAOthB,MAAQ,YAC7E,yBAAK+I,UAAU,0BAAyB,kBAAC,GAAD,KAAI+Y,EAAchZ,EAAMS,QAElE,yBAAKR,UAAU,qCAAoC,kBAAC,GAAD,CAAQwC,OAAK,EAACjB,QAASsX,GAAvB,sBACnD,yBAAK7Y,UAAU,iCAAgC,kBAAC,GAAD,CAAQuB,QAASoX,GAAjB,oB,GApHlBzY,a,iuBCrBvC,IA0CeR,GA1CCC,IAAOC,IAAV,MAGA,SAAAG,GAAK,OAAIA,EAAMxB,MAAMhE,MAAM,MACxB,SAAAsF,GAAC,OAAIA,EAAEtB,MAAMJ,OAAOlB,UAIrB,SAAA8C,GAAK,OAAIA,EAAMxB,MAAMhE,MAAM,MACxB,SAAAwF,GAAK,OAAIA,EAAMxB,MAAMJ,OAAOnB,aAC3B,SAAA+C,GAAK,OAAIA,EAAMxB,MAAMvD,MAAME,QACjC,SAAA6E,GAAK,OAAIA,EAAMxB,MAAMJ,OAAOrB,iBACpB,SAAAiD,GAAK,OAAIA,EAAMxB,MAAMhE,MAAM,MAe1C,SAAAwF,GAAK,OAAIA,EAAMxB,MAAMhE,MAAM,MAC3B,SAAAwF,GAAK,OAAIA,EAAMxB,MAAMhE,MAAM,MAGd,SAAAwF,GAAK,OAAIA,EAAMxB,MAAMvD,MAAME,QACjC,SAAA6E,GAAK,OAAIA,EAAMxB,MAAMJ,OAAOrB,iBACpB,SAAAiD,GAAK,OAAIA,EAAMxB,MAAMhE,MAAM,MAK3B,SAAAwF,GAAK,OAAIA,EAAMxB,MAAMhE,MAAM,MC1B1C6e,GAAQ,SAAC,GAAyB,IAAvB/Y,EAAsB,EAAtBA,MAAOJ,EAAe,EAAfA,SAChBkB,EAAQ,CAAEqH,QAASnI,EAAQ,QAAU,QAC3C,OAAO,yBAAKL,UAAU,iBACpB,yBAAKA,UAAU,uBAAuBmB,MAAOA,GAC1Cd,GAEH,yBAAKL,UAAU,0BACZC,KAKDoZ,GAAO,SAAC,GAAgC,IAA9BhZ,EAA6B,EAA7BA,MAAOW,EAAsB,EAAtBA,MAAOf,EAAe,EAAfA,SACtBkB,EAAQ,CACZqH,QAASxH,EAAQ,eAAiB,QAClCA,MAAOA,EAAK,UAAc,IAARA,EAAN,KAAuB,QAErC,OAAO,yBAAKhB,UAAU,gBAAgBmB,MAAOA,GAC1Cd,EAAQ,yBAAKL,UAAU,wBAAwBK,GAAe,KAC/D,yBAAKL,UAAU,0BAA0BC,KAIxBqZ,G,iLAEjB,OAAO,kBAAC,GAAD,KACL,kBAAC,GAAD,CAAOjZ,MAAM,eACX,kBAAC,GAAD,CAAMA,MAAM,cAAa,kBAAC,GAAD,CAAW/F,MAAO,GAAlB,wBACzB,kBAAC,GAAD,CAAM+F,MAAM,eAAc,kBAAC,GAAD,CAAY/F,MAAO,GAAnB,wBAC1B,kBAAC,GAAD,CAAM+F,MAAM,mBAAkB,kBAAC,GAAD,CAAgB/F,MAAO,GAAvB,yBAEhC,kBAAC,GAAD,CAAO+F,MAAM,WACX,kBAAC,GAAD,CAAMA,MAAM,SAASW,MAAO,KAAO,kBAAC,GAAD,mBACnC,kBAAC,GAAD,CAAMX,MAAM,eAAeW,MAAO,KAAO,kBAAC,GAAD,CAAQwB,OAAK,GAAb,cACzC,kBAAC,GAAD,CAAMnC,MAAM,mBAAmBW,MAAO,KAAO,kBAAC,GAAD,CAAQuB,WAAS,GAAjB,cAC7C,kBAAC,GAAD,CAAMlC,MAAM,yBAAyBW,MAAO,KAAO,kBAAC,GAAD,CAAQwB,OAAK,EAACD,WAAS,GAAvB,cAEnD,kBAAC,GAAD,CAAMlC,MAAM,kBAAkBW,MAAO,KAAO,kBAAC,GAAD,CAAQqB,UAAQ,GAAhB,cAC5C,kBAAC,GAAD,CAAMhC,MAAM,wBAAwBW,MAAO,KAAO,kBAAC,GAAD,CAAQwB,OAAK,EAACH,UAAQ,GAAtB,cAClD,kBAAC,GAAD,CAAMhC,MAAM,4BAA4BW,MAAO,KAAO,kBAAC,GAAD,CAAQuB,WAAS,EAACF,UAAQ,GAA1B,cACtD,kBAAC,GAAD,CAAMhC,MAAM,kCAAkCW,MAAO,KAAO,kBAAC,GAAD,CAAQwB,OAAK,EAACD,WAAS,EAACF,UAAQ,GAAhC,cAE5D,kBAAC,GAAD,CAAMhC,MAAM,iBAAiBW,MAAO,KAAO,kBAAC,GAAD,CAAQsB,SAAO,GAAf,cAC3C,kBAAC,GAAD,CAAMjC,MAAM,uBAAuBW,MAAO,KAAO,kBAAC,GAAD,CAAQsB,SAAO,EAACE,OAAK,GAArB,cACjD,kBAAC,GAAD,CAAMnC,MAAM,2BAA2BW,MAAO,KAAO,kBAAC,GAAD,CAAQsB,SAAO,EAACC,WAAS,GAAzB,cACrD,kBAAC,GAAD,CAAMlC,MAAM,iCAAiCW,MAAO,KAAO,kBAAC,GAAD,CAAQsB,SAAO,EAACE,OAAK,EAACD,WAAS,GAA/B,cAE3D,kBAAC,GAAD,CAAMlC,MAAM,0BAA0BW,MAAO,KAAO,kBAAC,GAAD,CAAQsB,SAAO,EAACD,UAAQ,GAAxB,cACpD,kBAAC,GAAD,CAAMhC,MAAM,gCAAgCW,MAAO,KAAO,kBAAC,GAAD,CAAQsB,SAAO,EAACE,OAAK,EAACH,UAAQ,GAA9B,cAC1D,kBAAC,GAAD,CAAMhC,MAAM,oCAAoCW,MAAO,KAAO,kBAAC,GAAD,CAAQsB,SAAO,EAACC,WAAS,EAACF,UAAQ,GAAlC,cAC9D,kBAAC,GAAD,CAAMhC,MAAM,0CAA0CW,MAAO,KAAO,kBAAC,GAAD,CAAQsB,SAAO,EAACE,OAAK,EAACD,WAAS,EAACF,UAAQ,GAAxC,cAEpE,kBAAC,GAAD,CAAMhC,MAAM,cAAcW,MAAO,KAAO,kBAAC,GAAD,CAAQyB,MAAI,GAAZ,cACxC,kBAAC,GAAD,CAAMpC,MAAM,oBAAoBW,MAAO,KAAO,kBAAC,GAAD,CAAQyB,MAAI,EAACD,OAAK,GAAlB,cAC9C,kBAAC,GAAD,CAAMnC,MAAM,wBAAwBW,MAAO,KAAO,kBAAC,GAAD,CAAQyB,MAAI,EAACF,WAAS,GAAtB,cAClD,kBAAC,GAAD,CAAMlC,MAAM,8BAA8BW,MAAO,KAAO,kBAAC,GAAD,CAAQyB,MAAI,EAACD,OAAK,EAACD,WAAS,GAA5B,cAExD,kBAAC,GAAD,CAAMlC,MAAM,uBAAuBW,MAAO,KAAO,kBAAC,GAAD,CAAQyB,MAAI,EAACJ,UAAQ,GAArB,cACjD,kBAAC,GAAD,CAAMhC,MAAM,6BAA6BW,MAAO,KAAO,kBAAC,GAAD,CAAQyB,MAAI,EAACD,OAAK,EAACH,UAAQ,GAA3B,cACvD,kBAAC,GAAD,CAAMhC,MAAM,iCAAiCW,MAAO,KAAO,kBAAC,GAAD,CAAQyB,MAAI,EAACF,WAAS,EAACF,UAAQ,GAA/B,cAC3D,kBAAC,GAAD,CAAMhC,MAAM,uCAAuCW,MAAO,KAAO,kBAAC,GAAD,CAAQyB,MAAI,EAACD,OAAK,EAACD,WAAS,EAACF,UAAQ,GAArC,cAEjE,kBAAC,GAAD,CAAMhC,MAAM,sBAAsBW,MAAO,KAAO,kBAAC,GAAD,CAAQyB,MAAI,EAACH,SAAO,GAApB,cAChD,kBAAC,GAAD,CAAMjC,MAAM,4BAA4BW,MAAO,KAAO,kBAAC,GAAD,CAAQyB,MAAI,EAACH,SAAO,EAACE,OAAK,GAA1B,cACtD,kBAAC,GAAD,CAAMnC,MAAM,gCAAgCW,MAAO,KAAO,kBAAC,GAAD,CAAQyB,MAAI,EAACH,SAAO,EAACC,WAAS,GAA9B,cAC1D,kBAAC,GAAD,CAAMlC,MAAM,sCAAsCW,MAAO,KAAO,kBAAC,GAAD,CAAQyB,MAAI,EAACH,SAAO,EAACE,OAAK,EAACD,WAAS,GAApC,cAEhE,kBAAC,GAAD,CAAMlC,MAAM,+BAA+BW,MAAO,KAAO,kBAAC,GAAD,CAAQyB,MAAI,EAACH,SAAO,EAACD,UAAQ,GAA7B,cACzD,kBAAC,GAAD,CAAMhC,MAAM,qCAAqCW,MAAO,KAAO,kBAAC,GAAD,CAAQyB,MAAI,EAACH,SAAO,EAACE,OAAK,EAACH,UAAQ,GAAnC,cAC/D,kBAAC,GAAD,CAAMhC,MAAM,yCAAyCW,MAAO,KAAO,kBAAC,GAAD,CAAQyB,MAAI,EAACH,SAAO,EAACC,WAAS,EAACF,UAAQ,GAAvC,cACnE,kBAAC,GAAD,CAAMhC,MAAM,+CAA+CW,MAAO,KAAO,kBAAC,GAAD,CAAQyB,MAAI,EAACH,SAAO,EAACE,OAAK,EAACD,WAAS,EAACF,UAAQ,GAA7C,eAE3E,kBAAC,GAAD,CAAOhC,MAAM,UACX,kBAAC,GAAD,CAAMA,MAAM,aAAaW,MAAO,KAC9B,kBAAC,GAAD,CACE2F,MAAM,QACNU,YAAY,iBAEhB,kBAAC,GAAD,CAAMhH,MAAM,cAAcW,MAAO,KAC/B,kBAAC,GAAD,CACE2F,MAAM,QACNqB,QAAS,CACP,CAAErB,MAAO,6BAA2BrN,MAAO,cAAe+I,UAAU,EAAMwF,UAAU,GACpF,CAAElB,MAAO,UAAWrN,MAAO,WAC3B,CAAEqN,MAAO,SAAKrN,MAAO,IAAK+I,UAAU,GACpC,CAAEsE,MAAO,UAAWrN,MAAO,WAC3B,CAAEqN,MAAO,UAAWrN,MAAO,eAGjC,kBAAC,GAAD,CAAM0H,MAAO,KACb,kBAAC,GAAD,CAAMX,MAAM,eAAeW,MAAO,KAChC,kBAAC,GAAD,CAAaqG,YAAY,sBAE3B,kBAAC,GAAD,CAAMhH,MAAM,mBAAmBW,MAAO,KACpC,kBAAC,GAAD,CACEqG,YAAY,wBAEhB,kBAAC,GAAD,CAAMhH,MAAM,wBAAwBW,MAAO,KACzC,kBAAC,GAAD,CACE2F,MAAM,QACNU,YAAY,qBACZ7G,IAAI,mHAER,kBAAC,GAAD,CAAMH,MAAM,uBAAuBW,MAAO,KACxC,kBAAC,GAAD,CACE2F,MAAM,QACNU,YAAY,qBACZ7G,IAAI,iFAGV,kBAAC,GAAD,CAAOH,MAAM,uBACX,kBAAC,GAAD,CAAMA,MAAM,UAAS,kBAAC,GAAD,OACrB,kBAAC,GAAD,CAAMA,MAAM,qBAAkBW,MAAO,EAAI,GACvC,kBAAC,GAAD,CACEX,MAAM,cACN6D,MAAM,oCACNE,YAAY,4CAEhB,kBAAC,GAAD,CAAM/D,MAAM,uBAAoBW,MAAO,EAAI,GACzC,kBAAC,GAAD,CAAiBmF,SAAO,IACxB,kBAAC,GAAD,CAAiBA,SAAO,IACxB,kBAAC,GAAD,CACE9F,MAAM,6EACNpJ,KAAK,gBACLgP,OAAO,oBACPL,QAAS,WACTC,QAAS,WACT3B,MAAM,4EACR,kBAAC,GAAD,CACE7D,MAAM,6EACNpJ,KAAK,gBACLgP,OAAO,oBACPL,QAAS,WACTC,QAAS,WACTC,UAAW,WACX5B,MAAM,4EACR,kBAAC,GAAD,CACE7D,MAAM,6EACNpJ,KAAK,gBACLgP,OAAO,oBACPL,QAAS,WACT1B,MAAM,mF,GAtH0BhE,a,+NCR5C,IAAMqZ,GAAUC,cACVC,GAAaC,YAAiBH,IAC9BI,GAASC,uBAAa,CAC1BC,WAAW,EACXC,UAAU,EACVC,MAAM,IAEFC,GAAQC,YACZC,Y,2VAAgB,IACXlgB,EADU,CAEbmgB,OAAQC,OAEVC,YACEZ,GACAE,KASJW,iBACE,kBAAC,IAAD,CAAUN,MAAOA,IACf,kBAAC,IAAD,CAAezb,MAAOA,GACpB,kBAAC,IAAD,CAAiBgb,QAASA,GAASS,MAAOA,IACxC,yBAAK5hB,GAAG,OACN,kBAACmiB,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAOC,KAAK,IAAGC,UAAW,SAAA3a,GAAK,OAAI,kBAAC,GAAaA,IAAW4a,OAAK,IACjE,kBAACH,EAAA,EAAD,CAAOC,KAAK,kBAAkBC,UAAW,SAAA3a,GAAK,OAAI,kBAAC,GAAeA,IAAW4a,OAAK,IAClF,kBAACH,EAAA,EAAD,CAAOC,KAAK,cAAcC,UAAW,SAAA3a,GAAK,OAAI,kBAAC,GAAmBA,IAAW4a,OAAK,IAClF,kBAACC,EAAA,EAAD,CAAUC,KAAK,IAAIC,GAAG,WAMhC3b,SAAS4b,eAAe,W","file":"static/js/main.66bccde6.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/libe-quote-sign.b83b9db2.png\";","module.exports = __webpack_public_path__ + \"static/media/bg-image-placeholder.031d5a71.svg\";","module.exports = __webpack_public_path__ + \"static/media/image-placeholder.e1f4a97b.svg\";","module.exports = __webpack_public_path__ + \"static/media/no-display-bg-placeholder.d753541f.svg\";","import {\n  FETCH_BUNDLES_REQUEST,\n  FETCH_BUNDLES_SUCCESS,\n  FETCH_BUNDLES_FAILURE\n} from '../../actions/actionTypes'\n\nconst fetchBundles = (state, action) => {\n  switch (action.type) {\n    case FETCH_BUNDLES_REQUEST:\n      return Object.assign({}, state, {\n        isFetching: true\n      })\n    case FETCH_BUNDLES_SUCCESS:\n      return Object.assign({}, state, {\n        list: action.list,\n        error: null,\n        isFetching: false,\n        updatedAt: action.updatedAt\n      })\n    case FETCH_BUNDLES_FAILURE:\n      return Object.assign({}, state, {\n        error: action.error,\n        isFetching: false,\n        updatedAt: action.updatedAt\n      })\n    default:\n      return state\n  }\n}\n\nexport default fetchBundles\n","export const FETCH_BUNDLES_REQUEST = 'FETCH_BUNDLES_REQUEST'\nexport const FETCH_BUNDLES_SUCCESS = 'FETCH_BUNDLES_SUCCESS'\nexport const FETCH_BUNDLES_FAILURE = 'FETCH_BUNDLES_FAILURE'\n\nexport const FETCH_BUNDLE_REQUEST = 'FETCH_BUNDLE_REQUEST'\nexport const FETCH_BUNDLE_SUCCESS = 'FETCH_BUNDLE_SUCCESS'\nexport const FETCH_BUNDLE_FAILURE = 'FETCH_BUNDLE_FAILURE'\n\nexport const CREATE_BUNDLE_REQUEST = 'CREATE_BUNDLE_REQUEST'\nexport const CREATE_BUNDLE_SUCCESS = 'CREATE_BUNDLE_SUCCESS'\nexport const CREATE_BUNDLE_FAILURE = 'CREATE_BUNDLE_FAILURE'\n\nexport const SAVE_BUNDLE_REQUEST = 'SAVE_BUNDLE_REQUEST'\nexport const SAVE_BUNDLE_SUCCESS = 'SAVE_BUNDLE_SUCCESS'\nexport const SAVE_BUNDLE_FAILURE = 'SAVE_BUNDLE_FAILURE'\n\nexport const EDIT_BUNDLE = 'EDIT_BUNDLE'\n\nexport const DELETE_BUNDLE_REQUEST = 'DELETE_BUNDLE_REQUEST'\nexport const DELETE_BUNDLE_SUCCESS = 'DELETE_BUNDLE_SUCCESS'\nexport const DELETE_BUNDLE_FAILURE = 'DELETE_BUNDLE_FAILURE'\n\nexport const SET_TOOLS_FILTER = 'SET_TOOLS_FILTER'\nexport const SET_BUNDLES_FILTER = 'SET_BUNDLES_FILTER'\n\nexport const PUSH_NOTIFICATION = 'PUSH_NOTIFICATION'\n","import {\n  FETCH_BUNDLE_REQUEST,\n  FETCH_BUNDLE_SUCCESS,\n  FETCH_BUNDLE_FAILURE\n} from '../../actions/actionTypes'\n\nconst fetchBundle = (state, action) => {\n  switch (action.type) {\n    case FETCH_BUNDLE_REQUEST:\n      return state\n    case FETCH_BUNDLE_SUCCESS:\n      return Object.assign({}, state, {\n        list: [...state.list.map(bundle => {\n          const id1 = bundle._id\n          const id2 = action.bundle._id\n          return (id1 !== id2) ? bundle : undefined\n        }), action.bundle].filter(elt => elt)\n      })\n    case FETCH_BUNDLE_FAILURE:\n      return state\n    default:\n      return state\n  }\n}\n\nexport default fetchBundle\n","import {\n  CREATE_BUNDLE_REQUEST,\n  CREATE_BUNDLE_SUCCESS,\n  CREATE_BUNDLE_FAILURE\n} from '../../actions/actionTypes'\n\nconst createBundle = (state, action) => {\n  switch (action.type) {\n    case CREATE_BUNDLE_REQUEST:\n      return Object.assign({}, state, {\n        isCreating: true\n      })\n    case CREATE_BUNDLE_SUCCESS:\n      return Object.assign({}, state, {\n        isCreating: false,\n        list: [...state.list.map(bundle => {\n          const id1 = bundle._id\n          const id2 = action.bundle._id\n          return (id1 !== id2) ? bundle : undefined\n        }), action.bundle].filter(elt => elt)\n      })\n    case CREATE_BUNDLE_FAILURE:\n      return Object.assign({}, state, {\n        isCreating: false\n      })\n    default:\n      return state\n  }\n}\n\nexport default createBundle\n","import {\n  SAVE_BUNDLE_REQUEST,\n  SAVE_BUNDLE_SUCCESS,\n  SAVE_BUNDLE_FAILURE\n} from '../../actions/actionTypes'\n\nconst saveBundle = (state, action) => {\n  switch (action.type) {\n    case SAVE_BUNDLE_REQUEST:\n      return Object.assign({}, state, {\n        changes: [...state.changes.map(bundleChanges => {\n          const id1 = bundleChanges._id\n          const id2 = action.id\n          return (id1 !== id2) ? bundleChanges : {\n            ...bundleChanges,\n            _saving: true\n          }\n        })]\n      })\n    case SAVE_BUNDLE_SUCCESS:\n      return Object.assign({}, state, {\n        list: [...state.list.map(bundle => {\n          const id1 = bundle._id\n          const id2 = action.bundle._id\n          return (id1 !== id2) ? bundle : undefined\n        }), action.bundle].filter(elt => elt),\n        changes: [...state.changes.filter(bundleChanges => {\n          const id1 = bundleChanges._id\n          const id2 = action.bundle._id\n          return (id1 !== id2)\n        })]\n      })\n    case SAVE_BUNDLE_FAILURE:\n      return Object.assign({}, state, {\n        changes: [...state.changes.map(bundleChanges => {\n          const id1 = bundleChanges._id\n          const id2 = action.id\n          const cleanedBundleChanges = { ...bundleChanges }\n          delete cleanedBundleChanges._saving\n          return (id1 !== id2) ? bundleChanges : cleanedBundleChanges\n        })]\n      })\n    default:\n      return state\n  }\n}\n\nexport default saveBundle\n","export const bundleTemplate = {\n  _id: null,\n  type: null,\n  created_on: 0,\n  settings_history: []\n}\n\nexport const getBundleCurrentSettings = bundle => {\n  const settingsHistory = bundle.settings_history\n  if (!settingsHistory) return {}\n  if (!Array.isArray(settingsHistory)) return {}\n  return settingsHistory\n    .sort((a, b) => b.timestamp - a.timestamp)[0] || {}\n}\n\nexport const getBundleSlug = bundle => {\n  const settings = getBundleCurrentSettings(bundle)\n  const slug = [\n    bundle._id,\n    bundle.type,\n    settings.author,\n    settings.name,\n    settings.text,\n    settings.title\n  ].join('-')\n    .toLowerCase()\n    .replace(/[^a-z0-9-]/igm, '-')\n    .replace(/-{2,}/igm, '-')\n    .replace(/-$/, '')\n  return slug\n}\n\nexport const getBundleLastSaveDate = bundle => {\n  const settings = getBundleCurrentSettings(bundle)\n  const updatedOn = settings.timestamp || 0\n  const createdOn = bundle.created_on || 0\n  const lastSavedOn = [createdOn, updatedOn].reduce((max, curr) => {\n    return Math.max(max, curr)\n  })\n  return lastSavedOn\n}\n","import { EDIT_BUNDLE } from '../../actions/actionTypes'\nimport { getBundleCurrentSettings } from '../../utils/bundles'\n\nconst editBundle = (state, action) => {\n  switch (action.type) {\n    case EDIT_BUNDLE:\n      const { id, key, value } = action\n      if (key === 'timestamp') return state\n      const stored = state.list.filter(bundle => bundle._id === id)[0]\n      const storedSettings = getBundleCurrentSettings(stored)\n      const changes = state.changes\n        .filter(bundleChanges => bundleChanges._id === id)[0] || { _id: id }\n      const newChanges = Object.assign({}, changes, { [key]: value })\n\n      if (newChanges[key] === storedSettings[key]) delete newChanges[key]\n      if (newChanges[key] === '' && !storedSettings[key]) delete newChanges[key]\n      if (\n        Object.keys(newChanges).length <= 1 ||\n        !newChanges.hasOwnProperty('_id')\n      ) {\n        return Object.assign({}, state, {\n          changes: [...state.changes.map(bundleChanges => {\n            const id1 = bundleChanges._id\n            const id2 = id\n            return (id1 !== id2) ? bundleChanges : undefined\n          })].filter(elt => elt)\n        })\n      }\n\n      return Object.assign({}, state, {\n        changes: [...state.changes.map(bundleChanges => {\n          const id1 = bundleChanges._id\n          const id2 = id\n          return (id1 !== id2) ? bundleChanges : undefined\n        }), newChanges].filter(elt => elt)\n      })\n    default:\n      return state\n  }\n}\n\nexport default editBundle\n","import {\n  DELETE_BUNDLE_REQUEST,\n  DELETE_BUNDLE_SUCCESS,\n  DELETE_BUNDLE_FAILURE\n} from '../../actions/actionTypes'\n\nconst deleteBundle = (state, action) => {\n  switch (action.type) {\n    case DELETE_BUNDLE_REQUEST:\n      return Object.assign({}, state, {\n        deleting: [\n          ...state.deleting,\n          action.id\n        ]\n      })\n    case DELETE_BUNDLE_SUCCESS:\n      return Object.assign({}, state, {\n        list: state.list\n          .filter(bundle => bundle._id !== action.id),\n        changes: state.changes\n          .filter(bundle => bundle._id !== action.id),\n        deleting: state.deleting\n          .filter(id => id !== action.id)\n      })\n    case DELETE_BUNDLE_FAILURE:\n      return Object.assign({}, state, {\n        deleting: state.deleting\n          .filter(id => id !== action.id)\n      })\n    default:\n      return state\n  }\n}\n\nexport default deleteBundle\n","import {\n  FETCH_BUNDLES_REQUEST,\n  FETCH_BUNDLES_SUCCESS,\n  FETCH_BUNDLES_FAILURE,\n  FETCH_BUNDLE_REQUEST,\n  FETCH_BUNDLE_SUCCESS,\n  FETCH_BUNDLE_FAILURE,\n  CREATE_BUNDLE_REQUEST,\n  CREATE_BUNDLE_SUCCESS,\n  CREATE_BUNDLE_FAILURE,\n  SAVE_BUNDLE_REQUEST,\n  SAVE_BUNDLE_SUCCESS,\n  SAVE_BUNDLE_FAILURE,\n  EDIT_BUNDLE,\n  DELETE_BUNDLE_REQUEST,\n  DELETE_BUNDLE_SUCCESS,\n  DELETE_BUNDLE_FAILURE\n} from '../actions/actionTypes'\n\nimport fetchBundles from './bundles/fetchBundles'\nimport fetchBundle from './bundles/fetchBundle'\nimport createBundle from './bundles/createBundle'\nimport saveBundle from './bundles/saveBundle'\nimport editBundle from './bundles/editBundle'\nimport deleteBundle from './bundles/deleteBundle'\n\nconst defaultState = {\n  list: [],\n  changes: [],\n  deleting: [],\n  error: null,\n  isFetching: false,\n  isCreating: false,\n  updatedAt: null\n}\n\nconst bundles = (state = defaultState, action) => {\n  switch (action.type) {\n    /* Fetching many */\n    case FETCH_BUNDLES_REQUEST:\n    case FETCH_BUNDLES_SUCCESS:\n    case FETCH_BUNDLES_FAILURE:\n      return fetchBundles(state, action)\n    /* Fetching one */\n    case FETCH_BUNDLE_REQUEST:\n    case FETCH_BUNDLE_SUCCESS:\n    case FETCH_BUNDLE_FAILURE:\n      return fetchBundle(state, action)\n    /* Creating */\n    case CREATE_BUNDLE_REQUEST:\n    case CREATE_BUNDLE_SUCCESS:\n    case CREATE_BUNDLE_FAILURE:\n      return createBundle(state, action)\n    /* Save bundle */\n    case SAVE_BUNDLE_REQUEST:\n    case SAVE_BUNDLE_SUCCESS:\n    case SAVE_BUNDLE_FAILURE:\n      return saveBundle(state, action)\n    /* Edit bundle */\n    case EDIT_BUNDLE:\n      return editBundle(state, action)\n    /* Delete bundle */\n    case DELETE_BUNDLE_REQUEST:\n    case DELETE_BUNDLE_SUCCESS:\n    case DELETE_BUNDLE_FAILURE:\n      return deleteBundle(state, action)\n    /* Default */\n    default:\n      return state\n  }\n}\n\nexport default bundles\n","import bundles from './bundles'\nimport filters from './filters'\nimport notifications from './notifications'\n\nconst reducers = {\n  bundles,\n  filters,\n  notifications\n}\n\nexport default reducers\n","import {\n  SET_TOOLS_FILTER,\n  SET_BUNDLES_FILTER\n} from '../actions/actionTypes'\n\nconst filters = (state = {\n  tools: '',\n  bundles: ''\n}, action) => {\n  switch (action.type) {\n    case SET_TOOLS_FILTER:\n      return Object.assign({}, state, {\n        tools: action.filter\n      })\n    case SET_BUNDLES_FILTER:\n      return Object.assign({}, state, {\n        bundles: action.filter\n      })\n    default:\n      return state\n  }\n}\n\nexport default filters\n","import { PUSH_NOTIFICATION } from '../actions/actionTypes'\n\nconst notifications = (state = [], action) => {\n  switch (action.type) {\n    case PUSH_NOTIFICATION:\n      return [\n        {\n          id: action.id,\n          text: action.text,\n          level: action.level,\n          timestamp: action.timestamp\n        },\n        ...state\n      ]\n    default:\n      return state\n  }\n}\n\nexport default notifications\n","import hexToRgba from 'hex-to-rgba'\nimport chroma from 'chroma-js'\n\nconst units = val => `${8 * val}px`\n\nconst breakpoints = {\n  wide: '1370px',\n  medium: '980px'\n}\n\nconst numericTransitions = {\n  flash: 50,\n  quick: 200,\n  medium: 400\n}\n\nconst transitions = {\n  flash: `${numericTransitions.flash}ms`,\n  quick: `${numericTransitions.quick}ms`,\n  medium: `${numericTransitions.medium}ms`\n}\n\nconst fonts = {\n  brand: 'Libe-Sans-Semicondensed',\n  easy: 'Synthese'\n}\n\nconst rawColors = {\n  black: '#1B1B1F',\n  lightBlack: '#333333',\n  obscureGrey: '#404040',\n  slightGrey: '#F2F2F2',\n  white: '#FFFFFF',\n  blue: '#00B9E7',\n  red: '#FF0043'\n}\n\nconst shadows = {\n  medium: `0 0 ${units(1)} ${units(0.25)} ${hexToRgba(rawColors.black, 0.2)}`,\n  small: `0 ${units(0.25)} ${units(0.5)} 0 ${hexToRgba(rawColors.black, 0.1)}`,\n  neat: `0 ${units(3 / 8)} 0 0 ${hexToRgba(rawColors.black, 0.1)}`,\n  focus: `0 0 ${units(4)} ${units(0.5)} ${hexToRgba(rawColors.blue)}`,\n  massiveFocus: `\n    0 0 0 ${units(0.75)} ${rawColors.blue},\n    0 0 ${units(8)} 0 ${hexToRgba(rawColors.blue, 1)},\n    inset 0 0 ${units(80)} ${hexToRgba(rawColors.blue, 0.4)}`\n}\n\nconst colorScales = {\n  default: {\n    base: chroma.scale([rawColors.white, rawColors.black]).mode('lab'),\n    action: chroma.scale([rawColors.white, rawColors.blue]).mode('lab'),\n    danger: chroma.scale([rawColors.white, rawColors.red]).mode('lab')\n  },\n  shaded: {\n    base: chroma.scale([rawColors.slightGrey, rawColors.black]).mode('lab'),\n    action: chroma.scale([rawColors.slightGrey, rawColors.blue]).mode('lab'),\n    danger: chroma.scale([rawColors.slightGrey, rawColors.red]).mode('lab')\n  },\n  inverted: {\n    base: chroma.scale([rawColors.lightBlack, rawColors.slightGrey]).mode('lab'),\n    action: chroma.scale([rawColors.lightBlack, rawColors.blue]).mode('lab'),\n    danger: chroma.scale([rawColors.lightBlack, rawColors.red]).mode('lab')\n  },\n  shadedInverted: {\n    base: chroma.scale([rawColors.obscureGrey, rawColors.slightGrey]).mode('lab'),\n    action: chroma.scale([rawColors.obscureGrey, rawColors.blue]).mode('lab'),\n    danger: chroma.scale([rawColors.obscureGrey, rawColors.red]).mode('lab')\n  }\n}\n\nconst colorPalettes = {\n  default: {\n    baseText: colorScales.default.base(1).hex(),\n    baseLightText: colorScales.default.base(0.5).hex(),\n    baseBorder: colorScales.default.base(0.15).hex(),\n    baseAltBg: colorScales.default.base(0.05).hex(),\n    baseBg: colorScales.default.base(0).hex(),\n    baseInvertedText: colorScales.default.base(0).hex(),\n    baseInvertedBg: colorScales.default.base(1).hex(),\n\n    actionText: colorScales.default.action(1).hex(),\n    actionLightText: colorScales.default.action(0.5).hex(),\n    actionBorder: colorScales.default.action(0.15).hex(),\n    actionAltBg: colorScales.default.action(0.05).hex(),\n    actionBg: colorScales.default.action(0).hex(),\n    actionInvertedText: colorScales.default.action(0).hex(),\n    actionInvertedBg: colorScales.default.action(1).hex(),\n\n    dangerText: colorScales.default.danger(1).hex(),\n    dangerLightText: colorScales.default.danger(0.5).hex(),\n    dangerBorder: colorScales.default.danger(0.15).hex(),\n    dangerAltBg: colorScales.default.danger(0.05).hex(),\n    dangerBg: colorScales.default.danger(0).hex(),\n    dangerInvertedText: colorScales.default.danger(0).hex(),\n    dangerInvertedBg: colorScales.default.danger(1).hex()\n  },\n  shaded: {\n    baseText: colorScales.shaded.base(1).hex(),\n    baseLightText: colorScales.shaded.base(0.5).hex(),\n    baseBorder: colorScales.shaded.base(0.15).hex(),\n    baseAltBg: colorScales.shaded.base(0.05).hex(),\n    baseBg: colorScales.shaded.base(0).hex(),\n    baseInvertedText: colorScales.shaded.base(0).hex(),\n    baseInvertedBg: colorScales.shaded.base(1).hex(),\n\n    actionText: colorScales.shaded.action(1).hex(),\n    actionLightText: colorScales.shaded.action(0.5).hex(),\n    actionBorder: colorScales.shaded.action(0.15).hex(),\n    actionAltBg: colorScales.shaded.action(0.05).hex(),\n    actionBg: colorScales.shaded.action(0).hex(),\n    actionInvertedText: colorScales.shaded.action(0).hex(),\n    actionInvertedBg: colorScales.shaded.action(1).hex(),\n\n    dangerText: colorScales.shaded.danger(1).hex(),\n    dangerLightText: colorScales.shaded.danger(0.5).hex(),\n    dangerBorder: colorScales.shaded.danger(0.15).hex(),\n    dangerAltBg: colorScales.shaded.danger(0.05).hex(),\n    dangerBg: colorScales.shaded.danger(0).hex(),\n    dangerInvertedText: colorScales.shaded.danger(0).hex(),\n    dangerInvertedBg: colorScales.shaded.danger(1).hex()\n  },\n  inverted: {\n    baseText: colorScales.inverted.base(1).hex(),\n    baseLightText: colorScales.inverted.base(0.5).hex(),\n    baseBorder: colorScales.inverted.base(0.15).hex(),\n    baseAltBg: colorScales.inverted.base(0.05).hex(),\n    baseBg: colorScales.inverted.base(0).hex(),\n    baseInvertedText: colorScales.inverted.base(0).hex(),\n    baseInvertedBg: colorScales.inverted.base(1).hex(),\n\n    actionText: colorScales.inverted.action(1).hex(),\n    actionLightText: colorScales.inverted.action(0.5).hex(),\n    actionBorder: colorScales.inverted.action(0.15).hex(),\n    actionAltBg: colorScales.inverted.action(0.05).hex(),\n    actionBg: colorScales.inverted.action(0).hex(),\n    actionInvertedText: colorScales.default.action(0).hex(),\n    actionInvertedBg: colorScales.inverted.action(1).hex(),\n\n    dangerText: colorScales.inverted.danger(1).hex(),\n    dangerLightText: colorScales.inverted.danger(0.5).hex(),\n    dangerBorder: colorScales.inverted.danger(0.15).hex(),\n    dangerAltBg: colorScales.inverted.danger(0.1).hex(),\n    dangerBg: colorScales.inverted.danger(0).hex(),\n    dangerInvertedText: colorScales.default.danger(0).hex(),\n    dangerInvertedBg: colorScales.inverted.danger(1).hex()\n  },\n  shadedInverted: {\n    baseText: colorScales.shadedInverted.base(1).hex(),\n    baseLightText: colorScales.shadedInverted.base(0.5).hex(),\n    baseBorder: colorScales.shadedInverted.base(0.15).hex(),\n    baseAltBg: colorScales.shadedInverted.base(0.05).hex(),\n    baseBg: colorScales.shadedInverted.base(0).hex(),\n    baseInvertedText: colorScales.shadedInverted.base(0).hex(),\n    baseInvertedBg: colorScales.shadedInverted.base(1).hex(),\n\n    actionText: colorScales.shadedInverted.action(1).hex(),\n    actionLightText: colorScales.shadedInverted.action(0.5).hex(),\n    actionBorder: colorScales.shadedInverted.action(0.15).hex(),\n    actionAltBg: colorScales.shadedInverted.action(0.05).hex(),\n    actionBg: colorScales.shadedInverted.action(0).hex(),\n    actionInvertedText: colorScales.default.action(0).hex(),\n    actionInvertedBg: colorScales.shadedInverted.action(1).hex(),\n\n    dangerText: colorScales.shadedInverted.danger(1).hex(),\n    dangerLightText: colorScales.shadedInverted.danger(0.5).hex(),\n    dangerBorder: colorScales.shadedInverted.danger(0.15).hex(),\n    dangerAltBg: colorScales.shadedInverted.base(0.05).hex(),\n    dangerBg: colorScales.shadedInverted.danger(0).hex(),\n    dangerInvertedText: colorScales.default.danger(0).hex(),\n    dangerInvertedBg: colorScales.shadedInverted.danger(1).hex()\n  }\n}\n\nconst Theme = function ({ inverted, shaded } = {}) {\n  let colors\n  if (!inverted && !shaded) colors = colorPalettes.default\n  if (!inverted && shaded) colors = colorPalettes.shaded\n  if (inverted && !shaded) colors = colorPalettes.inverted\n  if (inverted && shaded) colors = colorPalettes.shadedInverted\n  return {\n    units,\n    fonts,\n    colors,\n    shadows,\n    rawColors,\n    breakpoints,\n    transitions,\n    numericTransitions,\n    hexToRgba: hexToRgba,\n    _isInverted: typeof inverted === 'boolean' ? inverted : false,\n    _isShaded: typeof shaded === 'boolean' ? shaded : false,\n    _invert: function (theme = this) {\n      return new Theme({\n        inverted: !theme._isInverted,\n        shaded: theme._isShaded\n      })\n    },\n    _shade: function (theme = this) {\n      return new Theme({\n        inverted: theme._isInverted,\n        shaded: !theme._isShaded\n      })\n    }\n  }\n}\n\nexport default new Theme()\n","import {\n  FETCH_BUNDLES_REQUEST,\n  FETCH_BUNDLES_SUCCESS,\n  FETCH_BUNDLES_FAILURE,\n\n  FETCH_BUNDLE_REQUEST,\n  FETCH_BUNDLE_SUCCESS,\n  FETCH_BUNDLE_FAILURE,\n\n  CREATE_BUNDLE_REQUEST,\n  CREATE_BUNDLE_SUCCESS,\n  CREATE_BUNDLE_FAILURE,\n\n  SAVE_BUNDLE_REQUEST,\n  SAVE_BUNDLE_SUCCESS,\n  SAVE_BUNDLE_FAILURE,\n\n  EDIT_BUNDLE,\n\n  DELETE_BUNDLE_REQUEST,\n  DELETE_BUNDLE_SUCCESS,\n  DELETE_BUNDLE_FAILURE,\n\n  SET_TOOLS_FILTER,\n  SET_BUNDLES_FILTER,\n\n  PUSH_NOTIFICATION\n} from './actionTypes'\n\n/* * * * * * * * * * * * * * * * * * * *\n *\n *  BUNDLES\n *\n * * * * * * * * * * * * * * * * * * * */\n\n/* Fetching many */\nexport const fetchBundlesRequest = () => ({\n  type: FETCH_BUNDLES_REQUEST\n})\n\nexport const fetchBundlesSuccess = list => {\n  return {\n    type: FETCH_BUNDLES_SUCCESS,\n    updatedAt: Date.now(),\n    list\n  }\n}\n\nexport const fetchBundlesError = error => ({\n  type: FETCH_BUNDLES_FAILURE,\n  updatedAt: Date.now(),\n  error\n})\n\n/* Fetching one */\nexport const fetchBundleRequest = id => ({\n  type: FETCH_BUNDLE_REQUEST,\n  id\n})\n\nexport const fetchBundleSuccess = bundle => ({\n  type: FETCH_BUNDLE_SUCCESS,\n  updatedAt: Date.now(),\n  bundle\n})\n\nexport const fetchBundleError = error => ({\n  type: FETCH_BUNDLE_FAILURE,\n  updatedAt: Date.now(),\n  error\n})\n\n/* Creating */\nexport const createBundleRequest = () => ({\n  type: CREATE_BUNDLE_REQUEST\n})\n\nexport const createBundleSuccess = bundle => ({\n  type: CREATE_BUNDLE_SUCCESS,\n  receivedAt: Date.now(),\n  bundle\n})\n\nexport const createBundleError = error => ({\n  type: CREATE_BUNDLE_FAILURE,\n  receivedAt: Date.now(),\n  error\n})\n\n/* Saving */\nexport const saveBundleRequest = id => ({\n  type: SAVE_BUNDLE_REQUEST,\n  id\n})\n\nexport const saveBundleSuccess = bundle => ({\n  type: SAVE_BUNDLE_SUCCESS,\n  bundle\n})\n\nexport const saveBundleError = id => ({\n  type: SAVE_BUNDLE_FAILURE,\n  id\n})\n\n/* Editing */\nexport const editBundle = (id, key, value) => ({\n  type: EDIT_BUNDLE,\n  id,\n  key,\n  value\n})\n\n/* Deleting */\nexport const deleteBundleRequest = id => ({\n  type: DELETE_BUNDLE_REQUEST,\n  id\n})\n\nexport const deleteBundleSuccess = id => ({\n  type: DELETE_BUNDLE_SUCCESS,\n  id\n})\n\nexport const deleteBundleError = (id, error) => ({\n  type: DELETE_BUNDLE_FAILURE,\n  error,\n  id\n})\n\n/* * * * * * * * * * * * * * * * * * * *\n *\n *  FILTERS\n *\n * * * * * * * * * * * * * * * * * * * */\n\n/* Tools */\nexport const setToolsFilter = filter => ({\n  type: SET_TOOLS_FILTER,\n  filter\n})\n\n/* Bundles */\nexport const setBundlesFilter = filter => {\n  document\n    .querySelector('.home-page__bundles-panel')\n    .querySelector('.search-field')\n    .querySelector('input')\n    .value = filter\n  return {\n    type: SET_BUNDLES_FILTER,\n    filter\n  }\n}\n\n/* * * * * * * * * * * * * * * * * * * *\n *\n *  NOTIFICATIONS\n *\n * * * * * * * * * * * * * * * * * * * */\n\n/* Push */\nexport const pushNotification = (text, level) => ({\n  type: PUSH_NOTIFICATION,\n  timestamp: Date.now(),\n  id: Math\n    .floor(Math.random() * 10e9)\n    .toString(36),\n  text,\n  level\n})\n","import styled from 'styled-components'\n\nconst Wrapper = styled.div`\nwidth: 100%;\ndisplay: flex;\nbox-sizing: border-box;\nbox-shadow: ${p => p.theme.shadows.medium};\npadding: ${p => p.theme.units(2)};\nbackground: ${p => p.theme.colors.baseBg};`\n\nexport default Wrapper\n","import React, { Component } from 'react'\nimport Wrapper from './style'\n\n/*\n *   Shadowbar component\n *   ------------------------------------------------------\n *\n *   DESCRIPTION\n *   Box with a shadow for major components\n *\n *   PROPS\n *   children\n *\n */\n\nexport default class ShadowBar extends Component {\n  render () {\n    const props = this.props\n    return <Wrapper className='shadow-bar'>\n      {props.children}\n    </Wrapper>\n  }\n}\n","import styled from 'styled-components'\n\nconst Wrapper = styled.div`\noverflow: hidden;\n\nimg {\n  width: 100%;\n  height: 100%;\n  display: block;\n  box-sizing: border-box;\n  opacity: 0;\n}\n\n&.image_contained {\n  img {\n    width: auto;\n    height: 100%;\n  }\n}`\n\nexport default Wrapper\n","import React, { Component } from 'react'\nimport Wrapper from './style'\n\n/*\n *   Image component\n *   ------------------------------------------------------\n *\n *   DESCRIPTION\n *   Image component, displaying a box with the image as\n *   a background, and sized according to the raw\n *   dimensions of the image, or as a cover image on a\n *   box sized according to the provided width and height\n *   props\n *\n *   PROPS\n *   src, contain, position, repeat, height, width\n *\n */\n\nexport default class Image extends Component {\n  render () {\n    const props = this.props\n    const alt = props.alt || 'no-description'\n    const title = props.title || null\n    const wrapperStyle = {\n      backgroundImage: `url(${props.src})`,\n      backgroundSize: props.contain ? 'contain' : 'cover',\n      backgroundPosition: props.position || 'center',\n      backgroundRepeat: props.repeat || 'no-repeat',\n      height: props.height ? `${props.height}px` : null,\n      width: props.width ? `${props.width}px` : null\n    }\n    const imgStyle = {}\n    if (props.height) imgStyle.height = `${props.height}px`\n    if (props.width) imgStyle.width = `${props.width}px`\n\n    /* Assign classes to component */\n    let classes = 'image'\n    if (props.contain) classes += ' image_contained'\n    if (props.position) classes += ' image_positioned'\n    if (props.repeat) classes += ' image_repeated'\n    if (props.width) classes += ' image_fixed-width'\n    if (props.height) classes += ' image_fixed-height'\n\n    return <Wrapper style={wrapperStyle} className={classes}>\n      <img\n        src={props.src}\n        style={imgStyle}\n        alt={alt}\n        title={title} />\n    </Wrapper>\n  }\n}\n","import React, { Component } from 'react'\n\n/*\n *   Heading component\n *   ------------------------------------------------------\n *\n *   DESCRIPTION\n *   This component returns a heading tag according to the\n *   provided 'level' prop.\n *\n *   PROPS\n *   level, children\n *\n */\n\nexport default class Heading extends Component {\n  render () {\n    const props = this.props\n    if (props.level === 1) return <h1 className='heading'>{props.children}</h1>\n    else if (props.level === 2) return <h2 className='heading'>{props.children}</h2>\n    else if (props.level === 3) return <h3 className='heading'>{props.children}</h3>\n    else if (props.level === 4) return <h4 className='heading'>{props.children}</h4>\n    else if (props.level === 5) return <h5 className='heading'>{props.children}</h5>\n    else if (props.level === 6) return <h6 className='heading'>{props.children}</h6>\n    else return <span className='heading'>{props.children}</span>\n  }\n}\n","import styled from 'styled-components'\n\nconst Wrapper = styled.div`\nh1, h2, h3, h4, h5, h6, span {\n  font-size: ${p => p.theme.units(3)};\n  line-height: ${p => p.theme.units(4)};\n  font-family: ${p => p.theme.fonts.brand};\n  color: ${p => p.theme.colors.baseText};\n  font-weight: 600;\n  margin: 0;\n  padding: 0\n  @media screen and (max-width: ${p => p.theme.breakpoints.medium}) {\n    font-size: ${p => p.theme.units(2.75)};\n    line-height: ${p => p.theme.units(3)};\n  }\n}`\n\nexport default Wrapper\n","import React, { Component } from 'react'\nimport Heading from '../Heading'\nimport Wrapper from './style'\n\n/*\n *   Main title component\n *   ------------------------------------------------------\n *\n *   DESCRIPTION\n *   Main heading item.\n *\n *   PROPS\n *   level, children\n *\n */\n\nexport default class MainTitle extends Component {\n  render () {\n    const props = this.props\n    return <Wrapper className='main-title'>\n      <Heading level={props.level || 1}>\n        {props.children}\n      </Heading>\n    </Wrapper>\n  }\n}\n","import styled from 'styled-components'\n\nconst Wrapper = styled.div`\nbackground: ${p => p.theme.colors.baseBg};\n\n.shadow-bar {\n  display: flex;\n  align-items: center;\n}\n\n.image {\n  cursor: pointer;\n  height: ${p => p.theme.units(7)};\n}\n\n.main-title {\n  cursor: pointer;\n  margin-left: ${p => p.theme.units(2)};\n}\n\n@media screen and (max-width: ${p => p.theme.breakpoints.medium}) {\n  .image {\n    height: ${p => p.theme.units(4)};\n  }\n}`\n\nexport default Wrapper\n","import { connect } from 'react-redux'\nimport { state2props, dispatch2props } from './connected'\n\nimport React, { Component } from 'react'\nimport ShadowBar from '../../../components/boxes/ShadowBar'\nimport Image from '../../../components/images/Image'\nimport MainTitle from '../../../components/text-levels/MainTitle'\nimport Wrapper from './style'\n\n/*\n *   Header component\n *   ------------------------------------------------------\n *\n *   DESCRIPTION\n *   Header component for the \"Lib tools\" app\n *\n *   PROPS\n *   - no props -\n *\n */\n\nclass Header extends Component {\n  render () {\n    const props = this.props\n    return <Wrapper className='header'>\n      <ShadowBar>\n        <div onClick={props.goHome}><Image contain src='/images/libe-logo.svg' /></div>\n        <div onClick={props.goHome}><MainTitle>La bote  outils de Lib Labo</MainTitle></div>\n      </ShadowBar>\n    </Wrapper>\n  }\n}\n\nexport default connect(\n  state2props,\n  dispatch2props\n)(Header)\n","import { push } from 'react-router-redux'\n\nexport const state2props = state => ({})\n\nexport const dispatch2props = dispatch => ({\n  goHome: e => {\n    dispatch(push('/'))\n  }\n})\n","import styled from 'styled-components'\n\nconst Wrapper = styled.p`\nmargin: 0;\npadding: 0;\nfont-family: ${p => p.theme.fonts.easy};\nline-height: ${p => p.theme.units(3)};\nfont-size: ${p => p.theme.units(2)};\ncolor: ${p => p.theme.colors.baseText};\n\n&.paragraph_small {\n  font-size: ${p => p.theme.units(1.75)};\n}\n\n&.paragraph_light {\n  color: ${p => p.theme.colors.baseLightText};\n}\n\n&.paragraph_italic {\n  font-style: italic;\n}\n\n&.paragraph_error {\n color: ${p => p.theme.colors.dangerText}; \n}\n\n&.paragraph_action {\n  color: ${p => p.theme.colors.actionText};\n}`\n\nexport default Wrapper\n","import React, { Component } from 'react'\nimport Wrapper from './style'\n\n/*\n *   Paragraph component\n *   ------------------------------------------------------\n *\n *   DESCRIPTION\n *   Component for usual text\n *\n *   VARIANTS\n *   small, light, italic, error, action\n *\n *   PROPS\n *   small, light, italic, error, action, children\n *\n */\n\nexport default class Paragraph extends Component {\n  render () {\n    const props = this.props\n    let classes = 'paragraph'\n    if (props.small) classes += ' paragraph_small'\n    if (props.light) classes += ' paragraph_light'\n    if (props.italic) classes += ' paragraph_italic'\n    if (props.error) classes += ' paragraph_error'\n    if (props.action) classes += ' paragraph_action'\n    return <Wrapper className={classes}>\n      {props.children}\n    </Wrapper>\n  }\n}\n","import styled from 'styled-components'\n\nconst Wrapper = styled.div`\npadding: ${p => p.theme.units(1)};\nborder-radius: ${p => p.theme.units(0.5)};\nbackground: ${p => p.theme.colors.actionAltBg};\nborder:\n  ${p => p.theme.colors.actionBorder}\n  ${p => p.theme.units(0.25)}\n  solid;\n\n&.notification_danger {\n  background: ${p => p.theme.colors.dangerAltBg};\n  border-color: ${p => p.theme.colors.dangerBorder};\n}\n`\n\nexport default Wrapper\n","import React, { Component } from 'react'\nimport Paragraph from '../../text-levels/Paragraph'\nimport Wrapper from './style'\n\n/*\n *   Notification component\n *   ------------------------------------------------------\n *\n *   DESCRIPTION\n *   Small component displaying text inside a blue or red\n *   box, depending on the props\n *\n *   PROPS\n *   children, danger\n *\n */\n\nexport default class Notification extends Component {\n  render () {\n    const props = this.props\n\n    /* Assign classes to component */\n    const classes = ['notification']\n    if (props.danger) classes.push('notification_danger')\n\n    /* Display */\n    return <Wrapper className={classes.join(' ')}>\n      {\n        props.danger\n          ? <Paragraph small error>{props.children}</Paragraph>\n          : <Paragraph small action>{props.children}</Paragraph>\n      }\n    </Wrapper>\n  }\n}\n","import styled from 'styled-components'\n\nconst Wrapper = styled.button`\nfont-family: ${p => p.theme.fonts.easy};\nfont-size: ${p => p.theme.units(2)};\nline-height: ${p => p.theme.units(3)};\nfont-weight: 400;\nheight: ${p => p.theme.units(4)};\nbackground: ${p => p.theme.colors.actionInvertedBg};\ncolor: ${p => p.theme.colors.actionInvertedText};\npadding:\n  ${p => p.theme.units(0.5)}\n  ${p => p.theme.units(2)};\nborder-radius: ${p => p.theme.units(2)};\nbox-shadow: ${p => p.theme.shadows.neat};\ncursor: pointer;\nborder: none;\nbox-sizing: border-box;\n\n.button__icon {\n  display: none;\n}\n\n:hover {\n  box-shadow: \n    ${p => p.theme.shadows.neat},\n    ${p => p.theme.shadows.small};\n}\n\n&.button_minor {\n  color: ${p => p.theme.colors.baseLightText};\n  background: ${p => p.theme.colors.baseAltBg};\n  box-shadow: unset;\n  &:hover {\n    box-shadow: \n      ${p => p.theme.shadows.neat},\n      ${p => p.theme.shadows.small};\n  }\n}\n\n&.button_dangerous {\n  color: ${p => p.theme.colors.dangerInvertedText};\n  background: ${p => p.theme.colors.dangerInvertedBg};\n  font-style: italic;\n}\n\n&.button_primary {\n  font-size: ${p => p.theme.units(2.5)};\n  font-weight: 600;\n  line-height: ${p => p.theme.units(3)};\n  border-radius: ${p => p.theme.units(3)};\n  height: ${p => p.theme.units(6)};\n  padding:\n    ${p => p.theme.units(1.5)}\n    ${p => p.theme.units(3)};\n}\n\n&.button_link {\n  color: ${p => p.theme.colors.actionText};\n  padding: 0;\n  box-shadow: none;\n  text-decoration: underline;\n  height: auto;\n  background: transparent;\n  :hover { box-shadow: none; }\n}\n\n&.button_dangerous.button_minor {\n  color: ${p => p.theme.colors.dangerText};\n  background: ${p => p.theme.colors.dangerAltBg};\n}\n\n&.button_link.button_minor {\n  color: ${p => p.theme.colors.baseLightText};\n  background: transparent;\n}\n\n&.button_link.button_dangerous {\n  color: ${p => p.theme.colors.dangerText};\n}\n\n&.button_icon {\n  padding: unset;\n  background: unset;\n  box-shadow: unset;\n  border-radius: unset;\n  height: unset;\n}\n\n&.button_icon.button_primary {\n  height: unset;\n}\n\n&.button_icon .button__icon {\n  display: block;\n  height: 100%;\n}\n\n&.button_disabled {\n  cursor: not-allowed;\n  font-style: italic;\n  outline: none;\n  opacity: 0.5;\n}`\n\nexport default Wrapper\n","import React, { Component } from 'react'\nimport Wrapper from './style'\n\n/*\n *   Button component\n *   ------------------------------------------------------\n *\n *   DESCRIPTION\n *   Component for action buttons\n *\n *   VARIANTS\n *   primary, dangerous, minor, link, icon, disabled\n *\n *   PROPS\n *   onClick, tabIndex, primary, dangerous, minor,\n *   disabled, link, children, icon, alt\n *\n */\n\nexport default class Button extends Component {\n  render () {\n    const props = this.props\n\n    /* Inner logic */\n    const disabledMessage = typeof props.disabled === 'string'\n      ? props.disabled\n      : ''\n\n    /* Assign classes to component */\n    let classes = 'button'\n    if (props.primary) classes += ' button_primary'\n    if (props.dangerous) classes += ' button_dangerous'\n    if (props.minor) classes += ' button_minor'\n    if (props.link) classes += ' button_link'\n    if (props.icon) classes += ' button_icon'\n    if (props.disabled) classes += ' button_disabled'\n\n    /* Display */\n    return <Wrapper\n      onFocus={props.disabled ? () => this.node.blur() : null}\n      onClick={!props.disabled ? props.onClick : null}\n      tabIndex={!props.disabled ? props.tabIndex : -1}\n      ref={node => { this.node = node }}\n      title={disabledMessage}\n      className={classes}>\n      {props.children}\n      <img\n        className='button__icon'\n        alt={props.alt}\n        src={props.icon} />\n    </Wrapper>\n  }\n}\n","import styled from 'styled-components'\n\nconst Wrapper = styled.div`\n.notifications-panel__notification-slot {\n  position: relative;\n  margin-bottom: ${p => p.theme.units(1)};\n  box-shadow: ${p => p.theme.shadows.small};\n  overflow: hidden;\n  animation-name: fadeIn;\n  animation-duration: ${p => p.theme.transitions.medium};\n}\n\n.notifications-panel__notification-slot:last-child {\n  margin-bottom: unset;\n}\n\n.notifications-panel__hide-notification-slot {\n  position: absolute;\n  right: ${p => p.theme.units(1)};\n  top: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n}\n\n.notifications-panel__notification-slot_fadeout {\n  animation-name: fadeOut;\n}\n\n.notifications-panel__notification-slot_hide {\n  display: none;\n}\n\n@keyframes fadeIn {\n  from {\n    transform: translateY(100%);\n    opacity: 0;\n  }\n  to {\n    transform: translateY(0);\n    opacity: 1;\n  }\n}\n\n@keyframes fadeOut {\n  from {\n    transform: translateY(0);\n    opacity: 1;\n  }\n  to {\n    transform: translateY(100%);\n    opacity: 0;\n  }\n}`\n\nexport default Wrapper\n","import { connect } from 'react-redux'\nimport { state2props, dispatch2props } from './connected'\n\nimport React, { Component } from 'react'\nimport Notification from '../../../components/boxes/Notification'\nimport Button from '../../../components/buttons/Button'\nimport theme from '../../../theme'\nimport Wrapper from './style'\n\n/*\n *   Notification panel container\n *   ------------------------------------------------------\n *\n *   DESCRIPTION\n *   Panel fading in notifications as it recieves it via\n *   it's props, then waiting for 7 seconds, and finally\n *   fading them out\n *\n *   PROPS\n *   notifications\n *\n */\n\nclass NotificationSlot extends Component {\n  constructor (props) {\n    super(props)\n    this.fadeOut = this.fadeOut.bind(this)\n    this.hide = this.hide.bind(this)\n    setTimeout(this.fadeOut, props.timeout)\n  }\n\n  fadeOut () {\n    const transitionTime = this.props.transitionTime\n    if (this.node) {\n      this.node.classList\n        .add('notifications-panel__notification-slot_fadeout')\n      setTimeout(this.hide, transitionTime)\n    }\n  }\n\n  hide () {\n    if (this.node) {\n      this.node.classList\n        .add('notifications-panel__notification-slot_hide')\n    }\n  }\n\n  render () {\n    const props = this.props\n    const notif = props.notif\n    if (notif.level === 'error') {\n      return <div\n        ref={node => { this.node = node }}\n        className='notifications-panel__notification-slot'>\n        <Notification danger>{notif.text}</Notification>\n        <div className='notifications-panel__hide-notification-slot'>\n          <Button minor onClick={this.fadeOut} icon='/images/danger-small-close-icon.svg' />\n        </div>\n      </div>\n    } else {\n      return <div\n        ref={node => { this.node = node }}\n        className='notifications-panel__notification-slot'>\n        <Notification>{notif.text}</Notification>\n        <div className='notifications-panel__hide-notification-slot'>\n          <Button minor onClick={this.fadeOut} icon='/images/action-small-close-icon.svg' />\n        </div>\n      </div>\n    }\n  }\n}\n\nclass NotificationsPanel extends Component {\n  render () {\n    const props = this.props\n    const timeout = 7000\n    const transitionTime = theme.numericTransitions.medium\n    const notificationsDom = props.notifications\n      .map(notif => {\n        const notifAge = Date.now() - notif.timestamp\n        const hasTimedout = timeout + transitionTime - notifAge < 0\n        if (hasTimedout) return null\n        return <NotificationSlot\n          key={notif.id}\n          notif={notif}\n          timeout={timeout}\n          transitionTime={transitionTime} />\n      }\n      )\n      .filter(notif => notif)\n      .reverse()\n    return <Wrapper className='notifications-panel'>\n      {notificationsDom}\n    </Wrapper>\n  }\n}\n\nexport default connect(\n  state2props,\n  dispatch2props\n)(NotificationsPanel)\n","export const state2props = state => ({\n  notifications: state.notifications\n})\n\nexport const dispatch2props = dispatch => ({})\n","import styled from 'styled-components'\n\nconst Wrapper = styled.div`\nborder-radius: ${p => p.theme.units(1)};\nbox-shadow: ${p => p.theme.shadows.small};\nbackground: ${p => p.theme.colors.baseBg};\nbox-sizing: border-box;\noverflow: hidden;\nborder:\n  ${p => p.theme.units(0.25)}\n  ${p => p.theme.colors.baseBorder}\n  solid;\n/* Compensation of border thickness in padding */\npadding: ${p => p.theme.units(2 - 0.25)};`\n\nexport default Wrapper\n","import React, { Component } from 'react'\nimport Wrapper from './style'\n\n/*\n *   Shadowbox component\n *   ------------------------------------------------------\n *\n *   DESCRIPTION\n *   Box with a small shadow for boxed components\n *\n *   PROPS\n *   children\n *\n */\n\nexport default class ShadowBox extends Component {\n  render () {\n    const props = this.props\n    return <Wrapper className='shadow-box'>\n      {props.children}\n    </Wrapper>\n  }\n}\n","import styled from 'styled-components'\n\nconst Wrapper = styled.div`\nh1, h2, h3, h4, h5, h6, span {\n  font-size: ${p => p.theme.units(2.5)};\n  line-height: ${p => p.theme.units(3)};\n  font-family: ${p => p.theme.fonts.easy};\n  color: ${p => p.theme.colors.baseText};\n  font-weight: 600;\n  margin: 0;\n  padding: 0;\n}`\n\nexport default Wrapper\n","import React, { Component } from 'react'\nimport Heading from '../Heading'\nimport Wrapper from './style'\n\n/*\n *   Block title component\n *   ------------------------------------------------------\n *\n *   DESCRIPTION\n *   Small heading item.\n *\n *   PROPS\n *   level, children\n *\n */\n\nexport default class BlockTitle extends Component {\n  render () {\n    const props = this.props\n    return <Wrapper className='block-title'>\n      <Heading level={props.level || 3}>\n        {props.children}\n      </Heading>\n    </Wrapper>\n  }\n}\n","import styled from 'styled-components'\n\nconst Wrapper = styled.div`\nwidth: 100%;\ncursor: pointer;\n\n.image {\n  width: calc(100% + ${p => p.theme.units(4)});\n  height: ${p => p.theme.units(30)};\n  margin-left: ${p => p.theme.units(-2)};\n  margin-top: ${p => p.theme.units(-2)};\n}\n\n.libe-tool-thumb__content {\n  margin-top: ${p => p.theme.units(2)};\n}\n\n.libe-tool-thumb__content > .block-title { \n  margin-bottom: ${p => p.theme.units(1)};\n}\n\n.libe-tool-thumb__content > .paragraph {\n  display: block;\n  margin-bottom: ${p => p.theme.units(2)};\n  height: ${p => p.theme.units(6)};\n  max-height: ${p => p.theme.units(6)};\n}\n\n.libe-tool-thumb__actions {\n  display: flex;\n  justify-content: space-between;\n}\n\n.libe-tool-thumb__actions > button:first-child { \n  margin-right: ${p => p.theme.units(2)};\n}`\n\nexport default Wrapper\n","import { connect } from 'react-redux'\nimport { state2props, dispatch2props } from './connected'\n\nimport React, { Component } from 'react'\nimport ShadowBox from '../../../components/boxes/ShadowBox'\nimport Image from '../../../components/images/Image'\nimport BlockTitle from '../../../components/text-levels/BlockTitle'\nimport Paragraph from '../../../components/text-levels/Paragraph'\nimport Button from '../../../components/buttons/Button'\nimport Wrapper from './style'\n\n/*\n *   Lib tool thumb container\n *   ------------------------------------------------------\n *\n *   DESCRIPTION\n *   A block displaying information about tools for users\n *   to build bundles\n *\n *   PROPS\n *   name, type, description, image\n *\n */\n\nclass LibeToolThumb extends Component {\n  render () {\n    const props = this.props\n\n    return <Wrapper className='libe-tool-thumb' onClick={props.createNewBundle}>\n      <ShadowBox>\n        <Image\n          src={props.image}\n          position='center'\n          alt='Tool thumbnail'\n          title='Tool thumbnail' />\n        <div className='libe-tool-thumb__content'>\n          <BlockTitle>{props.name}</BlockTitle>\n          <Paragraph>{props.description}</Paragraph>\n          <div className='libe-tool-thumb__actions'>\n            <Button onClick={props.filterBundles} tabIndex='-1' minor>Voir tous</Button>\n            <Button onClick={props.createNewBundle} tabIndex='-1'>Crer</Button>\n          </div>\n        </div>\n      </ShadowBox>\n    </Wrapper>\n  }\n}\n\nexport default connect(\n  state2props,\n  dispatch2props\n)(LibeToolThumb)\n","import { push } from 'react-router-redux'\nimport {\n  createBundleRequest,\n  createBundleSuccess,\n  createBundleError,\n  setBundlesFilter,\n  pushNotification\n} from '../../../actions/actionCreators'\n\nexport const state2props = state => ({})\n\nexport const dispatch2props = (dispatch, props) => ({\n  createNewBundle: e => {\n    e.stopPropagation()\n    dispatch(createBundleRequest())\n    fetch(`/api/create-bundle/${props.type}`).then(r => {\n      if (r.ok) return r.json()\n      throw new Error(`Error ${r.status}: ${r.statusText}`)\n    }).then(res => {\n      if (!res.err) {\n        dispatch(createBundleSuccess(res.data))\n        dispatch(pushNotification('Le module a bien t cr !'))\n        dispatch(push(`/edit/${res.data.type}/${res.data._id}`))\n      } else {\n        dispatch(createBundleError())\n        const notif = `Impossible de crer ce module de type ${props.type}, le serveur a rpondu : ${res.err}`\n        dispatch(pushNotification(notif, 'error'))\n      }\n    }).catch(err => {\n      dispatch(createBundleError())\n      const notif = `Impossible de crer ce module de type ${props.type}, le serveur a rpondu : ${err.message}`\n      dispatch(pushNotification(notif, 'error'))\n    })\n  },\n  filterBundles: e => {\n    e.stopPropagation()\n    dispatch(setBundlesFilter(props.type))\n  }\n})\n","import styled from 'styled-components'\n\nconst Wrapper = styled.div`\nh1, h2, h3, h4, h5, h6, span {\n  color: ${p => p.theme.colors.baseText};\n  font-family: ${p => p.theme.fonts.easy};\n  font-size: ${p => p.theme.units(2)};\n  line-height: ${p => p.theme.units(3)};\n  font-weight: 600;\n  margin: 0;\n  padding: 0;\n}`\n\nexport default Wrapper\n","import React, { Component } from 'react'\nimport Heading from '../Heading'\nimport Wrapper from './style'\n\n/*\n *   Paragraph title component\n *   ------------------------------------------------------\n *\n *   DESCRIPTION\n *   Paragraph heading item.\n *\n *   PROPS\n *   level, children\n *\n */\n\nexport default class ParagraphTitle extends Component {\n  render () {\n    const props = this.props\n    return <Wrapper className='paragraph-title'>\n      <Heading level={props.level || 5}>\n        {props.children}\n      </Heading>\n    </Wrapper>\n  }\n}\n","import styled from 'styled-components'\n\nconst Wrapper = styled.div`\n/* * * * * * * * * * * * * * * * * * * *\n *\n *  Loaded\n *\n * * * * * * * * * * * * * * * * * * * */\n.libe-bundle-thumb__top {\n  display: flex;\n  margin-bottom: ${p => p.theme.units(2)};\n  align-items: center;\n}\n\n.libe-bundle-thumb__bottom {\n  display: flex;\n  align-items: center;\n  position: relative;\n}\n\n.libe-bundle-thumb__image,\n.libe-bundle-thumb__image-placeholder {\n  flex-grow: 0;\n  flex-shrink: 0;\n  width: ${p => p.theme.units(7)};\n  height: ${p => p.theme.units(7)};\n  margin-right: ${p => p.theme.units(2)};\n  overflow: hidden;\n  border-radius: ${p => p.theme.units(1)};\n  border:\n    solid\n    ${p => p.theme.units(0.25)}\n    ${p => p.theme.colors.baseBorder};\n}\n\n.libe-bundle-thumb__image {\n  display: block;\n}\n\n.libe-bundle-thumb__image .image {\n  width: 100%;\n  height: 100%;\n}\n\n.libe-bundle-thumb__image-placeholder {\n  background: ${p => p.theme.colors.baseBorder};\n  display: none;\n}\n\n.libe-bundle-thumb__title-placeholder {\n  display: none;\n  width: 100%;\n  flex-direction: column;\n  justify-content: center;\n}\n\n.libe-bundle-thumb__title-placeholder div {\n  height: ${p => p.theme.units(2)};\n  margin-bottom: ${p => p.theme.units(1)};\n  background: ${p => p.theme.colors.baseBorder};\n}\n\n.libe-bundle-thumb__title-placeholder div:last-child {\n  margin-bottom: 0;\n}\n\n.libe-bundle-thumb__meta-placeholder {\n  display: none;\n  width: 100%;\n  height: ${p => p.theme.units(4)};\n  flex-direction: column;\n  justify-content: center;\n}\n\n.libe-bundle-thumb__meta-placeholder div {\n  height: ${p => p.theme.units(1.25)};\n  margin-bottom: ${p => p.theme.units(0.75)};\n  background: ${p => p.theme.colors.baseBorder};\n}\n\n.libe-bundle-thumb__meta-placeholder div:last-child {\n  margin-bottom: 0;\n}\n\n.libe-bundle-thumb__actions {\n  display: none;\n  width: 100%;\n  justify-content: space-between;\n  position: absolute;\n}\n\n&:hover {\n  cursor: pointer;\n}\n\n&:hover .libe-bundle-thumb__meta {\n  opacity: .2;\n}\n\n&:hover .libe-bundle-thumb__actions {\n  display: flex;\n}\n\n/* * * * * * * * * * * * * * * * * * * *\n *\n *  Loading\n *\n * * * * * * * * * * * * * * * * * * * */\n&.libe-bundle-thumb_loading .shadow-box {\n  box-shadow: unset;\n  border: unset;\n  background: ${p => p.theme.colors.baseAltBg};\n  /* [WARN]\n   * Trick here to compensate the absence of\n   * border in the loading version of this\n   * component */\n  // padding: ${p => p.theme.units(2)};\n}\n\n&.libe-bundle-thumb_loading .libe-bundle-thumb__image {\n  display: none;\n}\n\n&.libe-bundle-thumb_loading .libe-bundle-thumb__image-placeholder {\n  display: block;\n}\n\n&.libe-bundle-thumb_loading .libe-bundle-thumb__title-placeholder {\n  display: flex;\n}\n\n&.libe-bundle-thumb_loading .libe-bundle-thumb__meta {\n  display: none;\n}\n\n&.libe-bundle-thumb_loading .libe-bundle-thumb__meta-placeholder {\n  display: flex;\n}\n\n&.libe-bundle-thumb_loading .libe-bundle-thumb__actions,\n&.libe-bundle-thumb_loading:hover .libe-bundle-thumb__actions {\n  display: none;\n}`\n\nexport default Wrapper\n","import { connect } from 'react-redux'\nimport { state2props, dispatch2props } from './connected'\n\nimport React, { Component } from 'react'\nimport moment from 'moment'\nimport 'moment/locale/fr'\nimport ShadowBox from '../../../components/boxes/ShadowBox'\nimport Image from '../../../components/images/Image'\nimport Button from '../../../components/buttons/Button'\nimport ParagraphTitle from '../../../components/text-levels/ParagraphTitle'\nimport Paragraph from '../../../components/text-levels/Paragraph'\nimport Wrapper from './style'\n\n/*\n *   Lib bundle thumb container\n *   ------------------------------------------------------\n *\n *   DESCRIPTION\n *   A block displaying information about bundles built\n *   by users\n *\n *   VARIANTS\n *   loading\n *\n *   PROPS\n *   title, image, type, author, created, updated,\n *   published, loading, bundleId\n *\n */\n\nclass LibeBundleThumb extends Component {\n  constructor () {\n    /* [WARN]\n     * The logic below is only\n     * for style purpose */\n    super()\n    this.state = {\n      widths: [\n        Math.random() * 9 + 88 + '%',\n        Math.random() * 45 + 25 + '%',\n        Math.random() * 20 + 30 + '%',\n        Math.random() * 20 + 40 + '%'\n      ]\n    }\n  }\n\n  render () {\n    const props = this.props\n    const state = this.state\n\n    /* Readable dates */\n    const makeReadable = timestamp => timestamp\n      ? moment(timestamp, 'x')\n        .locale('fr')\n        .format('DD MMMM YYYY')\n        .toLowerCase() : null\n    const created = makeReadable(props.created)\n    const updated = makeReadable(props.updated)\n    const published = makeReadable(props.published)\n\n    /* Meta data */\n    const meta = {\n      who: `${props.type}, par ${props.author}`,\n      when: `Cr le ${created}`\n    }\n    if (published) meta.when += `, publi le ${published}`\n    else if (updated) meta.when += `, mis  jour le ${updated}`\n\n    /* Display */\n    let classes = 'libe-bundle-thumb'\n    if (props.loading) classes += ' libe-bundle-thumb_loading'\n    return <Wrapper className={classes} rel={props.bundleId} onClick={props.navigateToBundle}>\n      <ShadowBox>\n        <div className='libe-bundle-thumb__top'>\n          <div className='libe-bundle-thumb__image-placeholder' />\n          <div className='libe-bundle-thumb__title-placeholder'>\n            <div style={{ width: state.widths[0] }} />\n            <div style={{ width: state.widths[1] }} />\n          </div>\n          <div className='libe-bundle-thumb__image'>\n            <Image position='center' src={props.image} />\n          </div>\n          <div className='libe-bundle-thumb__title'>\n            <ParagraphTitle>{props.title}</ParagraphTitle>\n          </div>\n        </div>\n        <div className='libe-bundle-thumb__bottom'>\n          <div className='libe-bundle-thumb__meta-placeholder'>\n            <div style={{ width: state.widths[2] }} />\n            <div style={{ width: state.widths[3] }} />\n          </div>\n          <div className='libe-bundle-thumb__meta'>\n            <Paragraph light small>{meta.who}<br />{meta.when}</Paragraph>\n          </div>\n          <div className='libe-bundle-thumb__actions'>\n            <Button onClick={props.deleteBundle} minor dangerous>Supprimer</Button>\n            <Button onClick={props.navigateToBundle}>Voir, modifier & publier</Button>\n          </div>\n        </div>\n      </ShadowBox>\n    </Wrapper>\n  }\n}\n\nexport default connect(\n  state2props,\n  dispatch2props\n)(LibeBundleThumb)\n","import { push } from 'react-router-redux'\nimport {\n  deleteBundleRequest,\n  deleteBundleSuccess,\n  deleteBundleError,\n  pushNotification\n} from '../../../actions/actionCreators'\n\nexport const state2props = state => ({})\n\nexport const dispatch2props = (dispatch, props) => ({\n  navigateToBundle: e => {\n    e.stopPropagation()\n    dispatch(\n      push(`/edit/${props.type}/${props.bundleId}`)\n    )\n  },\n  deleteBundle: e => {\n    e.stopPropagation()\n    if (!window.confirm('tes-vous sr de vouloir supprimer ce module ?')) return\n    dispatch(deleteBundleRequest(props.bundleId))\n    fetch(`/api/delete-bundle/${props.bundleId}`, {\n      method: 'DELETE'\n    }).then(r => {\n      if (r.ok) return r.json()\n      throw new Error(`Error ${r.status}: ${r.statusText}`)\n    }).then(res => {\n      if (!res.err) {\n        dispatch(deleteBundleSuccess(res.data))\n        dispatch(pushNotification('Le module a bien t supprim !'))\n      } else {\n        dispatch(deleteBundleError(props.bundleId, res.err))\n        const notif = `Impossible de supprimer ce module, le serveur a rpondu : ${res.err}`\n        dispatch(pushNotification(notif, 'error'))\n      }\n    }).catch(err => {\n      dispatch(deleteBundleError(props.bundleId, err))\n      const notif = `Impossible de supprimer ce module, le serveur a rpondu : ${err.message}`\n      dispatch(pushNotification(notif, 'error'))\n    })\n  }\n})\n","import styled from 'styled-components'\n\nconst Wrapper = styled.label`\ndisplay: block;\nbox-sizing: border-box;\ncolor: ${p => p.theme.colors.baseLightText};\nfont-family: ${p => p.theme.fonts.easy};\nfont-size: ${p => p.theme.units(1.5)};\nline-height: ${p => p.theme.units(2)};\ntext-transform: uppercase;\nfont-weight: 600;\nmargin-bottom: ${p => p.theme.units(1)};`\n\nexport default Wrapper\n","import React, { Component } from 'react'\nimport Wrapper from './style'\n\n/*\n *   Input label component\n *   ------------------------------------------------------\n *\n *   DESCRIPTION\n *   Label for inputs\n *\n *   PROPS\n *   children\n *\n */\n\nexport default class InputLabel extends Component {\n  render () {\n    const props = this.props\n    return <Wrapper className='input-label'>\n      {props.children}\n    </Wrapper>\n  }\n}\n","import styled from 'styled-components'\n\nconst Wrapper = styled.div`\n\n/* ---------- STYLES ---------- */\n\nwidth: 100%;\nbox-sizing: border-box;\n\ninput {\n  width: 100%;\n  box-sizing: border-box;\n  border: none;\n  height: ${p => p.theme.units(5)};\n  padding: 0 ${p => p.theme.units(1)};\n  color: ${p => p.theme.colors.baseText};\n  font-family: ${p => p.theme.fonts.easy};\n  font-size: ${p => p.theme.units(2)};\n  line-height: ${p => p.theme.units(5)};\n  border-bottom-style: solid;\n  border-bottom-width: ${p => p.theme.units(0.25)};\n  border-bottom-color: ${p => p.theme.colors.baseBorder};\n  background: ${p => p.theme.colors.baseBg};\n  transition: background ${p => p.theme.transitions.quick};\n}\n\ninput:hover {\n  background: ${p => p.theme.colors.baseAltBg};\n}\n\ninput::placeholder {\n  color: ${p => p.theme.colors.baseLightText};\n}\n\n.input-label {\n  display: none;\n}\n\n/* ---------- COMPONENT STATES ---------- */\n\n&.text-input_with-label {\n  .input-label {\n    display: block;\n  }\n}`\n\nexport default Wrapper\n","import React, { Component } from 'react'\nimport InputLabel from '../../text-levels/InputLabel'\nimport Wrapper from './style'\n\n/*\n *   Text input component\n *   ------------------------------------------------------\n *\n *   DESCRIPTION\n *   Simple <input type='text'>, with or without a label\n *\n *   VARIANTS\n *   label\n *\n *   PROPS\n *   label, placeholder, value, defaultValue, onChange,\n *   onFocus, onBlur, onClick, onKeyPress, blurOnEnter\n *\n */\n\nexport default class TextInput extends Component {\n  constructor () {\n    super()\n    this.setValue = this.setValue.bind(this)\n  }\n\n  setValue (val) {\n    this.input.value = val\n    this.forceUpdate()\n  }\n\n  render () {\n    const props = this.props\n    let classes = 'text-input'\n    if (props.label) classes += ' text-input_with-label'\n\n    const handleKeyPress = e => {\n      if (props.onKeyPress) props.onKeyPress(e)\n      if (props.blurOnEnter && e.key === 'Enter') this.input.blur()\n    }\n\n    return <Wrapper className={classes}>\n      <InputLabel>{props.label}</InputLabel>\n      <input\n        type='text'\n        value={props.value}\n        onChange={props.onChange}\n        onFocus={props.onFocus}\n        onBlur={props.onBlur}\n        onClick={props.onClick}\n        onKeyPress={handleKeyPress}\n        placeholder={props.placeholder}\n        defaultValue={props.defaultValue}\n        ref={node => { this.input = node }} />\n    </Wrapper>\n  }\n}\n","import styled from 'styled-components'\n\nconst Wrapper = styled.div`\n\nposition: relative;\ndisplay: flex;\nalign-items: center;\n\n.search-field__magnifying-icon,\n.search-field__empty-icon {\n  position: absolute;\n  display: flex;\n  align-items: center;\n  right: ${p => p.theme.units(2)};\n}\n\n.search-field__magnifying-icon {\n  display: none;\n}\n\n.text-input input {\n  border-style: solid;\n  border-width: ${p => p.theme.units(0.25)};\n  border-color: ${p => p.theme.colors.baseBorder};\n  border-radius: ${p => p.theme.units(2.5)};\n  background: ${p => p.theme.colors.baseAltBg};\n  padding: 0 ${p => p.theme.units(2)};\n  height: ${p => p.theme.units(5)};\n}\n\n&.search-field_empty {\n  .search-field__magnifying-icon {\n    display: flex;\n  }\n\n  .search-field__empty-icon {\n    display: none;\n  }\n}`\n\nexport default Wrapper\n","import React, { Component } from 'react'\nimport TextInput from '../TextInput'\nimport Button from '../../buttons/Button'\nimport Wrapper from './style'\n\n/*\n *   Search field component\n *   ------------------------------------------------------\n *\n *   DESCRIPTION\n *   Search field component\n *\n *   PROPS\n *   placeholder, value, defaultValue, onChange, onFocus,\n *   onBlur, onClick\n *\n */\n\nexport default class SearchField extends Component {\n  render () {\n    const props = this.props\n    const inputDom = this.node ? this.node.querySelector('input') : null\n    const inputValue = inputDom ? inputDom.value : null\n\n    /* Inner logic */\n    const focusInput = e => inputDom.focus()\n    const blurInput = e => inputDom.blur()\n    const clearInput = e => {\n      inputDom.value = ''\n      focusInput()\n      blurInput()\n    }\n\n    /* Assign classes to component */\n    let classes = ['search-field']\n    if (!inputValue && !props.value) {\n      classes.push('search-field_empty')\n    }\n\n    /* Display */\n    return <Wrapper\n      className={classes.join(' ')}\n      ref={node => { this.node = node }}>\n      <TextInput\n        value={props.value}\n        onChange={props.onChange}\n        onFocus={props.onFocus}\n        onBlur={props.onBlur}\n        onClick={props.onClick}\n        placeholder={props.placeholder}\n        defaultValue={props.defaultValue} />\n      <div className='search-field__magnifying-icon'>\n        <Button\n          alt='Magnifying icon'\n          onClick={focusInput}\n          icon='/images/magnifying-icon.svg' />\n      </div>\n      <div className='search-field__empty-icon'>\n        <Button\n          alt='Close icon'\n          onClick={clearInput}\n          icon='/images/close-icon.svg' />\n      </div>\n    </Wrapper>\n  }\n}\n","import styled from 'styled-components'\nimport hexToRgba from 'hex-to-rgba'\n\nconst Wrapper = styled.div`\n\n/* ---------- STYLES ---------- */\n\ndisplay: grid;\nmin-height: 100vh;\nmax-height: 100vh;\ngrid-template-rows: auto 1fr;\nbackground: ${p => p.theme.colors.baseBg};\n\n.home-page__header {\n  grid-row: 1;\n  z-index: 2;\n}\n\n.home-page__content {\n  display: flex;\n  position: relative;\n  grid-row: 2;\n  z-index: 1;\n  min-height: 100%;\n  max-height: 100%;\n  overflow: hidden;\n  padding-top: ${p => p.theme.units(2)};\n  padding-right: ${p => p.theme.units(2)};\n}\n\n.home-page__notifications {\n  position: absolute;\n  z-index: 2;\n  bottom: ${p => p.theme.units(2)};\n  right: ${p => p.theme.units(2)};\n  width: calc(100% - ${p => p.theme.units(4)});\n  max-width: ${p => p.theme.units(40)};\n}\n\n.home-page__create-bundle-loader {\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: ${p => hexToRgba(p.theme.colors.baseBg, 0.8)};\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n\n.home-page__create-bundle-loader img {\n  height: ${p => p.theme.units(1)};\n}\n\n.home-page__tools-panel,\n.home-page__bundles-panel {\n  position: relative;\n  min-height: 100%;\n  max-height: 100%;\n  padding: 0 ${p => p.theme.units(2)};\n  border-right-style: solid;\n  border-right:\n    ${p => p.theme.units(0.25)}\n    ${p => p.theme.colors.baseBorder}\n    solid;\n}\n\n.home-page__tools-panel {\n  width: 65%;\n  max-width: ${p => p.theme.units(130)};\n}\n\n.home-page__bundles-panel {\n  width: 35%;\n  max-width: ${p => p.theme.units(70)};\n}\n\n.searchable-list {\n  position: relative;\n  min-height: 100%;\n  max-height: 100%;\n  display: grid;\n  grid-template-rows: auto auto auto auto 1fr;\n  overflow-y: hidden;\n}\n\n.home-page__tools-search,\n.home-page__bundles-search {\n  padding: ${p => p.theme.units(3)} 0;\n  grid-row: 1;\n}\n\n.search-field {\n  margin: 0 ${p => p.theme.units(3)};\n  max-width: ${p => p.theme.units(40)};\n}\n\n.home-page__bundles-loader {\n  grid-row: 2;\n}\n\n.home-page__bundles-empty {\n  grid-row: 3;\n}\n\n.home-page__bundles-error {\n  grid-row: 4;\n}\n\n\n.home-page__tools-list,\n.home-page__bundles-list {\n  position: relative;\n  grid-row: 5;\n  max-height: 100%;\n  overflow-y: scroll;\n  overflow-scrolling: touch;\n}\n\n.home-page__tools-list::-webkit-scrollbar,\n.home-page__bundles-list::-webkit-scrollbar {\n  display: none;\n}\n\n.home-page__tools-list-slider,\n.home-page__bundles-list-slider {\n  padding-bottom: ${p => p.theme.units(5)};\n}\n\n.home-page__bundles-loader,\n.home-page__bundles-empty,\n.home-page__bundles-error,\n.home-page__bundles-empty-search {\n  padding-top: ${p => p.theme.units(9)};\n  text-align: center;\n}\n\n.home-page__bundles-loader img {\n  height: ${p => p.theme.units(1)};\n}\n\n.home-page__tools-list-slider {\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.libe-tool-thumb {\n  flex-grow: 0;\n  flex-shrink: 0;\n  width: calc(50% - ${p => p.theme.units(1)});\n  margin-bottom: ${p => p.theme.units(2)};\n}\n\n.libe-tool-thumb:nth-child(odd) {\n  margin-right: ${p => p.theme.units(2)};\n}\n\n.libe-bundle-thumb {\n  margin-bottom: ${p => p.theme.units(2)};\n}\n\n@media screen and (max-width: ${p => p.theme.breakpoints.wide}) {\n  .home-page__tools-panel,\n  .home-page__bundles-panel {\n    width: 50%;\n  }\n\n  .libe-tool-thumb {\n    width: 100%;\n    margin-right: 0;\n  }\n}\n\n@media screen and (max-width: ${p => p.theme.breakpoints.medium}) {\n  .home-page__bundles-loader,\n  .home-page__bundles-empty,\n  .home-page__bundles-error,\n  .home-page__bundles-empty-search {\n    padding-top: ${p => p.theme.units(5)};\n  }\n}\n\n/* ---------- COMPONENT STATES ---------- */\n.home-page__bundles-loader,\n.home-page__bundles-empty,\n.home-page__bundles-error,\n.home-page__bundles-empty-search,\n.home-page__create-bundle-loader {\n  display: none;\n}\n\n&.home-page_bundles-empty {\n  .home-page__bundles-loader,\n  .home-page__bundles-list,\n  .home-page__bundles-error,\n  .home-page__bundles-empty-search {\n    display: none;\n  }\n\n  .home-page__bundles-empty {\n    display: block;\n  }\n}\n\n&.home-page_bundles-error {\n  .home-page__bundles-loader,\n  .home-page__bundles-list,\n  .home-page__bundles-empty,\n  .home-page__bundles-empty-search {\n    display: none;\n  }\n\n  .home-page__bundles-error {\n    display: block;\n  }\n}\n\n&.home-page_bundles-empty-search {\n  .home-page__bundles-error,\n  .home-page__bundles-list,\n  .home-page__bundles-empty,\n  .home-page__bundles-empty-loader {\n    display: none;\n  }\n\n  .home-page__bundles-empty-search {\n    display: block;\n  }\n}\n\n&.home-page_bundles-fetching {\n  .home-page__bundles-error,\n  .home-page__bundles-list,\n  .home-page__bundles-empty,\n  .home-page__bundles-empty-search {\n    display: none;\n  }\n\n  .home-page__bundles-loader {\n    display: block;\n  }\n}\n\n&.home-page_bundles-filtering {\n  .home-page__bundles-error,\n  .home-page__bundles-list,\n  .home-page__bundles-empty,\n  .home-page__bundles-empty-search {\n    display: none;\n  }\n\n  .home-page__bundles-loader {\n    display: block;\n  }\n}\n\n&.home-page_create-bundle-fetching {\n  .home-page__create-bundle-loader {\n    display: flex;\n  }  \n}\n`\n\nexport default Wrapper\n","export const displays = [\n  'cover',\n  'bg-image',\n  'quote-on-bg-image',\n  'text-on-bg-image',\n  'image-and-text'\n]\n\nexport const displayPickerOptions = [\n  { label: 'Mise en page', value: 'placeholder', disabled: true, selected: true },\n  { label: 'Page de garde', value: displays[0] },\n  { label: 'Photo pleine page', value: displays[1] },\n  { label: 'Citation', value: displays[2] },\n  { label: 'Photo lgende', value: displays[3] },\n  { label: 'Promo  Une ', value: displays[4] }\n]\n","import styled from 'styled-components'\n\nconst Wrapper = styled.div`\n\n/* ---------- STYLES ---------- */\n\nwidth: 100%;\nbox-sizing: border-box;\n\nselect {\n  width: 100%;\n  box-sizing: border-box;\n  border: none;\n  cursor: pointer;\n  height: ${p => p.theme.units(5)};\n  padding: 0 ${p => p.theme.units(1)};\n  color: ${p => p.theme.colors.baseText};\n  font-family: ${p => p.theme.fonts.easy};\n  font-size: ${p => p.theme.units(2)};\n  line-height: ${p => p.theme.units(5)};\n  border-bottom-style: solid;\n  border-bottom-width: ${p => p.theme.units(0.25)};\n  border-bottom-color: ${p => p.theme.colors.baseBorder};\n  background: ${p => p.theme.colors.baseBg};\n  transition: background ${p => p.theme.transitions.quick};\n}\n\nselect:hover {\n  background: ${p => p.theme.colors.baseAltBg};\n}\n\n/* ---------- COMPONENT STATES ---------- */\n\n.input-label {\n  display: none;\n}\n\n&.select-list_with-label {\n  .input-label {\n    display: block;\n  }\n}\n\n&.select-list_placeholder-selected {\n  select {\n    color: ${p => p.theme.colors.baseLightText};\n  }\n}`\n\nexport default Wrapper\n","import React, { Component } from 'react'\nimport InputLabel from '../../text-levels/InputLabel'\nimport Wrapper from './style'\n\n/*\n *   Select list component\n *   ------------------------------------------------------\n *\n *   DESCRIPTION\n *   Simple <select><option /></select>, with or without a\n *   label\n *\n *   VARIANTS\n *   label\n *\n *   PROPS\n *   label, options(label, value, disabled, selected),\n *   disabled, onChange, onFocus, onBlur, onClick\n *\n */\n\nexport default class SelectList extends Component {\n  constructor (props) {\n    super(props)\n    const options = props.options || []\n    const placeholderOption = options.filter(option => option.selected && option.disabled)[0]\n    this.setValue = this.setValue.bind(this)\n    this.onChangeWrapper = this.onChangeWrapper.bind(this)\n    this.state = { placeholder: placeholderOption }\n  }\n\n  setValue (val) {\n    this.input.value = val\n  }\n\n  render () {\n    const props = this.props\n    const state = this.state\n    const options = props.options || []\n    const defaultOption = options.filter(option => option.selected)[0]\n    const defaultValue = defaultOption ? defaultOption.value : undefined\n    /* Assign classes to component */\n    const classes = ['select-list']\n    if (props.label) classes.push('select-list_with-label')\n    if (props.disabled) classes.push('select-list_disabled')\n    if (state.placeholder) {\n      if (\n        this.input &&\n        this.input.value &&\n        this.input.value === state.placeholder.value) {\n        classes.push('select-list_placeholder-selected')\n      } else if (!this.input) classes.push('select-list_placeholder-selected')\n    }\n    /* Display */\n    return <Wrapper className={classes.join(' ')}>\n      <InputLabel>{props.label}</InputLabel>\n      <select\n        defaultValue={defaultValue}\n        disabled={props.disabled}\n        onChange={this.onChangeWrapper}\n        onFocus={props.onFocus}\n        onBlur={props.onBlur}\n        onClick={props.onClick}\n        ref={node => { this.input = node }}>{\n          options.map(option => {\n            if (!option.value) console.error('Options need a value field')\n            return <option\n              key={option.value}\n              disabled={option.disabled}\n              label={option.label}\n              value={option.value}>\n              {option.label}\n            </option>\n          })\n        }</select>\n    </Wrapper>\n  }\n\n  onChangeWrapper (e) {\n    const props = this.props\n    this.setState({ placeholder: false })\n    if (!props.onChange) return\n    if (typeof props.onChange !== 'function') return\n    return props.onChange(e)\n  }\n}\n","export default {}\n","import styled from 'styled-components'\nimport libeIcon from '../assets/libe-icon.png'\n\nconst r = '.libe-insta-slide'\n\nexport default styled.div`\n\n/* Whole slide */\nposition: relative;\nwidth: 1080px;\nheight: 1920px;\nbackground: white;\n\n// [WIP] make sure fontsfaces are inherited from here and not from the app\n\n/* Background images */\n${r}__background-images {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  display: flex;\n  flex-direction: column;\n}\n\n${r}__background-image {\n  width: 100%;\n  height: 100%;\n  flex-shrink: 1;\n  background-position: center center;\n  background-repeat: no-repeat;\n}\n\n/* Icon signature */\n${r}__icon-signature {\n  position: absolute;\n  top: 1663px;\n  left: calc(50% - 75px);\n  width: 150px;\n}\n\n${r}__icon-signature img {\n  width: 100%;\n  height: auto;\n}\n\n/* Icon title */\n${r}__icon-title {\n  overflow: hidden;\n  background-image: url(${libeIcon});\n  background-position: center;\n  background-size: contain;\n  background-repeat: no-repeat;\n}\n\n${r}__icon-title span {\n  position: absolute;\n  -webkit-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n  top: 50%;\n  left: 50%;\n  width: 70%;\n  margin-top: auto;\n  margin-bottom: auto;\n  font-family: 'Libe-Sans-Semicondensed', Helvetica, Arial, sans-serif;\n  font-size: 56px;\n  line-height: 56px;\n  font-weight: 400;\n  font-style: normal;\n  letter-spacing: 0.03em;\n  text-transform: uppercase;\n  color: #FFFFFF;\n  text-align: center;\n}\n\n/* Text panel */\n${r}__text-panel {\n  background: #FFFFFF;\n  padding: 24px;\n  font-family: 'Libe-Sans-Semicondensed', Helvetica, Arial, sans-serif;\n  font-weight: 400;\n  font-size: 62px;\n  line-height: 72px;\n  font-style: normal;\n  letter-spacing: 0.03em;\n  text-transform: none;\n  color: #212121;\n  text-align: center;\n}\n\n${r}__text-panel_big {\n  font-size: 108px;\n  line-height: 108px;\n  text-transform: uppercase;\n}\n\n/* Image */\n${r}__image img {\n  max-width: 100%;\n  height: auto;\n}\n\n/* Label title */\n${r}__label-title {\n  padding: 12px;\n  padding-top: 18px;\n  background: #E4214B;\n  font-family: 'Libe-Sans-Semicondensed', Helvetica, Arial, sans-serif;\n  font-weight: 400;\n  font-size: 50px;\n  line-height: 50px;\n  font-style: normal;\n  letter-spacing: 0.03em;\n  text-transform: uppercase;\n  color: #FFFFFF;\n  text-align: center;\n}\n\n/* Paragraph */\n${r}__paragraph {\n  font-family: 'Libe-Sans', Helvetica, Arial, sans-serif;\n  font-weight: 400;\n  font-size: 62px;\n  line-height: 71px;\n  font-style: normal;\n  letter-spacing: 0.03em;\n  text-transform: normal;\n  color: #212121;\n  text-align: center;\n}\n\n/* Quote */\n${r}__quote {\n  font-family: 'Libe-Sans-Semicondensed', Helvetica, Arial, sans-serif;\n  font-weight: 400;\n  font-size: 122px;\n  line-height: 142px;\n  font-style: normal;\n  letter-spacing: 0.03em;\n  text-transform: normal;\n  color: #212121;\n}\n\n/* Quote sign */\n${r}__quote-sign {\n  width: 360px;\n  opacity: 0.5;\n  mix-blend-mode: multiply;\n}\n\n${r}__quote-sign img {\n  width: 100%;\n  height: auto;\n}\n\n/* Quote author */\n${r}__quote-author {\n  font-family: 'Synthese', Helvetica, Arial, sans-serif;\n  font-stretch: normal;\n  font-weight: 400;\n  font-size: 50px;\n  line-height: 60px;\n  font-style: normal;\n  letter-spacing: 0em;\n  text-transform: uppercase;\n  color: #212121;\n  text-align: right;\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *  DISPLAYS\n *\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n\n/* Cover display */\n${r}__cover-display {\n  position: absolute;\n  -webkit-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n  left: 50%;\n  top: 45%;\n  width: 100%;\n  max-width: 780px;\n}\n\n${r}__cover-display\n  ${r}__icon-title {\n    margin-left: auto;\n    margin-right: auto;\n    position: relative;\n    width: 448px;\n    height: 160px;\n}\n\n${r}__cover-display\n  ${r}__text-panel {\n    margin-left: auto;\n    margin-right: auto;\n    margin-top: -12px;\n    width: -webkit-fit-content;\n    width: fit-content;\n}\n\n/* Image and text display */\n${r}__image-and-text-display {\n  position: absolute;\n  -webkit-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n  top: 45%;\n  left: 50%;\n  width: 100%;\n  max-width: 780px;\n}\n\n${r}__image-and-text-display\n  ${r}__image {\n    margin-left: auto;\n    margin-right: auto;\n    margin-bottom: 54px;\n    width: -webkit-fit-content;\n    width: fit-content;\n}\n\n${r}__image-and-text-display\n  ${r}__label-title {\n    margin-left: auto;\n    margin-right: auto;\n    margin-bottom: 36px;\n    width: -webkit-fit-content;\n    width: fit-content;\n}\n\n/* Quote on background image display */\n${r}__quote-on-bg-image-display {\n  position: absolute;\n  -webkit-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n  top: 45%;\n  left: 50%;\n  width: 100%;\n  max-width: 780px;\n}\n\n${r}__quote-on-bg-image-display\n  ${r}__quote-sign {\n    position: relative;\n    top: 0;\n}\n\n${r}__quote-on-bg-image-display\n  ${r}__quote-sign img {\n    position: absolute;\n    left: -26px;\n    top: -80px;\n}\n\n${r}__quote-on-bg-image-display\n  ${r}__quote-and-author {\n    position: relative;\n}\n\n${r}__quote-on-bg-image-display\n  ${r}__quote {\n    margin-bottom: 100px;\n}\n\n/* Text on background image display */\n${r}__text-on-bg-image-display {\n  position: absolute;\n  -webkit-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n  top: 45%;\n  left: 50%;\n  width: 100%;\n  max-width: 780px;\n}\n\n${r}__text-on-bg-image-display\n  ${r}__text-panel {\n    margin-left: auto;\n    margin-right: auto;\n    width: -webkit-fit-content;\n    width: fit-content;\n    background: rgba(255, 255, 255, 0.7);\n}\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *\n *  MODIFIERS\n *\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n\n/* Default */\n${r}__cover-display,\n${r}__image-and-text-display,\n${r}__bg-image-display,\n${r}__quote-on-bg-image-display,\n${r}__text-on-bg-image-display {\n  display: none;\n}\n\n/* Cover display */\n&${r}_cover-display\n  ${r}__cover-display {\n    display: block;\n}\n\n&${r}_cover-display\n  ${r}__icon-signature {\n    display: none;\n}\n\n&${r}_cover-display${r}_hidden-title\n  ${r}__icon-signature {\n    display: block;\n}\n\n&${r}_cover-display${r}_hidden-title\n  ${r}__icon-title {\n    display: none;\n}\n\n&${r}_cover-display${r}_hidden-title\n  ${r}__text-panel {\n    margin-top: 0px;\n}\n\n/* Image and text display */\n&${r}_image-and-text-display\n  ${r}__background-images {\n    display: none;\n}\n\n&${r}_image-and-text-display\n  ${r}__image-and-text-display {\n    display: block;\n}\n\n&${r}_image-and-text-display${r}_hidden-title\n  ${r}__label-title {\n    display: none;\n  }\n}\n\n/* Background image display */\n&${r}_bg-image-display\n  ${r}__bg-image-display {\n    display: block;\n}\n\n&${r}_bg-image-display${r}_hidden-logo\n  ${r}__icon-signature {\n    display: none;\n}\n\n/* Quote on background image display */\n&${r}_quote-on-bg-image-display\n  ${r}__background-images {\n    opacity: 0.3;\n}\n\n&${r}_quote-on-bg-image-display\n  ${r}__quote-on-bg-image-display {\n    display: block;\n}\n\n/* Text on background image display */\n&${r}_text-on-bg-image-display\n  ${r}__text-on-bg-image-display {\n    display: block;\n}`\n","import React, { Component } from 'react'\n\nimport { ThemeProvider } from 'styled-components'\nimport theme from './theme'\n\nimport libeQuoteSign from '../assets/libe-quote-sign.png'\nimport libeIcon from '../assets/libe-icon.png'\nimport bgImgPlaceholderSrc from '../assets/bg-image-placeholder.svg'\nimport imgPlaceholderSrc from '../assets/image-placeholder.svg'\n\nimport Wrapper from './style'\n\nexport default class LibeInstaSlide extends Component {\n  render () {\n    const { props } = this\n    const { display } = props\n    const title = props.title || {}\n    const text = props.text || {}\n    const image = props.image || {}\n    const backgroundImages = props.backgroundImages || []\n    const contentPosition = props.contentPosition\n    const logo = props.logo || {}\n\n    /* Assign classes */\n    const r = `libe-insta-slide`\n    const classes = [r, `${r}_${display}-display`]\n    if (title.hidden) classes.push(`${r}_hidden-title`)\n    if (logo.hidden) classes.push(`${r}_hidden-logo`)\n\n    /* Inner logic */\n    const coverContentPosStyle = (() => {\n      if (typeof parseInt(contentPosition, 10) !== 'number') return {}\n      return {\n        top: `${contentPosition / 100 * (1770 - 150) + 150}px`,\n        transform: `translate(-50%, -${contentPosition}%)`\n      }\n    })()\n    const nonCoverContentPosStyle = (() => {\n      if (typeof parseInt(contentPosition, 10) !== 'number') return {}\n      return {\n        top: `${contentPosition / 100 * (1600 - 150) + 150}px`,\n        transform: `translate(-50%, -${contentPosition}%)`\n      }\n    })()\n    const textValue = text.value || ''\n    const brSplitTextValue = textValue.split(/<br\\s?\\/?>/i)\n    const titleValue = title.value || ''\n    const brSplitTitleValue = titleValue.split(/<br\\s?\\/?>/i)\n    const titleValueWithBrs = []\n    brSplitTitleValue.forEach((line, i) => {\n      titleValueWithBrs.push(line)\n      if (i < brSplitTitleValue.length - 1) titleValueWithBrs.push(<br key={`br${i}`} />)\n    })\n    const textValueWithBrs = []\n    brSplitTextValue.forEach((line, i) => {\n      textValueWithBrs.push(line)\n      if (i < brSplitTextValue.length - 1) textValueWithBrs.push(<br key={`br${i}`} />)\n    })\n\n    /* Placeholders used only in edition mode, not for rendering */\n    const bgImgPlaceholderStyle = !backgroundImages ||\n      !backgroundImages.length\n      ? { backgroundImage: `url('${bgImgPlaceholderSrc}')` }\n      : {}\n    const imgPlaceholderStyle = !image || (image && !image.src)\n      ? { width: 780,\n        height: 1000,\n        backgroundImage: `url(${imgPlaceholderSrc})`\n      }\n      : {}\n    const coverDisplayTitleOrPlaceholder = title.value\n      ? titleValueWithBrs\n      : <span style={{ color: 'white', opacity: 0.5 }}>Titre</span>\n    const imgAndTxtDisplayTitleOrPlaceholder = title.value\n      ? titleValueWithBrs\n      : <span style={{ color: 'white', opacity: 0.5 }}>Titre</span>\n    const quoteOnBgDisplayTitleOrPlaceholder = title.value\n      ? titleValueWithBrs\n      : <span style={{ color: '#999999' }}>Texte de la citation</span>\n    const coverDisplayTextOrPlaceholder = text.value\n      ? textValueWithBrs\n      : <span style={{ color: '#999999' }}>Texte de la slide</span>\n    const imgAndTxtDisplayTextOrPlaceholder = text.value\n      ? textValueWithBrs\n      : <span style={{ color: '#999999' }}>Texte de la slide</span>\n    const quoteOnBgDisplayTextOrPlaceholder = text.value\n      ? textValueWithBrs\n      : <span style={{ color: '#999999' }}>Auteur de la citation</span>\n    const textOnBgDisplayTextOrPlaceholder = text.value\n      ? textValueWithBrs\n      : <span style={{ color: '#999999' }}>Texte de la slide</span>\n\n    /* Display */\n    return <ThemeProvider theme={theme}>\n      <Wrapper\n        className={classes.join(' ')}>\n\n        {/* Background images */}\n        <div data-property='background-images'\n          className={`${r}__background-images`}\n          style={bgImgPlaceholderStyle}>\n          {backgroundImages.map((bgImg, i) => <div\n            key={i}\n            className={`${r}__background-image`}\n            style={{\n              backgroundImage: `url('${bgImg.src}')`,\n              backgroundSize: `${bgImg.zoom || 1080}px`,\n              backgroundPosition: `\n                ${bgImg.position.x ? 100 - bgImg.position.x : 50}%\n                ${bgImg.position.y || 50}%`\n            }} />)}\n        </div>\n\n        {/* Cover display */}\n        <div style={coverContentPosStyle} className={`${r}__cover-display`}>\n          <div className={`${r}__icon-title`}>\n            <span data-property='title'>\n              {coverDisplayTitleOrPlaceholder}\n            </span>\n          </div>\n          <div className={`${r}__text-panel-wrapper`}>\n            <div\n              data-property='text'\n              className={`${r}__text-panel ${r}__text-panel_big`}>\n              {coverDisplayTextOrPlaceholder}\n            </div>\n          </div>\n        </div>\n\n        {/* Image and text display */}\n        <div className={`${r}__image-and-text-display`}>\n          <div\n            data-property='image'\n            className={`${r}__image`}\n            style={imgPlaceholderStyle}>{\n              image.src\n                ? <img src={image.src} alt='Slide illustration' />\n                : ''\n            }</div>\n          <div className={`${r}__title-and-text`}>\n            <div\n              data-property='title'\n              className={`${r}__label-title`}>\n              {imgAndTxtDisplayTitleOrPlaceholder}\n            </div>\n            <div\n              data-property='text'\n              className={`${r}__paragraph`}>\n              {imgAndTxtDisplayTextOrPlaceholder}\n            </div>\n          </div>\n        </div>\n\n        {/* Background image display */}\n        <div className={`${r}__bg-image-display`} />\n\n        {/* Quote on background image display */}\n        <div className={`${r}__quote-on-bg-image-display`}>\n          <div className={`${r}__quote-sign`}>\n            <img src={libeQuoteSign} alt='Lib quote sign' />\n          </div>\n          <div className={`${r}__quote-and-author`}>\n            <div\n              data-property='title'\n              className={`${r}__quote`}>\n              {quoteOnBgDisplayTitleOrPlaceholder}\n            </div>\n            <div\n              data-property='text'\n              className={`${r}__quote-author`}>\n              {quoteOnBgDisplayTextOrPlaceholder}\n            </div>\n          </div>\n        </div>\n\n        {/* Text on background image display */}\n        <div\n          style={nonCoverContentPosStyle}\n          className={`${r}__text-on-bg-image-display`}>\n          <div\n            data-property='text'\n            className={`${r}__text-panel`}>\n            {textOnBgDisplayTextOrPlaceholder}\n          </div>\n        </div>\n\n        {/* Icon signature */}\n        <div className={`${r}__icon-signature`}>\n          <img src={libeIcon} alt='Logo Lib' />\n        </div>\n\n      </Wrapper>\n    </ThemeProvider>\n  }\n}\n","import styled from 'styled-components'\n\nconst r = '.wysiwyg-editor'\n\nexport default styled.div`\nbackground: ${p => p.theme.colors.baseBg};\nborder-radius: ${p => p.theme.units(1)};\nborder: \n  ${p => p.theme.units(0.25)}\n  ${p => p.theme.colors.baseBorder}\n  solid;\npadding: ${p => p.theme.units(2)};\npadding-bottom: ${p => p.theme.units(3)};\ndisplay: flex;\nflex-wrap: wrap;\njustify-content: center;\nopacity: 0.15;\ntransition: opacity ${p => p.theme.transitions.quick};\n\n&:hover {\n  opacity: 0.95;\n}\n\n${r}__title {\n  flex-grow: 1;\n}\n\n${r}__close {\n  flex-shrink: 1;\n}\n\n${r}__children {\n  flex-grow: 0;\n  flex-shrink: 0;\n  width: 100%;\n  margin-top: ${p => p.theme.units(2)};\n  > * {\n    margin-bottom: ${p => p.theme.units(2)};\n  }\n  > *:last-child {\n    margin-bottom: inherit; \n  }\n}\n\n&${r}_inactive {\n  display: none;\n}`\n","import React, { Component } from 'react'\n\nimport Button from '../../buttons/Button'\nimport ParagraphTitle from '../../text-levels/ParagraphTitle'\n\nimport { withTheme, ThemeProvider } from 'styled-components'\nimport Wrapper from './style'\n\n/*\n *   Wysiwyg editor component\n *   ------------------------------------------------------\n *\n *   DESCRIPTION\n *   This component applies a hover style to a given DOM\n *   element (props.domRoot), and pops a settings block\n *   when this DOM element is clicked.\n *\n *   PROPS\n *   title, domRoot, children, onActivate\n *\n */\n\nclass WysiwygEditor extends Component {\n  constructor (props) {\n    super(props)\n    this.state = { active: false }\n    this.initDomRootStyles = {\n      boxShadow: props.domRoot ? props.domRoot.style.boxShadow : '',\n      cursor: props.domRoot ? props.domRoot.style.cursor : ''\n    }\n    this.setActiveStyle = this.setActiveStyle.bind(this)\n    this.unsetActiveStyle = this.unsetActiveStyle.bind(this)\n    this.activate = this.activate.bind(this)\n    this.unactivate = this.unactivate.bind(this)\n    this.handleMouseenterOnDomRoot = this.handleMouseenterOnDomRoot.bind(this)\n    this.handleMouseleaveOnDomRoot = this.handleMouseleaveOnDomRoot.bind(this)\n    if (props.domRoot) {\n      props.domRoot.addEventListener('mouseenter', this.handleMouseenterOnDomRoot)\n      props.domRoot.addEventListener('mouseleave', this.handleMouseleaveOnDomRoot)\n      props.domRoot.addEventListener('click', this.activate)\n    }\n  }\n\n  componentDidMount () {\n    if (this.state.active) return this.setActiveStyle()\n    return this.unsetActiveStyle()\n  }\n\n  componentDidUpdate () {\n    if (this.state.active) return this.setActiveStyle()\n    return this.unsetActiveStyle()\n  }\n\n  componentWillUnmount () {\n    const { props } = this\n    if (props.domRoot) {\n      props.domRoot.removeEventListener('mouseenter', this.setActiveStyle)\n      props.domRoot.removeEventListener('mouseleave', this.unsetActiveStyle)\n      props.domRoot.removeEventListener('click', this.activate)\n    }\n  }\n\n  render () {\n    const r = 'wysiwyg-editor'\n    const classes = [r]\n    if (!this.state.active) classes.push(`${r}_inactive`)\n    return <ThemeProvider theme={theme => theme._shade()}>\n      <Wrapper\n        ref={node => { this.$wrapper = node }}\n        className={classes.join(' ')}>\n        <div className={`${r}__title`}>\n          <ParagraphTitle>{this.props.title}</ParagraphTitle>\n        </div>\n        <div className={`${r}__close`}>\n          <Button\n            icon='/images/close-icon.svg'\n            onClick={this.unactivate} />\n        </div>\n        <div className={`${r}__children`}>\n          {this.props.children}\n        </div>\n      </Wrapper>\n    </ThemeProvider>\n  }\n\n  handleMouseenterOnDomRoot () {\n    if (!this.state.active) this.setActiveStyle()\n  }\n\n  handleMouseleaveOnDomRoot () {\n    if (!this.state.active) this.unsetActiveStyle()\n  }\n\n  setActiveStyle () {\n    const { props: { domRoot, theme } } = this\n    if (domRoot) {\n      domRoot.style.boxShadow = theme.shadows.massiveFocus\n      domRoot.style.cursor = 'pointer'\n    }\n  }\n\n  unsetActiveStyle () {\n    const {\n      initDomRootStyles,\n      props: { domRoot }\n    } = this\n    if (domRoot) {\n      domRoot.style.boxShadow = initDomRootStyles.boxShadow\n      domRoot.style.cursor = initDomRootStyles.cursor\n    }\n  }\n\n  activate () {\n    const { $wrapper, props: { onActivate } } = this\n    if (onActivate && typeof onActivate === 'function') onActivate()\n    this.setState({ active: true })\n    setTimeout(() => {\n      if (!$wrapper) return\n      if (!$wrapper.querySelector('input')) return\n      if (!$wrapper.querySelector('input').focus) return\n      $wrapper.querySelector('input').focus()\n    }, 10)\n  }\n\n  unactivate () {\n    this.setState({ active: false })\n  }\n}\n\nexport default withTheme(WysiwygEditor)\n","import styled from 'styled-components'\n\nconst Wrapper = styled.div`\n\n/* ---------- STYLES ---------- */\n\nwidth: 100%;\nbox-sizing: border-box;\n\n.range-input__input-wrapper {\n  position: relative;\n  width: 100%;\n  box-sizing: border-box;\n  border: none;\n  height: ${p => p.theme.units(5)};\n  padding: 0 ${p => p.theme.units(1)};\n  background: ${p => p.theme.colors.baseBg};\n  transition: background ${p => p.theme.transitions.quick};\n}\n\n.range-input__input-wrapper:hover {\n  cursor: pointer;\n  background: ${p => p.theme.colors.baseAltBg};\n}\n\n.range-input__fake-gauge {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  opacity: 0.05;\n  background: ${p => p.theme.colors.baseInvertedBg};\n}\n\n.range-input__value-displayer-wrapper {\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n\n.range-input__input-wrapper\n  input {\n    position: absolute;\n    transform: translateY(50%);\n    bottom: 0;\n    left: 0;\n    right: 0;\n    width: 100%;\n    cursor: pointer;\n    box-sizing: border-box;\n}\n\n.input-label {\n  display: none;\n}\n\n/* ---------- COMPONENT STATES ---------- */\n\n&.range-input_with-label {\n  .input-label {\n    display: block;\n  }\n}`\n\nexport default Wrapper\n","import React, { Component } from 'react'\nimport InputLabel from '../../text-levels/InputLabel'\nimport Paragraph from '../../text-levels/Paragraph'\nimport Wrapper from './style'\n\n/*\n *   Range input component\n *   ------------------------------------------------------\n *\n *   DESCRIPTION\n *   Simple <input type='range'>, with or without a label\n *\n *   VARIANTS\n *   label\n *\n *   PROPS\n *   label, placeholder, value, defaultValue, min,\n *   max, unit, onChange, onFocus, onBlur, onClick,\n *   onKeyPress\n *\n */\n\nexport default class RangeInput extends Component {\n  constructor (props) {\n    super(props)\n    this.setValue = this.setValue.bind(this)\n    this.handleChange = this.handleChange.bind(this)\n    this.updateTextAndFakeRange = this.updateTextAndFakeRange.bind(this)\n    this.defaultValue = (() => {\n      if (props.defaultValue) return props.defaultValue\n      if (props.min && props.max) return (props.min + props.max) / 2\n      if (props.min) return (props.min + 100) / 2\n      if (props.max) return (props.max) / 2\n      return 50\n    })()\n  }\n\n  setValue (val) {\n    if (!parseInt(val, 10)) return\n    this.input.value = parseInt(val, 10)\n    this.updateTextAndFakeRange()\n    this.forceUpdate()\n  }\n\n  componentDidMount () {\n    this.updateTextAndFakeRange()\n  }\n\n  handleChange (e) {\n    const { props } = this\n    if (props.onChange) props.onChange(e)\n    this.updateTextAndFakeRange()\n  }\n\n  updateTextAndFakeRange () {\n    const { props, input, valueDisplayer, fakeGauge } = this\n    if (!input || !valueDisplayer || !fakeGauge) return\n    const min = props.min || 0\n    const max = props.max || 100\n    const ratio = input.value ? ((input.value - min) / (max - min)) : 0.5\n    fakeGauge.style.right = `${100 - 100 * ratio}%`\n    valueDisplayer\n      .querySelector('.paragraph')\n      .innerHTML = `${input.value}${props.unit ? props.unit : ''}`\n  }\n\n  render () {\n    const { props } = this\n    let classes = 'range-input'\n    if (props.label) classes += ' range-input_with-label'\n    return <Wrapper className={classes}>\n      <InputLabel>{props.label}</InputLabel>\n      <div className='range-input__input-wrapper'>\n        <div\n          className='range-input__fake-gauge'\n          ref={node => { this.fakeGauge = node }} />\n        <div\n          className='range-input__value-displayer-wrapper'\n          ref={node => { this.valueDisplayer = node }}>\n          <Paragraph />\n        </div>\n        <input\n          type='range'\n          value={props.value}\n          min={props.min || 0}\n          max={props.max || 100}\n          onChange={this.handleChange}\n          onFocus={props.onFocus}\n          onBlur={props.onBlur}\n          onClick={props.onClick}\n          onKeyPress={props.onKeyPress}\n          placeholder={props.placeholder}\n          defaultValue={this.defaultValue}\n          ref={node => { this.input = node }} />\n      </div>\n    </Wrapper>\n  }\n}\n","import styled from 'styled-components'\nimport noDisplayBg from '../assets/no-display-bg-placeholder.svg'\n\nconst r = '.libe-insta-slide-wysiwyg'\n\nconst Wrapper = styled.div`\nheight: 100%;\nposition: relative;\n\n${r}__slide {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n\n${r}__editors {\n  position: absolute;\n  bottom: ${p => p.theme.units(1)};\n  left: ${p => p.theme.units(1)};\n  right: ${p => p.theme.units(1)};\n}\n\n${r}__editor .wysiwyg-editor {\n  box-shadow: ${p => p.theme.shadows.small};\n}\n\n${r}__placeholder {\n  width: 1080px;\n  height: 1920px;\n  background-image: url(${noDisplayBg});\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-color: ${p => p.theme.colors.baseBg};\n}\n\n/* States */\n${r}__placeholder {\n  display: none;\n}\n\n&${r}_no-display {\n  .libe-insta-slide {\n    display: none;\n  }\n  ${r}__placeholder {\n    display: block;\n  }\n}\n`\n\nexport default Wrapper\n","import React, { Component } from 'react'\n\nimport { displays } from '../utils/'\nimport Slide from '../Slide'\nimport WysiwygEditor from '../../../../../components/logical/WysiwygEditor'\nimport TextInput from '../../../../../components/inputs/TextInput'\nimport RangeInput from '../../../../../components/inputs/RangeInput'\nimport SelectList from '../../../../../components/inputs/SelectList'\n\nimport Wrapper from './style'\n\nconst IfDomReady = props => props.domIsReady\n  ? <div className={`libe-insta-slide-wysiwyg__editors`}>\n    {props.children}\n  </div>\n  : ''\n\nexport default class LibeInstaSlideWysiwyg extends Component {\n  /* * * * * * * * * * * * * * * * * * *\n   *\n   * CONSTRUCTOR\n   *\n   * * * * * * * * * * * * * * * * * * */\n  constructor () {\n    super()\n    this.state = {\n      domIsReady: false,\n      editorsAreReady: false\n    }\n    this.inputs = {}\n    this.editors = []\n    this.resize = this.resize.bind(this)\n    this.populateFields = this.populateFields.bind(this)\n    this.unactivateAllEditors = this.unactivateAllEditors.bind(this)\n    this.interval = window.setInterval(this.resize, 2000)\n    window.addEventListener('resize', this.resize)\n  }\n\n  /* * * * * * * * * * * * * * * * * * *\n   *\n   * DID MOUNT\n   *\n   * * * * * * * * * * * * * * * * * * */\n  componentDidMount () {\n    window.setTimeout(this.resize, 50)\n    this.setState({ domIsReady: true })\n  }\n\n  /* * * * * * * * * * * * * * * * * * *\n   *\n   * DID UPDATE\n   *\n   * * * * * * * * * * * * * * * * * * */\n  componentDidUpdate () {\n    window.setTimeout(this.resize(), 50)\n    if (!this.state.domIsReady) return this.setState({ domIsReady: true })\n    if (!this.state.editorsAreReady) return this.setState({ editorsAreReady: true })\n    this.editors = this.editors.filter(editor => {\n      if (!editor) return false\n      if (!editor.unactivate) return false\n      if (typeof editor.unactivate !== 'function') return false\n      return true\n    })\n    this.populateFields()\n  }\n\n  /* * * * * * * * * * * * * * * * * * *\n   *\n   * DID UNMOUNT\n   *\n   * * * * * * * * * * * * * * * * * * */\n  componentWillUnmount () {\n    window.clearInterval(this.interval)\n    window.removeEventListener('resize', this.resize)\n  }\n\n  /* * * * * * * * * * * * * * * * * * *\n   *\n   * RENDER\n   *\n   * * * * * * * * * * * * * * * * * * */\n  render () {\n    const { props, state, $wrapper } = this\n    const { slide, dispatchEdition } = props\n\n    /* Editors */\n    const $ = q => $wrapper\n      ? $wrapper.querySelector(q)\n      : document.createElement('DIV').querySelector(q)\n\n    const bgSrcDispatcher = e => {\n      const newVal = slide.backgroundImages &&\n      slide.backgroundImages[0]\n        ? { ...slide.backgroundImages[0], src: e.target.value }\n        : {\n          position: 50,\n          src: e.target.value,\n          zoom: 1080\n        }\n      return dispatchEdition('backgroundImages', [newVal])\n    }\n    const bgZoomDispatcher = e => {\n      const newVal = slide.backgroundImages &&\n      slide.backgroundImages[0]\n        ? { ...slide.backgroundImages[0], zoom: e.target.value }\n        : {\n          position: 50,\n          src: '',\n          zoom: e.target.value\n        }\n      return dispatchEdition('backgroundImages', [newVal])\n    }\n    const bgPosXDispatcher = e => {\n      const newVal = slide.backgroundImages &&\n      slide.backgroundImages[0]\n        ? { ...slide.backgroundImages[0],\n          position: {\n            x: e.target.value,\n            y: slide.backgroundImages[0].position\n              ? slide.backgroundImages[0].position.y\n              : 50\n          }\n        }\n        : { position: { x: e.target.value, y: 50 },\n          src: '',\n          zoom: 1080\n        }\n      return dispatchEdition('backgroundImages', [newVal])\n    }\n    const bgPosYDispatcher = e => {\n      const newVal = slide.backgroundImages &&\n      slide.backgroundImages[0]\n        ? { ...slide.backgroundImages[0],\n          position: {\n            x: slide.backgroundImages[0].position\n              ? slide.backgroundImages[0].position.x\n              : 50,\n            y: e.target.value\n          }\n        }\n        : {\n          position: { x: 50, y: e.target.value },\n          src: '',\n          zoom: 1080\n        }\n      return dispatchEdition('backgroundImages', [newVal])\n    }\n    const hideLogoDispatcher = e => {\n      const newVal = { ...slide.logo, hidden: parseInt(e.target.value, 10) }\n      return dispatchEdition('logo', newVal)\n    }\n    const imgSrcDispatcher = e => {\n      const newVal = { ...slide.image, src: e.target.value }\n      return dispatchEdition('image', newVal)\n    }\n    const titleDispatcher = e => {\n      const newVal = { ...slide.title, value: e.target.value }\n      return dispatchEdition('title', newVal)\n    }\n    const hideTitleDispatcher = e => {\n      const newVal = { ...slide.title, hidden: parseInt(e.target.value, 10) }\n      return dispatchEdition('title', newVal)\n    }\n    const textDispatcher = e => {\n      const newVal = { ...slide.text, value: e.target.value }\n      return dispatchEdition('text', newVal)\n    }\n    const contentPositionDispatcher = e => {\n      return dispatchEdition('contentPosition', e.target.value)\n    }\n\n    /* Display logic */\n    const displayIsAllowed = displays.indexOf(slide.display) + 1\n    const display = slide.display\n      ? displayIsAllowed ? slide.display : `unallowed`\n      : `no-display`\n\n    /* Assign classes to component */\n    const r = 'libe-insta-slide-wysiwyg'\n    const classes = [r]\n    classes.push(`${r}_${display}`)\n\n    /* Display */\n    this.editors = []\n    return <Wrapper\n      ref={node => { this.$wrapper = node }}\n      className={classes.join(` `)}>\n      <div className={`${r}__slide`}>\n        <Slide {...slide} />\n      </div>\n      <IfDomReady domIsReady={state.domIsReady}>{[\n\n        /* All displays with a bg image  Background image  */\n        <div key='Background image editor'\n          className='libe-insta-slide-wysiwyg__editor'>\n          <WysiwygEditor title='Image de fond'\n            onActivate={this.unactivateAllEditors}\n            ref={node => { this.editors.push(node) }}\n            domRoot={$(`.libe-insta-slide__background-images`)}>\n            <TextInput blurOnEnter\n              label=\"Adresse de l'image\"\n              ref={node => { this.inputs.bgImgSrc = node }}\n              placeholder=\"Tapez ici l'url de l'image\"\n              onChange={bgSrcDispatcher} />\n            <RangeInput label='Position horizontale'\n              ref={node => { this.inputs.bgImgXPos = node }}\n              onChange={bgPosXDispatcher} />\n            <RangeInput label='Position verticale'\n              ref={node => { this.inputs.bgImgYPos = node }}\n              onChange={bgPosYDispatcher} />\n            <RangeInput label='Zoom'\n              min={1080} max={8000} unit=' px'\n              defaultValue={1080}\n              ref={node => { this.inputs.bgImgZoom = node }}\n              onChange={bgZoomDispatcher} />{\n              display !== 'bg-image'\n                ? ''\n                : <SelectList label='Masquer le logo'\n                  onChange={hideLogoDispatcher}\n                  ref={node => { this.inputs.bgImgLogoHide = node }}\n                  options={[\n                    { label: 'Afficher', value: '0', selected: true },\n                    { label: 'Masquer', value: '1' } ]} />\n            }</WysiwygEditor>\n        </div>,\n\n        /* Cover display  Title and text */\n        <div key='Cover display / title and text editor'\n          className='libe-insta-slide-wysiwyg__editor'>\n          <WysiwygEditor title='Titre et texte de la slide'\n            onActivate={this.unactivateAllEditors}\n            ref={node => { this.editors.push(node) }}\n            domRoot={$(`.libe-insta-slide__cover-display`)}>\n            {(!slide.title || (slide.title && !slide.title.hidden))\n              ? <TextInput blurOnEnter\n                label='Titre'\n                placeholder='Tapez ici le titre de la slide'\n                ref={node => { this.inputs.coverDisplayTitle = node }}\n                onChange={titleDispatcher} />\n              : ''}\n            <TextInput blurOnEnter\n              label='Texte'\n              placeholder='Tapez ici le texte de la slide'\n              ref={node => { this.inputs.coverDisplayText = node }}\n              onChange={textDispatcher} />\n            <RangeInput label='Position du bloc'\n              onChange={contentPositionDispatcher}\n              ref={node => { this.inputs.coverDisplayContentPos = node }} />\n            <SelectList label='Masquer le titre'\n              onChange={hideTitleDispatcher}\n              ref={node => { this.inputs.coverDisplayTitleHide = node }}\n              options={[\n                { label: 'Afficher', value: '0', selected: true },\n                { label: 'Masquer', value: '1' } ]} />\n          </WysiwygEditor>\n        </div>,\n\n        /* Image and text display  Image */\n        <div key='Image and text display / image editor'\n          className='libe-insta-slide-wysiwyg__editor'>\n          <WysiwygEditor title='Image de la slide'\n            onActivate={this.unactivateAllEditors}\n            ref={node => { this.editors.push(node) }}\n            domRoot={$(`.libe-insta-slide__image-and-text-display .libe-insta-slide__image`)}>\n            <TextInput blurOnEnter\n              label=\"Adresse de l'image\"\n              ref={node => { this.inputs.imgAndTxtDisplayImgSrc = node }}\n              placeholder=\"Tapez ici l'url de l'image\"\n              onChange={imgSrcDispatcher} />\n          </WysiwygEditor>\n        </div>,\n\n        /* Image and text display  Title and text */\n        <div key='Image and text display / title and text editor'\n          className='libe-insta-slide-wysiwyg__editor'>\n          <WysiwygEditor title='Texte et titre de la slide'\n            onActivate={this.unactivateAllEditors}\n            ref={node => { this.editors.push(node) }}\n            domRoot={$(`.libe-insta-slide__image-and-text-display .libe-insta-slide__title-and-text`)}>\n            <SelectList label='Masquer le titre'\n              onChange={hideTitleDispatcher}\n              ref={node => { this.inputs.imgAndTxtDisplayTitleHide = node }}\n              options={[\n                { label: 'Afficher', value: '0', selected: true },\n                { label: 'Masquer', value: '1' } ]} />\n            {(!slide.title || (slide.title && !slide.title.hidden))\n              ? <TextInput blurOnEnter\n                label='Titre'\n                placeholder='Tapez ici le titre de la slide'\n                ref={node => { this.inputs.imgAndTxtDisplayTitle = node }}\n                onChange={titleDispatcher} />\n              : ''}\n            <TextInput blurOnEnter\n              label='Texte'\n              placeholder='Tapez ici le texte de la slide'\n              ref={node => { this.inputs.imgAndTxtDisplayText = node }}\n              onChange={textDispatcher} />\n          </WysiwygEditor>\n        </div>,\n\n        /* Quote on bg display  Quote */\n        <div key='Quote on bg / quote editor'\n          className='libe-insta-slide-wysiwyg__editor'>\n          <WysiwygEditor title='Texte de la citation'\n            onActivate={this.unactivateAllEditors}\n            ref={node => { this.editors.push(node) }}\n            domRoot={$(`.libe-insta-slide__quote-on-bg-image-display .libe-insta-slide__quote`)}>\n            <TextInput blurOnEnter\n              placeholder='Tapez ici la citation'\n              ref={node => { this.inputs.quoteOnBgDisplayTitle = node }}\n              onChange={titleDispatcher} />\n          </WysiwygEditor>\n        </div>,\n\n        /* Quote on bg display  Author */\n        <div key='Quote on bg / author editor'\n          className='libe-insta-slide-wysiwyg__editor'>\n          <WysiwygEditor title='Auteur de la citation'\n            onActivate={this.unactivateAllEditors}\n            ref={node => { this.editors.push(node) }}\n            domRoot={$(`.libe-insta-slide__quote-on-bg-image-display .libe-insta-slide__quote-author`)}>\n            <TextInput blurOnEnter\n              placeholder=\"Tapez ici l'auteur de la citation\"\n              ref={node => { this.inputs.quoteOnBgDisplayText = node }}\n              onChange={textDispatcher} />\n          </WysiwygEditor>\n        </div>,\n\n        /* Text on bg display  Text */\n        <div key='Text on bg / text editor'\n          className='libe-insta-slide-wysiwyg__editor'>\n          <WysiwygEditor title='Texte de la slide'\n            onActivate={this.unactivateAllEditors}\n            ref={node => { this.editors.push(node) }}\n            domRoot={$(`.libe-insta-slide__text-on-bg-image-display .libe-insta-slide__text-panel`)}>\n            <TextInput blurOnEnter\n              placeholder='Tapez ici le texte de la slide'\n              ref={node => { this.inputs.textOnBgDisplayText = node }}\n              onChange={textDispatcher} />\n            <RangeInput label='Position du bloc'\n              onChange={contentPositionDispatcher}\n              ref={node => { this.inputs.textOnBgDisplayContentPos = node }} />\n          </WysiwygEditor>\n        </div>\n\n      ]}</IfDomReady>\n\n      <div className={`${r}__placeholder`} />\n    </Wrapper>\n  }\n\n  /* * * * * * * * * * * * * * * * * * *\n   *\n   * POPULATE FIELDS\n   *\n   * * * * * * * * * * * * * * * * * * */\n  populateFields () {\n    const {\n      props: { slide: {\n        backgroundImages,\n        title,\n        text,\n        image,\n        contentPosition,\n        logo\n      } },\n      inputs: {\n        bgImgSrc,\n        bgImgXPos,\n        bgImgYPos,\n        bgImgZoom,\n        bgImgLogoHide,\n        coverDisplayTitle,\n        coverDisplayTitleHide,\n        coverDisplayContentPos,\n        imgAndTxtDisplayImgSrc,\n        imgAndTxtDisplayTitle,\n        imgAndTxtDisplayTitleHide,\n        quoteOnBgDisplayTitle,\n        coverDisplayText,\n        imgAndTxtDisplayText,\n        quoteOnBgDisplayText,\n        textOnBgDisplayText,\n        textOnBgDisplayContentPos\n      }\n    } = this\n    // Bg image fields\n    if (backgroundImages && backgroundImages[0]) {\n      if (bgImgSrc) bgImgSrc.setValue(backgroundImages[0].src)\n      if (backgroundImages[0].position) {\n        if (bgImgXPos) bgImgXPos.setValue(backgroundImages[0].position.x)\n        if (bgImgYPos) bgImgYPos.setValue(backgroundImages[0].position.y)\n      }\n      if (bgImgZoom) bgImgZoom.setValue(backgroundImages[0].zoom)\n    }\n    // Title fields\n    if (title) {\n      if (coverDisplayTitle) coverDisplayTitle.setValue(title.value || '')\n      if (coverDisplayTitleHide) coverDisplayTitleHide.setValue(title.hidden || '0')\n      if (imgAndTxtDisplayTitle) imgAndTxtDisplayTitle.setValue(title.value || '')\n      if (imgAndTxtDisplayTitleHide) imgAndTxtDisplayTitleHide.setValue(title.hidden || '0')\n      if (quoteOnBgDisplayTitle) quoteOnBgDisplayTitle.setValue(title.value || '')\n    }\n    // Text fields\n    if (text) {\n      if (coverDisplayText) coverDisplayText.setValue(text.value || '')\n      if (imgAndTxtDisplayText) imgAndTxtDisplayText.setValue(text.value || '')\n      if (quoteOnBgDisplayText) quoteOnBgDisplayText.setValue(text.value || '')\n      if (textOnBgDisplayText) textOnBgDisplayText.setValue(text.value || '')\n    }\n    // Image fields\n    if (image) {\n      if (imgAndTxtDisplayImgSrc) imgAndTxtDisplayImgSrc.setValue(image.src || '')\n    }\n    // Content position fields\n    if (contentPosition) {\n      if (coverDisplayContentPos) coverDisplayContentPos.setValue(contentPosition)\n      if (textOnBgDisplayContentPos) textOnBgDisplayContentPos.setValue(contentPosition)\n    }\n    // Logo fields\n    if (logo) {\n      if (bgImgLogoHide) bgImgLogoHide.setValue(logo.hidden || '0')\n    }\n  }\n\n  /* * * * * * * * * * * * * * * * * * *\n   *\n   * RESIZE\n   *\n   * * * * * * * * * * * * * * * * * * */\n  resize () {\n    const slideWidth = 1080\n    const slideHeight = 1920\n    const wrapperWidth = this.$wrapper.offsetWidth\n    const wrapperHeight = this.$wrapper.offsetHeight\n    const scX = wrapperWidth / slideWidth\n    const scY = wrapperHeight / slideHeight\n    const trX = (wrapperWidth - slideWidth) / 2\n    const trY = (wrapperHeight - slideHeight) / 2\n    const $slide = this.$wrapper.querySelector('.libe-insta-slide')\n    const $placeholder = this.$wrapper.querySelector('.libe-insta-slide-wysiwyg__placeholder')\n    $slide.style.transform = `matrix(${scX}, 0, 0, ${scY}, ${trX}, ${trY})`\n    $placeholder.style.transform = `matrix(${scX}, 0, 0, ${scY}, ${trX}, ${trY})`\n  }\n\n  /* * * * * * * * * * * * * * * * * * *\n   *\n   * UNACTIVATE ALL EDITORS\n   *\n   * * * * * * * * * * * * * * * * * * */\n  unactivateAllEditors () {\n    this.editors.forEach(editor => {\n      editor.unactivate()\n    })\n  }\n}\n","import styled from 'styled-components'\nimport hex2rgba from 'hex-to-rgba'\n\nconst rootClass = `.libe-insta-story-wysiwyg`\n\nconst Wrapper = styled.div`\nheight: 100%;\noverflow: hidden;\n\n${rootClass}__slide-controls {\n  margin-top: ${p => p.theme.units(3)};\n  height: ${p => p.theme.units(10)};\n  display: flex;\n  flex-direction: column;\n}\n\n${rootClass}__slides-navigation {\n  display: flex;\n  margin-bottom: ${p => p.theme.units(2)}\n  justify-content: center;\n  .block-title {\n    margin: 0 ${p => p.theme.units(3)};\n  }\n}\n\n${rootClass}__slide-display {\n  display: flex;\n  justify-content: center;\n  margin: ${p => p.theme.units(1)} auto;\n  width: unset;\n}\n\n${rootClass}__slides {\n  margin-top: ${p => p.theme.units(3)};\n  margin-bottom: ${p => p.theme.units(3)};\n  height: calc(100% - ${p => p.theme.units(19)});\n  display: flex;\n}\n\n${rootClass}__slides-spacer {\n  height: 100%;\n  width: 0px;\n  flex-grow: 0;\n  flex-shrink: 0;\n  transition: margin-left ${p => p.theme.transitions.quick};\n}\n\n${rootClass}__slide,\n${rootClass}__new-slide {\n  margin: 0 ${p => p.theme.units(7)};\n  height: 100%;\n  flex-grow: 0;\n  flex-shrink: 0;\n}\n\n${rootClass}__slide {\n  opacity: 0.3;\n  cursor: pointer;\n  position: relative;\n  box-shadow:\n    ${p => p.theme.shadows.medium};\n  transition: opacity ${p => p.theme.transitions.quick};\n  &:hover,\n  &${rootClass}__slide_active {\n    opacity: 1;\n  }\n  &${rootClass}__slide_active {\n    cursor: unset;\n    ${rootClass}__blocker {\n      display: none;\n    }\n  }\n  &:hover:not(${rootClass}__slide_active) {\n    box-shadow:\n      0 0 5px ${p => p.theme.units(0.125)}\n      ${p => p.theme.colors.actionText},\n      ${p => p.theme.shadows.medium};\n  }\n}\n\n${rootClass}__side-actions {\n  position: absolute;\n  left: calc(100% + ${p => p.theme.units(1)});\n  top: ${p => p.theme.units(1)};\n}\n\n${rootClass}__side-actions > * {\n  margin-bottom: ${p => p.theme.units(1)};\n}\n\n${rootClass}__blocker {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n\n${rootClass}__new-slide {\n  cursor: pointer;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border:\n    dashed\n    ${p => p.theme._shade().colors.actionBorder}\n    ${p => p.theme.units(0.25)};\n  border-radius: ${p => p.theme.units(2)};\n  background: ${p => hex2rgba(p.theme._shade().colors.actionLightText, 0.1)};\n  transition:\n    background ${p => p.theme.transitions.flash},\n    border ${p => p.theme.transitions.flash};\n  &:hover {\n    border:\n      dashed\n      ${p => p.theme._shade().colors.actionLightText}\n      ${p => p.theme.units(0.25)};\n    background: ${p => hex2rgba(p.theme._shade().colors.actionLightText, 0.2)};\n  }\n}\n\n/* * * * * * * States * * * * * * */\n\n&${rootClass}_no-slides {\n  ${rootClass}__slide-controls {\n    opacity: 0.5;\n  }\n  ${rootClass}__turn-page {\n    display: none;\n  }\n  ${rootClass}__slide-display {\n    opacity: 0;\n  }\n}`\n\nexport default Wrapper\n","import React, { Component } from 'react'\n\nimport { displays, displayPickerOptions } from './utils/'\n\nimport Button from '../../../../components/buttons/Button'\nimport BlockTitle from '../../../../components/text-levels/BlockTitle'\nimport SelectList from '../../../../components/inputs/SelectList'\nimport SlideWysiwyg from './SlideWysiwyg/'\n\nimport Wrapper from './style'\n\n// [WIP] Faire une notice\n// [WIP] Charger des fichiers plutt que des liens vers les images\n// [WIP] Faire un autre display \"text on bg img\"\n\nexport default class LibeInstaStoryWysiwyg extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      activeSlidePos: -1,\n      pLatestSettings: [],\n      loading: props.loading\n    }\n    this.slides = []\n    this.addNewSlide = this.addNewSlide.bind(this)\n    this.activatePrevSlide = this.activatePrevSlide.bind(this)\n    this.activateNextSlide = this.activateNextSlide.bind(this)\n    this.activateSlide = this.activateSlide.bind(this)\n    this.unactivateAllEditors = this.unactivateAllEditors.bind(this)\n    this.constrainProportions = this.constrainProportions.bind(this)\n    this.getOffsetForCentering = this.getOffsetForCentering.bind(this)\n    this.centerSlide = this.centerSlide.bind(this)\n    this.deleteSlide = this.deleteSlide.bind(this)\n    this.moveSlideToLeft = this.moveSlideToLeft.bind(this)\n    this.moveSlideToRight = this.moveSlideToRight.bind(this)\n    this.duplicateSlide = this.duplicateSlide.bind(this)\n    this.changeDisplayOnActiveSlide = this.changeDisplayOnActiveSlide.bind(this)\n    this.dispatchEditionInSlide = this.dispatchEditionInSlide.bind(this)\n    window.addEventListener('resize', () => this.constrainProportions())\n    window.addEventListener('resize', () => this.centerSlide())\n  }\n\n  componentWillUnmount () {\n    window.removeEventListener('resize', () => this.constrainProportions())\n    window.removeEventListener('resize', () => this.centerSlide())\n  }\n\n  componentDidMount () {\n    const { latestSettings } = this.props\n    const slides = latestSettings.slides || []\n    this.constrainProportions()\n    if (slides.length) this.centerSlide()\n    else this.centerSlide(-1)\n  }\n\n  componentDidUpdate () {\n    const { latestSettings } = this.props\n    const slides = latestSettings.slides || []\n    this.constrainProportions()\n    if (slides.length) this.centerSlide()\n    else this.centerSlide(-1)\n    this.slides = this.slides.filter(slide => {\n      if (!slide) return false\n      if (!slide.unactivateAllEditors) return false\n      if (typeof slide.unactivateAllEditors !== 'function') return false\n      return true\n    })\n  }\n\n  static getDerivedStateFromProps (props, state) {\n    const { latestSettings } = props\n    const { pLatestSettings } = state\n    const slides = latestSettings.slides || []\n    const pSlides = pLatestSettings.slides || []\n    const newState = {\n      ...state,\n      loading: props.loading\n    }\n    if (state.loading && !props.loading) {\n      if (slides.length) newState.activeSlidePos = slides.length - 1\n      else newState.activeSlidePos = undefined\n    } else if (!state.loading && !props.loading) {\n      if (slides.length > pSlides.length) newState.activeSlidePos = slides.length - 1\n    }\n    newState.pLatestSettings = props.latestSettings\n    return newState\n  }\n\n  render () {\n    const props = this.props\n    const state = this.state\n\n    /* Inner logic */\n    const activeSlidePos = state.activeSlidePos\n    const latestSettings = props.latestSettings\n    const slides = latestSettings.slides || []\n\n    /* Params for the slide display selector */\n    const activeSlide = slides[activeSlidePos] || {}\n    const activeSlideDisplay = activeSlide.display\n    const displayExists = displays.indexOf(activeSlideDisplay) + 1\n    if (this.$displayPicker) {\n      this.$displayPicker.input.value = displayExists\n        ? activeSlideDisplay\n        : 'placeholder'\n    }\n\n    /* Assign classes to component */\n    const rootClass = `libe-insta-story-wysiwyg`\n    const classes = [rootClass]\n    if (!slides.length) classes.push(`${rootClass}_no-slides`)\n\n    /* Dom for each slide of the story */\n    this.slides = []\n    const slidesDom = slides.map((slide, i) => {\n      const onClick = (i !== activeSlidePos) ? e => this.activateSlide(i) : null\n      const classes = [`${rootClass}__slide`]\n      if (i === activeSlidePos) classes.push(`${rootClass}__slide_active`)\n      return <div\n        key={i}\n        onClick={onClick}\n        className={classes.join(' ')}>\n        <SlideWysiwyg\n          slide={slide}\n          ref={node => this.slides.push(node)}\n          dispatchEdition={this.dispatchEditionInSlide(i)} />\n        <div className={`${rootClass}__side-actions`}>\n          <div className={`${rootClass}__delete-slide`}>\n            <Button\n              onClick={e => {\n                e.stopPropagation()\n                this.deleteSlide(i)\n              }}\n              icon='/images/trash-icon-24.svg' />\n          </div>\n          <div className={`${rootClass}__move-slide-left`}>\n            <Button\n              disabled={i === 0}\n              onClick={e => {\n                e.stopPropagation()\n                this.moveSlideToLeft(i)\n              }}\n              icon='/images/go-left-icon-24.svg' />\n          </div>\n          <div className={`${rootClass}__move-slide-right`}>\n            <Button\n              disabled={i === slides.length - 1}\n              onClick={e => {\n                e.stopPropagation()\n                this.moveSlideToRight(i)\n              }}\n              icon='/images/go-right-icon-24.svg' />\n          </div>\n          <div className={`${rootClass}__duplicate-slide`}>\n            <Button\n              onClick={e => {\n                e.stopPropagation()\n                this.duplicateSlide(i)\n              }}\n              icon='/images/duplicate-icon-24.svg' />\n          </div>\n        </div>\n        <div className={`${rootClass}__blocker`} />\n      </div>\n    })\n\n    /* Display */\n    return <Wrapper\n      className={classes.join(' ')}\n      ref={node => { this.$wrapper = node }}>\n      <div className={`${rootClass}__slide-controls`}>\n        <div className={`${rootClass}__slides-navigation`}>\n          <div className={[\n            `${rootClass}__turn-page`,\n            `${rootClass}__turn-page_prev`].join(' ')}>\n            <Button\n              icon='/images/back-arrow-icon.svg'\n              disabled={activeSlidePos === 0}\n              onClick={this.activatePrevSlide} />\n          </div>\n          <div className={`${rootClass}__active-page`}>\n            <BlockTitle>{\n              activeSlidePos !== undefined &&\n              activeSlidePos !== -1\n                ? `Page ${activeSlidePos + 1}`\n                : `Nouvelle Story`\n            }</BlockTitle>\n          </div>\n          <div className={[\n            `${rootClass}__turn-page`,\n            `${rootClass}__turn-page_next`].join(' ')}>\n            <Button\n              icon='/images/forward-arrow-icon.svg'\n              disabled={activeSlidePos === slides.length - 1}\n              onClick={this.activateNextSlide} />\n          </div>\n        </div>\n        <div className={`${rootClass}__slide-display`}>\n          <SelectList\n            options={displayPickerOptions}\n            ref={node => { this.$displayPicker = node }}\n            onChange={this.changeDisplayOnActiveSlide} />\n        </div>\n      </div>\n      <div className={`${rootClass}__slides`}>\n        <div\n          ref={node => { this.$spacer = node }}\n          className={`${rootClass}__slides-spacer`} />\n        {!props.loading ? slidesDom : ''}\n        <div\n          onClick={this.addNewSlide}\n          className={`${rootClass}__new-slide`}>\n          <Button link>+ Nouvelle page</Button>\n        </div>\n      </div>\n    </Wrapper>\n  }\n\n  /* * * * * * * * * * * * * * * * * * * * * * * * * * * *\n   *\n   *  Add a new slide\n   *\n   * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n  addNewSlide () {\n    const props = this.props\n    const latestSettings = props.latestSettings\n    const slides = latestSettings.slides || []\n    props.dispatchEdition('slides', [...slides, {}])\n    this.unactivateAllEditors()\n  }\n\n  /* * * * * * * * * * * * * * * * * * * * * * * * * * * *\n   *\n   *  Activate prev slide, next slide, or slide n\n   *\n   * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n  activatePrevSlide () {\n    const activeSlidePos = this.state.activeSlidePos\n    this.activateSlide(activeSlidePos - 1)\n  }\n\n  activateNextSlide () {\n    const activeSlidePos = this.state.activeSlidePos\n    this.activateSlide(activeSlidePos + 1)\n  }\n\n  activateSlide (n = null) {\n    const props = this.props\n    const { latestSettings } = props\n    const { slides } = latestSettings || []\n    if (n === null) return\n    if (n >= slides.length) return\n    if (n < -1) return\n    this.setState({ activeSlidePos: n })\n    this.unactivateAllEditors()\n    this.centerSlide(n)\n  }\n\n  /* * * * * * * * * * * * * * * * * * * * * * * * * * * *\n   *\n   *  Ensure slides are 9 * 16\n   *\n   * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n  constrainProportions () {\n    if (!this.$wrapper) return null\n    const $slidesWrapper = this.$wrapper.querySelector('.libe-insta-story-wysiwyg__slides')\n    const height = $slidesWrapper.clientHeight\n    const width = Math.floor(9 * height / 16)\n    this.$wrapper\n      .querySelectorAll('.libe-insta-story-wysiwyg__slide')\n      .forEach(slide => { slide.style.width = `${width}px` })\n    this.$wrapper\n      .querySelector('.libe-insta-story-wysiwyg__new-slide')\n      .style.width = `${width}px`\n    return { width, height }\n  }\n\n  /* * * * * * * * * * * * * * * * * * * * * * * * * * * *\n   *\n   *  Calculate spacer margin in order to center slides n\n   *\n   * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n  getOffsetForCentering (n = this.state.activeSlidePos) {\n    if (!n && n !== 0) return null\n    if (!this.$wrapper) return null\n    if (!this.$spacer) return null\n    const spacer = this.$spacer\n    const slide = n === -1\n      ? this.$wrapper.querySelector('.libe-insta-story-wysiwyg__new-slide')\n      : this.$wrapper.querySelectorAll('.libe-insta-story-wysiwyg__slide')[n]\n    if (!slide) return null\n    const spacerStyle = spacer.currentStyle || window.getComputedStyle(spacer)\n    const wrapperWidth = this.$wrapper.clientWidth\n    const spacerOffset = parseFloat(spacerStyle.marginLeft)\n    const slideWidth = slide.offsetWidth\n    const slideOffset = slide.offsetLeft - spacerOffset\n    const targetOffset = (wrapperWidth - slideWidth) / 2\n    const offsetDiff = targetOffset - slideOffset\n    return offsetDiff\n  }\n\n  /* * * * * * * * * * * * * * * * * * * * * * * * * * * *\n   *\n   *  Center slide n\n   *\n   * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n  centerSlide (n = this.state.activeSlidePos) {\n    const target = this.getOffsetForCentering(n)\n    if (target === null) return\n    this.$spacer.style.marginLeft = `${target}px`\n  }\n\n  /* * * * * * * * * * * * * * * * * * * * * * * * * * * *\n   *\n   *  Delete slide n\n   *\n   * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n  deleteSlide (n = undefined) {\n    if (n === undefined) return\n    this.unactivateAllEditors()\n    if (!window.confirm('Supprimer cette page ?')) return\n    const props = this.props\n    const state = this.state\n    const { latestSettings, dispatchEdition } = props\n    const { slides } = latestSettings\n    const { activeSlidePos } = state\n    const newSlides = [\n      ...slides.slice(0, n),\n      ...slides.slice(n + 1)\n    ]\n    dispatchEdition('slides', newSlides)\n    if (!newSlides.length) return this.activateSlide(-1)\n    if (n === 0) return this.activateSlide(0)\n    if (n === newSlides.length) return this.activateSlide(newSlides.length - 1)\n    if (activeSlidePos < n) return this.activateSlide(activeSlidePos)\n    if (activeSlidePos === n) return this.activateSlide(activeSlidePos + 1)\n    if (activeSlidePos > n) this.activateSlide(activeSlidePos - 1)\n  }\n\n  /* * * * * * * * * * * * * * * * * * * * * * * * * * * *\n   *\n   *  Move slide n to the left\n   *\n   * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n  moveSlideToLeft (n) {\n    const props = this.props\n    const { latestSettings, dispatchEdition } = props\n    const { slides } = latestSettings\n    const newSlides = [\n      ...slides.slice(0, n - 1),\n      slides[n],\n      slides[n - 1],\n      ...slides.slice(n + 1)\n    ]\n    dispatchEdition('slides', newSlides)\n    this.activateSlide(n - 1)\n  }\n\n  /* * * * * * * * * * * * * * * * * * * * * * * * * * * *\n   *\n   *  Move slide n to the right\n   *\n   * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n  moveSlideToRight (n) {\n    const props = this.props\n    const { latestSettings, dispatchEdition } = props\n    const { slides } = latestSettings\n    const newSlides = [\n      ...slides.slice(0, n),\n      slides[n + 1],\n      slides[n],\n      ...slides.slice(n + 2)\n    ]\n    dispatchEdition('slides', newSlides)\n    this.activateSlide(n + 1)\n  }\n\n  /* * * * * * * * * * * * * * * * * * * * * * * * * * * *\n   *\n   *  Duplicate slide n\n   *\n   * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n  duplicateSlide (n) {\n    const props = this.props\n    const { latestSettings, dispatchEdition } = props\n    const { slides } = latestSettings\n    const newSlides = [\n      ...slides.slice(0, n),\n      slides[n],\n      ...slides.slice(n + 1),\n      { ...slides[n] }\n    ]\n    dispatchEdition('slides', newSlides)\n  }\n\n  /* * * * * * * * * * * * * * * * * * * * * * * * * * * *\n   *\n   *  Handle changes on the display select list\n   *\n   * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n  changeDisplayOnActiveSlide (e) {\n    const { activeSlidePos } = this.state\n    const { dispatchEdition, latestSettings } = this.props\n    const { slides } = latestSettings\n    const { value } = e.target\n    const newSlide = slides[activeSlidePos]\n    newSlide.display = value\n    const newSlides = [\n      ...slides.slice(0, activeSlidePos),\n      newSlide,\n      ...slides.slice(activeSlidePos + 1)\n    ]\n    this.unactivateAllEditors()\n    return dispatchEdition('slides', newSlides)\n  }\n\n  /* * * * * * * * * * * * * * * * * * * * * * * * * * * *\n   *\n   *  Dispatch edition inside a given slide\n   *\n   * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n  dispatchEditionInSlide (n) {\n    return (key, val) => {\n      const { latestSettings, dispatchEdition } = this.props\n      const { slides } = latestSettings\n      const newSlide = slides[n]\n      newSlide[key] = val\n      const newSlides = [\n        ...slides.slice(0, n),\n        newSlide,\n        ...slides.slice(n + 1)\n      ]\n      return dispatchEdition('slides', newSlides)\n    }\n  }\n\n  /* * * * * * * * * * * * * * * * * * * * * * * * * * * *\n   *\n   *  Unactivate all editors\n   *\n   * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n  unactivateAllEditors () {\n    this.slides.forEach(\n      s => s.unactivateAllEditors()\n    )\n  }\n}\n","import styled from 'styled-components'\n\nconst r = '.libe-insta-story-settings'\n\nexport default styled.div`\ndisplay: flex;\nalign-items: center;\n\n${r}__exporting-message {\n  align-items: center;\n  img {\n    height: ${p => p.theme.units(1)};\n    margin-left: ${p => p.theme.units(2)};\n    margin-top: ${p => p.theme.units(1.1)};\n    margin-bottom: ${p => p.theme.units(0.9)};\n  }\n}\n\n/* States */\n\n${r}__exporting-message {\n  display: none;\n}\n\n&${r}_exporting {\n  ${r}__export-button { display: none; }\n  ${r}__exporting-message { display: flex; }\n}`\n","import LibeInstaStoryWysiwyg from './LibeInstaStoryWysiwyg'\nimport LibeInstaStoryActionsPanel from './LibeInstaStoryActionsPanel'\n\nexport default {\n  DisplayPanel: LibeInstaStoryWysiwyg,\n  ActionsPanel: LibeInstaStoryActionsPanel\n}\n","import React, { Component } from 'react'\nimport download from 'downloadjs'\n\nimport Button from '../../../../components/buttons/Button'\nimport Paragraph from '../../../../components/text-levels/Paragraph'\n\nimport Wrapper from './style'\n\nexport default class LibeInstaStoryActionsPanel extends Component {\n  constructor () {\n    super()\n    this.state = { exporting: false }\n    this.rootClass = 'libe-insta-story-settings'\n    this.handleClick = this.handleClick.bind(this)\n  }\n\n  render () {\n    const { props, state, handleClick } = this\n    const { unsavedSettings } = props\n\n    /* Assign classes to component */\n    const r = this.rootClass\n    const classes = [r]\n    if (state.exporting) classes.push(`${r}_exporting`)\n\n    /* Display */\n    return <Wrapper\n      className={classes.join(' ')}>\n      <div className={`${r}__export-button`}>\n        <Button\n          minor\n          primary\n          onClick={handleClick}\n          disabled={unsavedSettings\n            ? 'Enregistrez les modifications'\n            : false}>\n          Exporter\n        </Button>\n      </div>\n      <div className={`${r}__exporting-message`}>\n        <Paragraph light small>Export en cours</Paragraph>\n        <img src='/images/loader.gif' alt='Loader' />\n      </div>\n    </Wrapper>\n  }\n\n  handleClick (e) {\n    const { props: {\n      id, pushNotification\n    } } = this\n    this.setState({ exporting: true })\n    return fetch(`/api/build/${id}`)\n      .then(r => r.json())\n      .then(json => {\n        if (json.err) throw new Error(json.err)\n        else {\n          fetch(json.data)\n            .then(r => r.blob())\n            .then(blob => download(blob, 'story.zip'))\n            .catch(e => console.log(e))\n        }\n      })\n      .catch(e => pushNotification(\n        `Une erreur est survenue lors de l'export. Le serveur a rpondu : ${e.message}`,\n        'error'\n      ))\n      .finally(() => this.setState({ exporting: false }))\n  }\n}\n","import libeInstagramStory from '../containers/tools-editors/libe-instagram-story'\n// import yellowWord from '../containers/tools-editors/yellow-word'\n\nexport const list = [\n  {\n    name: 'Stories Instagram',\n    type: 'libe-instagram-story',\n    description: 'ditez simplement des images  la charte et au format Instagram.',\n    image: '/images/libe-instagram-story-thumb.png',\n    display: libeInstagramStory.DisplayPanel,\n    settings: libeInstagramStory.SettingsPanel,\n    actions: libeInstagramStory.ActionsPanel,\n    savedActions: libeInstagramStory.SavedActionsPanel\n  }/*, {\n    name: 'Yellow word',\n    type: 'yellow-word',\n    description: 'Ce module vous permet d\\'diter de jolis mots jaunes.',\n    image: '/images/yellow-word-thumb.png',\n    display: yellowWord.DisplayPanel,\n    settings: yellowWord.SettingsPanel,\n    actions: yellowWord.ActionsPanel\n  }, {\n    name: 'Lib box',\n    type: 'libe-box',\n    description: 'Lorem ipsum dolor sit amet consectutor.',\n    image: '/images/libe-box-thumb.png'\n  } */\n]\n","import { connect } from 'react-redux'\nimport { state2props, dispatch2props } from './connected'\n\nimport React, { Component } from 'react'\nimport Header from '../../blocks/Header'\nimport NotificationsPanel from '../../blocks/NotificationsPanel'\nimport LibeToolThumb from '../../blocks/LibeToolThumb'\nimport LibeBundleThumb from '../../blocks/LibeBundleThumb'\nimport Paragraph from '../../../components/text-levels/Paragraph'\nimport Button from '../../../components/buttons/Button'\nimport SearchField from '../../../components/inputs/SearchField'\nimport Wrapper from './style'\n\nimport { list as toolsList } from '../../../utils/tools'\nimport { getBundleSlug, getBundleCurrentSettings } from '../../../utils/bundles'\n\nclass HomePage extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      bundles: props.bundles,\n      filteredBundles: props.bundles.list,\n      filters: {\n        tools: null,\n        bundles: null\n      },\n      lastFilterUpdate: {\n        tools: 0,\n        bundles: 0\n      },\n      shouldApplyFilters: {\n        tools: true,\n        bundles: true\n      }\n    }\n    this.filterDelay = 100\n    this.tryFilterBundles = this.tryFilterBundles.bind(this)\n    this.filterBundles = this.filterBundles.bind(this)\n\n    props.getBundles().then(res => {\n      this.filterBundles()\n    })\n  }\n\n  componentDidMount () {\n    this.node.addEventListener(\n      'filterBundles',\n      this.filterBundles\n    )\n  }\n\n  static getDerivedStateFromProps (props, state) {\n    const nBundles = props.bundles\n    const nFilters = {\n      tools: state.filters.tools,\n      bundles: state.filters.bundles\n    }\n    const nLastFilterUpdate = {\n      tools: state.lastFilterUpdate.tools,\n      bundles: state.lastFilterUpdate.bundles\n    }\n    const nShouldApplyFilters = {\n      tools: state.shouldApplyFilters.tools,\n      bundles: state.shouldApplyFilters.bundles\n    }\n    if (props.bundles.list.length !== state.bundles.list.length) {\n      nShouldApplyFilters.bundles = true\n    }\n    if (props.filters.tools !== state.filters.tools) {\n      nFilters.tools = props.filters.tools\n      nLastFilterUpdate.tools = Date.now()\n      nShouldApplyFilters.tools = true\n    }\n    if (props.filters.bundles !== state.filters.bundles) {\n      nFilters.bundles = props.filters.bundles\n      nLastFilterUpdate.bundles = Date.now()\n      nShouldApplyFilters.bundles = true\n    }\n    return {\n      ...state,\n      bundles: nBundles,\n      filters: nFilters,\n      lastFilterUpdate: nLastFilterUpdate,\n      shouldApplyFilters: nShouldApplyFilters\n    }\n  }\n\n  componentDidUpdate () {\n    setTimeout(\n      this.tryFilterBundles,\n      this.filterDelay\n    )\n  }\n\n  componentWillUnount () {\n    this.node.removeEventListener(\n      'filterBundles',\n      this.filterBundles\n    )\n  }\n\n  tryFilterBundles () {\n    const state = this.state\n    const timeSinceLastUpdate = Date.now() - state.lastFilterUpdate.bundles\n    const shouldApply = state.shouldApplyFilters.bundles\n    if (timeSinceLastUpdate > this.filterDelay && shouldApply) {\n      if (this.node) {\n        this.node.dispatchEvent(\n          new CustomEvent(\n            'filterBundles', {\n              detail: {\n                message: 'Time to filter bundles!',\n                time: new Date()\n              },\n              bubbles: true,\n              cancelable: true\n            }\n          )\n        )\n      }\n    }\n  }\n\n  filterBundles () {\n    const state = this.state\n    const bundles = state.bundles\n    const filter = state.filters.bundles\n    const filteredBundles = bundles.list.filter(bundle => {\n      const slug = getBundleSlug(bundle)\n      const splFilters = filter.split(' ')\n      const doesBundleMatch = splFilters.every(word => slug.match(word))\n      return doesBundleMatch ? bundle : null\n    })\n    const sortedBundles = filteredBundles.sort((a, b) => {\n      const latestEditA = getBundleCurrentSettings(a).timestamp || a.created_on\n      const latestEditB = getBundleCurrentSettings(b).timestamp || b.created_on\n      return latestEditB - latestEditA\n    })\n    this.setState({\n      filteredBundles: sortedBundles,\n      shouldApplyFilters: {\n        ...state.shouldApplyFilters,\n        bundles: false\n      }\n    })\n  }\n\n  render () {\n    const props = this.props\n    const state = this.state\n    const bundles = state.bundles\n    const filteredBundles = state.filteredBundles\n    const shouldApplyBundlesFilter = state.shouldApplyFilters.bundles\n\n    /* Tools list */\n    const toolsDom = toolsList.map((tool, i) => {\n      return <LibeToolThumb\n        key={i}\n        name={tool.name}\n        type={tool.type}\n        image={tool.image}\n        description={tool.description} />\n    })\n\n    /* Bundles list */\n    // [WIP] Some pagination here ?\n    const bundlesDom = filteredBundles.map((bundle, i) => {\n      const settings = getBundleCurrentSettings(bundle)\n      return <LibeBundleThumb\n        key={i}\n        type={bundle.type}\n        bundleId={bundle._id}\n        created={bundle.created_on}\n        updated={settings.timestamp || null}\n        author={settings.author || '<sans-nom>'}\n        image={`/images/${bundle.type}-small.png`}\n        title={settings.name || '<sans-titre>'} />\n    })\n\n    /* Assign classes to component */\n    const classes = ['home-page']\n    if (bundles.error) classes.push('home-page_bundles-error')\n    if (bundles.isCreating) classes.push('home-page_create-bundle-fetching')\n    if (bundles.isFetching) classes.push('home-page_bundles-fetching')\n    if (shouldApplyBundlesFilter) classes.push('home-page_bundles-filtering')\n    if (!bundles.list.length) classes.push('home-page_bundles-empty')\n    else if (!bundlesDom.length) classes.push('home-page_bundles-empty-search')\n\n    /* Display */\n    return <Wrapper\n      className={classes.join(' ')}\n      ref={node => { this.node = node }}>\n      <div className='home-page__header'><Header /></div>\n      <div className='home-page__content'>\n        <div className='home-page__notifications'><NotificationsPanel /></div>\n        <div className='home-page__tools-panel'>\n          <div className='searchable-list'>\n            <div className='home-page__tools-search'>\n              <SearchField\n                placeholder='Rechercher un outil'\n                defaultValue={props.filters.tools}\n                onChange={e => { props.setToolsFilter(e.target.value) }}\n                onBlur={e => { props.setToolsFilter(e.target.value) }} />\n            </div>\n            <div className='home-page__tools-list'>\n              <div className='home-page__tools-list-slider'>\n                {toolsDom}\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className='home-page__bundles-panel'>\n          <div className='searchable-list'>\n            <div className='home-page__bundles-search'>\n              <SearchField\n                placeholder='Rechercher un module'\n                defaultValue={props.filters.bundles}\n                onChange={e => { props.setBundlesFilter(e.target.value) }}\n                onBlur={e => { props.setBundlesFilter(e.target.value) }} />\n            </div>\n            <div className='home-page__bundles-loader'><img alt='Loader' src='/images/loader.gif' /></div>\n            <div className='home-page__bundles-empty'><Paragraph light italic>Aucun module n'a encore t cr !</Paragraph></div>\n            <div className='home-page__bundles-empty-search'>\n              <Paragraph light italic>La recherche n'a retourn aucun rsultat.</Paragraph>\n              <Button minor link onClick={e => { props.setBundlesFilter('') }}>Remettre  zero ?</Button>\n            </div>\n            <div className='home-page__bundles-error'>\n              <Paragraph error>Une erreur est survenue lors du chargement des modules:</Paragraph>\n              <Paragraph italic light>{bundles.error || 'Erreur inconnue. Prenez une tisane.'}</Paragraph>\n              <Button minor link onClick={props.getBundles}>Essayer  nouveau ?</Button>\n            </div>\n            <div className='home-page__bundles-list'>\n              <div className='home-page__bundles-list-slider'>\n                {bundlesDom}\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className='home-page__create-bundle-loader'>\n          <img src='/images/loader.gif' alt='Loader' />\n        </div>\n      </div>\n    </Wrapper>\n  }\n}\n\nexport default connect(\n  state2props,\n  dispatch2props\n)(HomePage)\n","import {\n  fetchBundlesRequest,\n  fetchBundlesSuccess,\n  fetchBundlesError,\n  setToolsFilter,\n  setBundlesFilter,\n  pushNotification\n} from '../../../actions/actionCreators'\n\nexport const state2props = state => ({\n  bundles: state.bundles,\n  filters: state.filters,\n  bundleCreation: state.bundleCreation\n})\n\nexport const dispatch2props = dispatch => ({\n  getBundles: () => new Promise((resolve, reject) => {\n    dispatch(fetchBundlesRequest())\n    fetch('/api/get-all-bundles').then(r => {\n      if (r.ok) return r.json()\n      throw new Error(`Error ${r.status}: ${r.statusText}`)\n    }).then(res => {\n      if (!res.err) {\n        dispatch(fetchBundlesSuccess(res.data))\n        resolve(res.data)\n      } else {\n        dispatch(fetchBundlesError(res.err))\n        const notif = `Une erreur est survenue lors du chargement des modules. Le serveur a rpondu : ${res.err}`\n        dispatch(pushNotification(notif, 'error'))\n        reject(res.err)\n      }\n    }).catch(err => {\n      dispatch(fetchBundlesError(err.message))\n      const notif = `Une erreur est survenue lors du chargement des modules. Le serveur a rpondu : ${err.message}`\n      dispatch(pushNotification(notif, 'error'))\n      reject(err.message)\n    })\n  }),\n  setToolsFilter: val => {\n    dispatch(setToolsFilter(val))\n  },\n  setBundlesFilter: val => {\n    dispatch(setBundlesFilter(val))\n  }\n})\n","import styled from 'styled-components'\nimport hexToRgba from 'hex-to-rgba'\n\nconst Wrapper = styled.div`\n\n/* ---------- STYLES ---------- */\n\ndisplay: grid;\nmin-height: 100vh;\nmax-height: 100vh;\ngrid-template-rows: auto 1fr auto;\n\n.bundle-page__header {\n  grid-row: 1;\n  z-index: 3;\n}\n\n.bundle-page__content {\n  display: flex;\n  position: relative;\n  grid-row: 2;\n  z-index: 1;\n  overflow: hidden;\n}\n\n.bundle-page__status-bar {\n  grid-row: 3;\n  z-index: 2;\n}\n\n.bundle-page__notifications {\n  position: absolute;\n  z-index: 3;\n  bottom: ${p => p.theme.units(2)};\n  right: ${p => p.theme.units(2)};\n  width: calc(100% - ${p => p.theme.units(4)});\n  max-width: ${p => p.theme.units(40)};\n}\n\n.bundle-page__bundle-preview-box {\n  z-index: 1;\n  width: calc(100% - 300px);\n  height: 100%;\n  overflow: hidden;\n  background-color: ${p => p.theme.colors.baseBg};\n  background-image: url('/images/tiled-transparency-background.png');\n}\n\n.bundle-page__bundle-settings-box {\n  z-index: 2;\n  width: 300px;\n  overflow-y: scroll;\n  overflow-scrolling: touch;\n}\n\n.bundle-page__fetching-bundle-loader {\n  z-index: 10;\n  position: absolute;\n  justify-content: center;\n  align-items: center;\n  background: ${p => hexToRgba(p.theme.colors.baseBg, 0.8)};\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n\n.bundle-page__fetching-bundle-loader img {\n  height: ${p => p.theme.units(1)};\n}\n\n.bundle-page__bundle-display {\n  height: 100%;\n  box-shadow: ${p => p.theme.shadows.small};\n}\n\n.bundle-page__bundle-settings-box-slider {\n  width: 100%;\n  min-height: 100%;\n  padding: ${p => p.theme.units(2)};\n  background: ${p => p.theme._shade().colors.baseBg};\n  border-left:\n    ${p => p.theme._shade().colors.baseBorder}\n    ${p => p.theme.units(0.25)}\n    solid;\n}\n\n.bundle-page__bundle-preview-box::-webkit-scrollbar,\n.bundle-page__bundle-settings-box::-webkit-scrollbar {\n  display: none;\n}\n\n.bundle-page__bundle-general-settings {\n  margin-bottom: ${p => p.theme.units(5)};\n}\n\n.bundle-page__bundle-general-settings > ul,\n.bundle-page__bundle-custom-settings > ul {\n  list-style: none;\n  padding: 0;\n}\n\n.bundle-page__bundle-general-settings > ul > li,\n.bundle-page__bundle-custom-settings > ul > li {\n  margin-bottom: ${p => p.theme.units(3)};\n}\n\n.bundle-page__bundle-general-settings > *:last-child,\n.bundle-page__bundle-custom-settings > *:last-child {\n  margin-bottom: unset;\n}\n\n.bundle-page__actions {\n  display: flex;\n  width: 100%;\n  align-items: center;\n  justify-content: flex-end;\n  height: ${p => p.theme.units(6)};\n}\n\n.bundle-page__actions > * {\n  margin-left: ${p => p.theme.units(4)};\n}\n\n.bundle-page__actions > *:first-child {\n  margin-left: 0;\n  margin-right: auto;\n}\n\n.bundle-page__saved-paragraph {\n  text-align: right;\n}\n\n/* ---------- STATES ---------- */\n\n.bundle-page__fetching-bundle-loader {\n  display: none;\n}\n\n.bundle-page__bundle-display {\n  display: none;\n}\n\n.bundle-page__no-bundle-display {\n  display: block;\n}\n\n.bundle-page__bundle-custom-settings {\n  display: none;\n}\n\n.bundle-page__save-button {\n  display: none;\n}\n\n.bundle-page__saving-paragraph {\n  display: none;\n}\n\n&.bundle-page_fetching-bundle {\n  .bundle-page__fetching-bundle-loader {\n    display: flex;\n  }\n}\n\n&.bundle-page_unsaved-bundle {\n  .bundle-page__saved-paragraph {\n    display: none;\n  }\n  .bundle-page__save-button {\n    display: block;\n  }\n}\n\n&.bundle-page_with-custom-settings {\n  .bundle-page__bundle-custom-settings {\n    display: block;\n  }\n}\n\n&.bundle-page_with-display {\n  .bundle-page__bundle-display {\n    display: block;\n  }\n\n  .bundle-page__no-bundle-display {\n    display: none;\n  }\n}\n\n&.bundle-page_saving {\n  .bundle-page__custom-actions {\n    display: none;\n  }\n  .bundle-page__saved-paragraph {\n    display: none;\n  }\n  .bundle-page__saving-paragraph {\n    display: block;\n  }\n}`\n\nexport default Wrapper\n","import { connect } from 'react-redux'\nimport { state2props, dispatch2props } from './connected'\n\nimport React, { Component } from 'react'\nimport moment from 'moment'\nimport Header from '../../blocks/Header'\nimport NotificationsPanel from '../../blocks/NotificationsPanel'\nimport ShadowBar from '../../../components/boxes/ShadowBar'\nimport BlockTitle from '../../../components/text-levels/BlockTitle'\nimport Paragraph from '../../../components/text-levels/Paragraph'\nimport TextInput from '../../../components/inputs/TextInput'\nimport Button from '../../../components/buttons/Button'\nimport { ThemeProvider } from 'styled-components'\nimport theme from '../../../theme'\nimport Wrapper from './style'\n\nimport { getBundleCurrentSettings, getBundleLastSaveDate } from '../../../utils/bundles'\n\nclass BundlePage extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      loading: true,\n      bundle: undefined\n    }\n    this.settingsComponents = {}\n    this.populateFields = this.populateFields.bind(this)\n    this.getSettingsVersions = this.getSettingsVersions.bind(this)\n    props.getSavedBundle().finally(() => {\n      if (this.node) this.setState({ loading: false })\n    })\n  }\n\n  componentDidUpdate () {\n    const props = this.props\n    const state = this.state\n    const expectedType = props.match.params.type\n    const actualType = props.bundle.type\n    const typesDiffer = actualType !== expectedType\n    if (!state.loading && typesDiffer) return props.goHome()\n    this.populateFields()\n  }\n\n  populateFields () {\n    const { latestSettings } = this.getSettingsVersions()\n    const { name, author } = this.settingsComponents\n    const makeString = val => {\n      if (val === undefined) return ''\n      return val\n    }\n    name.input.value = makeString(latestSettings.name)\n    author.input.value = makeString(latestSettings.author)\n  }\n\n  getSettingsVersions () {\n    const props = this.props\n    const storedBundle = props.bundle\n    const storedSettings = getBundleCurrentSettings(storedBundle)\n    const storedSettingsHistory = storedBundle.settings_history || []\n    const unsavedSettings = props.changes\n      ? Object.assign({}, storedSettings, { ...props.changes })\n      : undefined\n    if (unsavedSettings) {\n      delete unsavedSettings._id\n      unsavedSettings.timestamp = moment().valueOf()\n    }\n    const unsavedBundle = props.changes\n      ? {\n        ...storedBundle,\n        settings_history: [...storedSettingsHistory, unsavedSettings]\n      }\n      : undefined\n    const latestSettings = unsavedSettings || storedSettings\n    const latestBundle = unsavedBundle || storedBundle\n    const isSaving = unsavedSettings && unsavedSettings._saving\n    return {\n      storedBundle,\n      storedSettings,\n      unsavedBundle,\n      unsavedSettings,\n      latestBundle,\n      latestSettings,\n      isSaving\n    }\n  }\n\n  render () {\n    const props = this.props\n    const state = this.state\n\n    /* Inner logic */\n    const {\n      storedBundle,\n      storedSettings,\n      unsavedSettings,\n      latestSettings,\n      isSaving\n    } = this.getSettingsVersions()\n    const lastSaveMillis = getBundleLastSaveDate(storedBundle)\n    const lastSavedOn = moment(lastSaveMillis, 'x').format('DD MMM YYYY  HH:mm:ss')\n    const lastSavedAgo = moment(lastSaveMillis, 'x').fromNow()\n    const loading = state.loading\n    const BundleDisplayer = props.tool.display || (props => <div />)\n    const BundleCustomSettings = props.tool.settings || (props => <div />)\n    const BundleActions = props.tool.actions || (props => <div />)\n    const isSaved = (props => {\n      if (!storedBundle._id) return false\n      if (loading) return false\n      if (isSaving) return false\n      if (unsavedSettings) return false\n      return true\n    })(props)\n\n    /* Assign classes to component */\n    const classes = ['bundle-page']\n    if (state.loading) classes.push('bundle-page_fetching-bundle')\n    if (props.changes) classes.push('bundle-page_unsaved-bundle')\n    if (props.tool.display) classes.push('bundle-page_with-display')\n    if (props.tool.settings) classes.push('bundle-page_with-custom-settings')\n    if (isSaving) classes.push('bundle-page_saving')\n    if (isSaved) classes.push('bundle-page_saved')\n\n    /* Display */\n    return <Wrapper ref={node => { this.node = node }} className={classes.join(' ')}>\n      <div className='bundle-page__header'><Header /></div>\n      <div className='bundle-page__content'>\n        <div className='bundle-page__notifications'><NotificationsPanel /></div>\n        <div className='bundle-page__bundle-preview-box'>\n          <div className='bundle-page__bundle-display'>\n            <BundleDisplayer\n              id={storedBundle._id}\n              isSaving={isSaving}\n              loading={loading}\n              storedSettings={storedSettings}\n              unsavedSettings={unsavedSettings}\n              latestSettings={latestSettings}\n              dispatchEdition={props.dispatchEdition}\n              pushNotification={props.pushNotification} />\n          </div>\n          <div className='bundle-page__no-bundle-display'>\n            <Paragraph italic light>Aucune prvisualisation du module disponible.</Paragraph>\n          </div>\n        </div>\n        <ThemeProvider theme={theme._shade}>\n          <div className='bundle-page__bundle-settings-box'>\n            <div className='bundle-page__bundle-settings-box-slider'>\n              <div className='bundle-page__bundle-general-settings'>\n                <BlockTitle level={2}>Paramtres gnraux</BlockTitle>\n                <ul>\n                  <li>\n                    <TextInput\n                      label='Titre'\n                      placeholder='Donnez un titre  ce module'\n                      defaultValue={latestSettings.name}\n                      onChange={e => props.dispatchEdition('name', e.target.value)}\n                      ref={node => { this.settingsComponents.name = node }} />\n                  </li>\n                  <li>\n                    <TextInput\n                      label='Auteur'\n                      placeholder='Votre nom'\n                      defaultValue={latestSettings.author}\n                      onChange={e => props.dispatchEdition('author', e.target.value)}\n                      ref={node => { this.settingsComponents.author = node }} />\n                  </li>\n                </ul>\n              </div>\n              <div className='bundle-page__bundle-custom-settings'>\n                <BlockTitle level={2}>Paramtres du module</BlockTitle>\n                <BundleCustomSettings\n                  id={storedBundle._id}\n                  isSaving={isSaving}\n                  loading={loading}\n                  storedSettings={storedSettings}\n                  unsavedSettings={unsavedSettings}\n                  latestSettings={latestSettings}\n                  dispatchEdition={props.dispatchEdition}\n                  pushNotification={props.pushNotification} />\n              </div>\n            </div>\n          </div>\n        </ThemeProvider>\n        <div className='bundle-page__fetching-bundle-loader'>\n          <img src='/images/loader.gif' alt='Loader' />\n        </div>\n      </div>\n      <div className='bundle-page__status-bar'>\n        <ShadowBar>\n          <div className='bundle-page__actions'>\n            <Button link minor onClick={props.goHome}> Retour</Button>\n            <div className='bundle-page__custom-actions'>\n              <BundleActions\n                id={storedBundle._id}\n                isSaving={isSaving}\n                loading={loading}\n                storedSettings={storedSettings}\n                unsavedSettings={unsavedSettings}\n                latestSettings={latestSettings}\n                dispatchEdition={props.dispatchEdition}\n                pushNotification={props.pushNotification} />\n            </div>\n            <div className='bundle-page__saved-paragraph'>\n              <Paragraph light small>\n                Module sauvegard<br />\n                (<span title={lastSavedOn}>{lastSavedAgo}</span>)\n              </Paragraph>\n            </div>\n            <div className='bundle-page__saving-paragraph'>\n              <Paragraph light italic small>\n                Enregistrement...\n              </Paragraph>\n            </div>\n            <div className='bundle-page__save-button'>\n              <Button\n                primary\n                disabled={isSaving}\n                onClick={e => props.saveChanges(unsavedSettings)}>\n                Enregistrer\n              </Button>\n            </div>\n          </div>\n        </ShadowBar>\n      </div>\n    </Wrapper>\n  }\n}\n\nexport default connect(\n  state2props,\n  dispatch2props\n)(BundlePage)\n","import { push } from 'react-router-redux'\nimport {\n  fetchBundleRequest,\n  fetchBundleSuccess,\n  fetchBundleError,\n  saveBundleRequest,\n  saveBundleSuccess,\n  saveBundleError,\n  editBundle,\n  pushNotification\n} from '../../../actions/actionCreators'\n\nimport { list as toolsList } from '../../../utils/tools'\nimport { bundleTemplate } from '../../../utils/bundles'\n\nexport const state2props = (state, props) => {\n  const id = props.match.params.id\n  const type = props.match.params.type\n  return {\n    tool: toolsList.filter(tool => tool.type === type)[0] || {},\n    bundle: state.bundles.list.filter(bundle => bundle._id === id)[0] || { ...bundleTemplate },\n    changes: state.bundles.changes.filter(bundleEdit => bundleEdit._id === id)[0]\n  }\n}\n\nexport const dispatch2props = (dispatch, props) => {\n  const id = props.match.params.id\n  return {\n    goHome: e => dispatch(push('/')),\n    dispatchEdition: (key, val) => dispatch(editBundle(id, key, val)),\n    getSavedBundle: () => new Promise((resolve, reject) => {\n      dispatch(fetchBundleRequest(id))\n      fetch(`/api/get-bundle/${id}`).then(r => {\n        if (r.ok) return r.json()\n        throw new Error(`Error ${r.status}: ${r.statusText}`)\n      }).then(res => {\n        if (!res.err) {\n          dispatch(fetchBundleSuccess(res.data))\n          resolve(res.data)\n        } else {\n          dispatch(fetchBundleError(res.err))\n          const notif = `Une erreur est survenue lors du chargement de ce module. Le serveur a rpondu : ${res.err}`\n          dispatch(pushNotification(notif, 'error'))\n          dispatch(push('/'))\n          reject(res.err)\n        }\n      }).catch(err => {\n        dispatch(fetchBundleError(err.message))\n        const notif = `Une erreur est survenue lors du chargement de ce module. Le serveur a rpondu : ${err.message}`\n        dispatch(pushNotification(notif, 'error'))\n        dispatch(push('/'))\n        reject(err.message)\n      })\n    }),\n    saveChanges: newSettings => new Promise((resolve, reject) => {\n      if (!newSettings) return reject(new Error('No changes to save'))\n      dispatch(saveBundleRequest(id))\n      fetch(`/api/save-bundle/${id}`, {\n        method: 'PUT',\n        body: JSON.stringify(newSettings),\n        headers: { 'Content-Type': 'application/json; charset=utf-8' }\n      }).then(r => {\n        if (r.ok) return r.json()\n        throw new Error(`Error ${r.status}: ${r.statusText}`)\n      }).then(res => {\n        if (!res.err) {\n          dispatch(saveBundleSuccess(res.data))\n          dispatch(pushNotification('Module sauvegard !'))\n          resolve(res.data)\n        } else {\n          dispatch(saveBundleError(id))\n          const notif = `Une erreur est survenue lors de la sauvegarde de ce module. Le serveur a rpondu : ${res.err}`\n          dispatch(pushNotification(notif, 'error'))\n          reject(res.err)\n        }\n      }).catch(err => {\n        dispatch(saveBundleError(id))\n        const notif = `Une erreur est survenue lors de la sauvegarde de ce module. Le serveur a rpondu : ${err.message}`\n        dispatch(pushNotification(notif, 'error'))\n        reject(err.message)\n      })\n    }),\n    pushNotification: (text, level) => {\n      if (!text) throw new Error('Cannot push a notification without text (@ BundlePage/connected.js)')\n      dispatch(pushNotification(text, level))\n    }\n  }\n}\n","import styled from 'styled-components'\n\nconst Wrapper = styled.div`\n\n/* ---------- STYLES ---------- */\n\n/* Fake input */\n.file-input__input {\n  display: flex;\n  align-items: center;\n  flex-direction: row;\n  width: 100%;\n\n  .file-input__fake-input {\n    position: relative;\n    width: 100%;\n    height: ${p => p.theme.units(5)};\n    border-style: solid;\n    border-width: ${p => p.theme.units(0.25)};\n    border-color: ${p => p.theme.colors.baseBorder};\n    border-radius: ${p => p.theme.units(2.5)};\n    padding:\n      ${p => p.theme.units(1)}\n      ${p => p.theme.units(2)};\n    /* Compensation of border\n     * thickness in padding */\n    padding-top: ${p => p.theme.units(1 - 0.25)};\n    overflow: hidden;\n    cursor: pointer;\n  }\n\n  .file-input__filename {\n    max-width: calc(100% - ${p => p.theme.units(1)});\n  }\n\n  .file-input__filename p.paragraph {\n    width: 100%;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap; \n  }\n\n  .file-input__cancel-file-select,\n  .file-input__upload-file,\n  .file-input__upload-loader {\n    flex-grow: 0;\n    flex-shrink: 0;\n    margin-left: ${p => p.theme.units(1)};\n  }\n\n  .file-input__upload-loader img {\n    height: ${p => p.theme.units(1)};\n  }\n\n  input {\n    display: none;\n  }\n}\n\n/* Image source displayer */\n.file-input__image-source {\n  position: relative;\n  display: flex;\n  border-radius: ${p => p.theme.units(1)};\n  background: ${p => p.theme._invert().colors.baseBg};\n  cursor: pointer;\n\n  .image {\n    transition: opacity ${p => p.theme.transitions.quick};\n    max-height: ${p => p.theme.units(40)};\n  }\n\n  &:hover .image {\n    opacity: 0.4;\n  }\n\n  .file-input__image-source-infos-and-actions {\n    display: none;\n    opacity: 0;\n    transition: opacity ${p => p.theme.transitions.quick};\n    justify-content: space-between;\n    flex-wrap: wrap;\n    position: absolute;\n    bottom: ${p => p.theme.units(2)};\n    left: ${p => p.theme.units(2)};\n    right: ${p => p.theme.units(2)};\n    overflow: hidden;\n  }\n\n  &:hover .file-input__image-source-infos-and-actions {\n    display: flex;\n    opacity: 1;\n  }\n\n  .file-input__sourcesize .paragraph,\n  .file-input__sourcetype .paragraph {\n    color: ${p => p.theme._invert().colors.baseLightText};\n  }\n\n  .file-input__sourcename .paragraph {\n    color: ${p => p.theme._invert().colors.baseText};\n  }\n}\n\n/* Non image source displayer */\n.file-input__other-source {\n  cursor: pointer;\n\n  .shadow-box {\n    display: flex;\n    justify-content: space-between;\n    flex-wrap: wrap;\n    overflow: hidden;\n  }\n}\n\n.file-input__sourcesize,\n.file-input__sourcetype {\n  display: inline-block;\n}\n\n.file-input__image-source-infos,\n.file-input__other-source-infos {\n  flex-grow: 0;\n  flex-shrink: 0;\n  width: 100%;\n  margin-bottom: ${p => p.theme.units(2)};\n}\n\n/* ---------- COMPONENT STATES ---------- */\n\n/* Default */\n.file-input__label,\n.file-input__filename,\n.file-input__filename-upload-prefix,\n.file-input__image-source,\n.file-input__other-source,\n.file-input__cancel-file-select,\n.file-input__upload-file,\n.file-input__upload-loader {\n  display: none;\n}\n\n/* With label */\n&.file-input_with-label {\n  .file-input__label { display: block; }\n}\n\n/* With source file of image type */\n&.file-input_with-image-source {\n  .file-input__input { display: none; }\n  .file-input__image-source { display: block; }\n}\n\n/* With source file of any other type */\n&.file-input_with-other-source {\n  .file-input__input { display: none; }\n  .file-input__other-source { display: flex; }\n}\n\n/* With a file selected in the input */\n&.file-input_with-file {\n  .file-input__input { display: flex; }\n  .file-input__filename,\n  .file-input__cancel-file-select,\n  .file-input__upload-file { display: block; }\n  .file-input__filename-placeholder,\n  .file-input__image-source,\n  .file-input__other-source { display: none; }\n}\n\n/* Uploading a file */\n&.file-input_uploading {\n  .file-input__input { display: flex; }\n  .file-input__filename,\n  .file-input__filename-upload-prefix { display: inline-block; }\n  .file-input__upload-loader { display: block; }\n  .file-input__filename-placeholder,\n  .file-input__image-source,\n  .file-input__other-source { display: none; }\n}`\n\nexport default Wrapper\n","import React, { Component } from 'react'\nimport InputLabel from '../../text-levels/InputLabel'\nimport P from '../../text-levels/Paragraph'\nimport Button from '../../buttons/Button'\nimport Image from '../../images/Image'\nimport ShadowBox from '../../boxes/ShadowBox'\nimport Wrapper from './style'\n\n/*\n *   Input file component\n *   ------------------------------------------------------\n *\n *   DESCRIPTION\n *   This component is a fake input type=file component,\n *   able to display a file if the component has a distant\n *   source file, and an uploader button in order to update\n *   the source file\n *\n *   PROPS\n *   src, uploading, onSubmit, label, placeholder\n *\n */\n\nexport default class FileInput extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      file: null,\n      source: {\n        size: null,\n        type: null\n      }\n    }\n    if (props.src) {\n      fetch(props.src, {\n        method: 'GET',\n        mode: 'cors'\n      }).then(r => r.ok ? r.blob() : null)\n        .then(res => {\n          this.setState({\n            source: {\n              size: res.size,\n              type: res.type\n            }\n          })\n        })\n    }\n  }\n\n  render () {\n    const props = this.props\n    const state = this.state\n\n    /* Assign classes to component */\n    let classes = 'file-input'\n    if (props.label) classes += ' file-input_with-label'\n    if (props.uploading) classes += ' file-input_uploading'\n    if (state.file) classes += ' file-input_with-file'\n    if (props.src) classes += ' file-input_with-source'\n    const isImg = (src = '') => src\n      .split('.')\n      .slice(-1)[0]\n      .match(/^(jpg)|(jpeg)|(gif)|(bmp)|(svg)$/igm)\n    if (props.src && isImg(props.src)) classes += ' file-input_with-image-source'\n    if (props.src && !isImg(props.src)) classes += ' file-input_with-other-source'\n\n    /* Interactions */\n    const showFilesExplorer = e => {\n      e.stopPropagation()\n      this.input.click()\n    }\n    const handleFileChange = e => {\n      this.setState({\n        file: this.input.files[0] || null\n      })\n    }\n    const downloadSource = e => {\n      e.stopPropagation()\n      window.open(props.src, '_blank')\n    }\n    const uploadFile = e => {\n      if (props.onSubmit) {\n        props.onSubmit(e, state.file)\n      }\n    }\n    const emptyFile = e => {\n      this.input.value = null\n      this.setState({ file: null })\n    }\n\n    /* Inner logic */\n    const getSourceName = (src = '') => src.split('/').slice(-1)[0]\n    const readableFileSize = size => {\n      if (!size && size !== 0) return 'no-size'\n      let res = size\n      let units = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB']\n      let unitSelector = 0\n      while (res > 1023 && unitSelector < units.length - 1) {\n        res = res / 1024\n        unitSelector++\n      }\n      res = Math.floor(res * 100) / 100\n      return `${res} ${units[unitSelector]}`\n    }\n\n    /* Display */\n    return <Wrapper className={classes}>\n      <div className='file-input__label'><InputLabel>{props.label}</InputLabel></div>\n      <div className='file-input__input'>\n        <div className='file-input__fake-input' onClick={showFilesExplorer}>\n          <div className='file-input__filename-placeholder'><P light>{props.placeholder || 'Choisir un fichier'}</P></div>\n          <div className='file-input__filename-upload-prefix'><P light>Uploading...</P></div>\n          <div className='file-input__filename'><P>{state.file ? state.file.name : null}</P></div>\n        </div>\n        <div className='file-input__cancel-file-select'><Button minor onClick={emptyFile}>x</Button></div>\n        <div className='file-input__upload-file' onClick={uploadFile}><Button></Button></div>\n        <div className='file-input__upload-loader'><img alt='Loader' src='/images/loader.gif' /></div>\n        <div className='file-input__real-input'><input type='file' onChange={handleFileChange} ref={n => { this.input = n }} /></div>\n      </div>\n      <div className='file-input__image-source' onClick={showFilesExplorer}>\n        <div className='file-input__image'><Image contain src={props.src} /></div>\n        <div className='file-input__image-source-infos-and-actions'>\n          <div className='file-input__image-source-infos'>\n            <div className='file-input__sourcesize'><P light small>{readableFileSize(state.source.size)}  </P></div>\n            <div className='file-input__sourcetype'><P light small>{state.source.type || 'no-type'}</P></div>\n            <div className='file-input__sourcename'><P>{getSourceName(props.src)}</P></div>\n          </div>\n          <div className='file-input__download-image-source'><Button minor onClick={downloadSource}>Tlcharger</Button></div>\n          <div className='file-input__edit-image-source'><Button onClick={showFilesExplorer}>Modifier</Button></div>\n        </div>\n      </div>\n      <div className='file-input__other-source' onClick={showFilesExplorer}>\n        <ShadowBox>\n          <div className='file-input__other-source-infos'>\n            <div className='file-input__sourcesize'><P light small>{readableFileSize(state.source.size)}  </P></div>\n            <div className='file-input__sourcetype'><P light small>{state.source.type || 'no-type'}</P></div>\n            <div className='file-input__sourcename'><P>{getSourceName(props.src)}</P></div>\n          </div>\n          <div className='file-input__download-other-source'><Button minor onClick={downloadSource}>Tlcharger</Button></div>\n          <div className='file-input__edit-other-source'><Button onClick={showFilesExplorer}>Modifier</Button></div>\n        </ShadowBox>\n      </div>\n    </Wrapper>\n  }\n}\n","import styled from 'styled-components'\n\nconst Wrapper = styled.div`\n.component-row {\n  width: 100%;\n  padding: ${props => props.theme.units(2)} 0;\n  background: ${p => p.theme.colors.baseBg};\n\n  .component-row__title {\n    font-weight: 600;\n    padding: ${props => props.theme.units(1)};\n    background: ${props => props.theme.colors.baseAltBg};\n    font-family: ${props => props.theme.fonts.easy};\n    color: ${props => props.theme.colors.baseLightText};\n    margin-bottom: ${props => props.theme.units(1)};\n  }\n\n  .component-row__content {\n    width: 100%;\n    display: flex;\n    flex-wrap: wrap;\n    align-items: flex-start;\n    justify-content: flex-start;\n  }\n}\n\n.component-box {\n  box-sizing: border-box;\n  padding: \n    ${props => props.theme.units(2)}\n    ${props => props.theme.units(1)};\n  \n  .component-box__title {\n    font-family: ${props => props.theme.fonts.easy};\n    color: ${props => props.theme.colors.baseLightText};\n    margin-bottom: ${props => props.theme.units(2)};\n    width: 100%;\n  }\n\n  .component-box__content > * {\n    margin-bottom: ${props => props.theme.units(2)};\n  }\n}`\n\nexport default Wrapper\n","import React, { Component } from 'react'\nimport MainTitle from '../../../components/text-levels/MainTitle'\nimport BlockTitle from '../../../components/text-levels/BlockTitle'\nimport ParagraphTitle from '../../../components/text-levels/ParagraphTitle'\nimport Button from '../../../components/buttons/Button'\nimport TextInput from '../../../components/inputs/TextInput'\nimport SelectList from '../../../components/inputs/SelectList'\nimport FileInput from '../../../components/inputs/FileInput'\nimport SearchField from '../../../components/inputs/SearchField'\nimport Header from '../../blocks/Header'\nimport LibeToolThumb from '../../blocks/LibeToolThumb'\nimport LibeBundleThumb from '../../blocks/LibeBundleThumb'\nimport Wrapper from './style'\n\nconst CpRow = ({ title, children }) => {\n  const style = { display: title ? 'block' : 'none' }\n  return <div className='component-row'>\n    <div className='component-row__title' style={style}>\n      {title}\n    </div>\n    <div className='component-row__content'>\n      {children}\n    </div>\n  </div>\n}\n\nconst CpBx = ({ title, width, children }) => {\n  const style = {\n    display: width ? 'inline-block' : 'block',\n    width: width ? `${width * 100}%` : '100%'\n  }\n  return <div className='component-box' style={style}>\n    {title ? <div className='component-box__title'>{title}</div> : null}\n    <div className='component-box__content'>{children}</div>\n  </div>\n}\n\nexport default class ComponentsPage extends Component {\n  render () {\n    return <Wrapper>\n      <CpRow title='Text levels'>\n        <CpBx title='Main title'><MainTitle level={4}>The quick brown fox</MainTitle></CpBx>\n        <CpBx title='Block title'><BlockTitle level={1}>The quick brown fox</BlockTitle></CpBx>\n        <CpBx title='Paragraph title'><ParagraphTitle level={8}>The quick brown fox</ParagraphTitle></CpBx>\n      </CpRow>\n      <CpRow title='Buttons'>\n        <CpBx title='Button' width={1 / 4}><Button>Click me!</Button></CpBx>\n        <CpBx title='Button minor' width={1 / 4}><Button minor>Click me!</Button></CpBx>\n        <CpBx title='Button dangerous' width={1 / 4}><Button dangerous>Click me!</Button></CpBx>\n        <CpBx title='Button minor dangerous' width={1 / 4}><Button minor dangerous>Click me!</Button></CpBx>\n\n        <CpBx title='Button disabled' width={1 / 4}><Button disabled>Click me!</Button></CpBx>\n        <CpBx title='Button minor disabled' width={1 / 4}><Button minor disabled>Click me!</Button></CpBx>\n        <CpBx title='Button dangerous disabled' width={1 / 4}><Button dangerous disabled>Click me!</Button></CpBx>\n        <CpBx title='Button minor dangerous disabled' width={1 / 4}><Button minor dangerous disabled>Click me!</Button></CpBx>\n\n        <CpBx title='Button primary' width={1 / 4}><Button primary>Click me!</Button></CpBx>\n        <CpBx title='Button primary minor' width={1 / 4}><Button primary minor>Click me!</Button></CpBx>\n        <CpBx title='Button primary dangerous' width={1 / 4}><Button primary dangerous>Click me!</Button></CpBx>\n        <CpBx title='Button primary minor dangerous' width={1 / 4}><Button primary minor dangerous>Click me!</Button></CpBx>\n\n        <CpBx title='Button primary disabled' width={1 / 4}><Button primary disabled>Click me!</Button></CpBx>\n        <CpBx title='Button primary minor disabled' width={1 / 4}><Button primary minor disabled>Click me!</Button></CpBx>\n        <CpBx title='Button primary dangerous disabled' width={1 / 4}><Button primary dangerous disabled>Click me!</Button></CpBx>\n        <CpBx title='Button primary minor dangerous disabled' width={1 / 4}><Button primary minor dangerous disabled>Click me!</Button></CpBx>\n\n        <CpBx title='Button link' width={1 / 4}><Button link>Click me!</Button></CpBx>\n        <CpBx title='Button link minor' width={1 / 4}><Button link minor>Click me!</Button></CpBx>\n        <CpBx title='Button link dangerous' width={1 / 4}><Button link dangerous>Click me!</Button></CpBx>\n        <CpBx title='Button link minor dangerous' width={1 / 4}><Button link minor dangerous>Click me!</Button></CpBx>\n\n        <CpBx title='Button link disabled' width={1 / 4}><Button link disabled>Click me!</Button></CpBx>\n        <CpBx title='Button link minor disabled' width={1 / 4}><Button link minor disabled>Click me!</Button></CpBx>\n        <CpBx title='Button link dangerous disabled' width={1 / 4}><Button link dangerous disabled>Click me!</Button></CpBx>\n        <CpBx title='Button link minor dangerous disabled' width={1 / 4}><Button link minor dangerous disabled>Click me!</Button></CpBx>\n\n        <CpBx title='Button link primary' width={1 / 4}><Button link primary>Click me!</Button></CpBx>\n        <CpBx title='Button link primary minor' width={1 / 4}><Button link primary minor>Click me!</Button></CpBx>\n        <CpBx title='Button link primary dangerous' width={1 / 4}><Button link primary dangerous>Click me!</Button></CpBx>\n        <CpBx title='Button link primary minor dangerous' width={1 / 4}><Button link primary minor dangerous>Click me!</Button></CpBx>\n\n        <CpBx title='Button link primary disabled' width={1 / 4}><Button link primary disabled>Click me!</Button></CpBx>\n        <CpBx title='Button link primary minor disabled' width={1 / 4}><Button link primary minor disabled>Click me!</Button></CpBx>\n        <CpBx title='Button link primary dangerous disabled' width={1 / 4}><Button link primary dangerous disabled>Click me!</Button></CpBx>\n        <CpBx title='Button link primary minor dangerous disabled' width={1 / 4}><Button link primary minor dangerous disabled>Click me!</Button></CpBx>\n      </CpRow>\n      <CpRow title='Inputs'>\n        <CpBx title='Text input' width={1 / 4}>\n          <TextInput\n            label='Label'\n            placeholder='Placeholder' />\n        </CpBx>\n        <CpBx title='Select list' width={1 / 4}>\n          <SelectList\n            label='Label'\n            options={[\n              { label: 'Slectionnez une option', value: 'placeholder', disabled: true, selected: true },\n              { label: 'Value 2', value: 'Value 2' },\n              { label: '', value: '-', disabled: true },\n              { label: 'Value 3', value: 'Value 3' },\n              { label: 'Value 4', value: 'Value 4' }\n            ]} />\n        </CpBx>\n        <CpBx width={2 / 4} />\n        <CpBx title='Search field' width={1 / 4}>\n          <SearchField placeholder='Chercher un truc' />\n        </CpBx>\n        <CpBx title='File input empty' width={1 / 4}>\n          <FileInput\n            placeholder='Choisir un fichier' />\n        </CpBx>\n        <CpBx title='File input with image' width={1 / 4}>\n          <FileInput\n            label='Label'\n            placeholder='Choisir un fichier'\n            src='https://upload.wikimedia.org/wikipedia/commons/d/d7/F-15C_carrying_AIM-9X_maneuvers_into_a_vertical_climb.jpg' />\n        </CpBx>\n        <CpBx title='File input with file' width={1 / 4}>\n          <FileInput\n            label='Label'\n            placeholder='Choisir un fichier'\n            src='https://maximefabas.github.io/ressources/maxime_fabas_resume_fr_feb_18.pdf' />\n        </CpBx>\n      </CpRow>\n      <CpRow title='Compound components'>\n        <CpBx title='Header'><Header /></CpBx>\n        <CpBx title='Lib tool thumb' width={1 / 3}>\n          <LibeToolThumb\n            title='Lib box'\n            image='/images/libe-tool-thumb-image.jpg'\n            description='Lorem ipsum dolor sit amet consectutor' />\n        </CpBx>\n        <CpBx title='Lib bundle thumb' width={1 / 3}>\n          <LibeBundleThumb loading />\n          <LibeBundleThumb loading />\n          <LibeBundleThumb\n            title='Financements libyens : ces tmoignages qui pointent la campagne Sarkozy'\n            type='Tmoignage'\n            author='Aurlie Delmas'\n            created={1521590400000}\n            updated={1521676800000}\n            image='http://images.freeimages.com/images/previews/250/some-image-1302910.jpg' />\n          <LibeBundleThumb\n            title='Financements libyens : ces tmoignages qui pointent la campagne Sarkozy'\n            type='Tmoignage'\n            author='Aurlie Delmas'\n            created={1521590400000}\n            updated={1521676800000}\n            published={1521776800000}\n            image='http://images.freeimages.com/images/previews/250/some-image-1302910.jpg' />\n          <LibeBundleThumb\n            title='Financements libyens : ces tmoignages qui pointent la campagne Sarkozy'\n            type='Tmoignage'\n            author='Aurlie Delmas'\n            created={1521590400000}\n            image='http://images.freeimages.com/images/previews/250/some-image-1302910.jpg' />\n        </CpBx>\n      </CpRow>\n    </Wrapper>\n  }\n}\n","// React\nimport React from 'react'\nimport { render } from 'react-dom'\n\n// Redux\nimport { createStore, combineReducers, applyMiddleware } from 'redux'\nimport { Provider } from 'react-redux'\nimport { createLogger } from 'redux-logger'\nimport reducers from './reducers'\n\n// Routing\nimport { Route, Switch, Redirect } from 'react-router-dom'\nimport { ConnectedRouter, routerReducer, routerMiddleware } from 'react-router-redux'\nimport { createBrowserHistory } from 'history'\n\n// Theme\nimport { ThemeProvider } from 'styled-components'\nimport theme from './theme'\n\n// Components\nimport HomePage from './containers/pages/HomePage'\nimport BundlePage from './containers/pages/BundlePage'\nimport ComponentsPage from './containers/pages/ComponentsPage'\n\n/* * * * * * * * * * * * * * * * * *\n *\n *   Init router and store\n *\n * * * * * * * * * * * * * * * * * */\nconst history = createBrowserHistory()\nconst middleware = routerMiddleware(history)\nconst logger = createLogger({\n  collapsed: true,\n  duration: true,\n  diff: true\n})\nconst store = createStore(\n  combineReducers({\n    ...reducers,\n    router: routerReducer\n  }),\n  applyMiddleware(\n    middleware,\n    logger\n  )\n)\n\n/* * * * * * * * * * * * * * * * * *\n *\n *   Render app\n *\n * * * * * * * * * * * * * * * * * */\nrender(\n  <Provider store={store}>\n    <ThemeProvider theme={theme}>\n      <ConnectedRouter history={history} store={store}>\n        <div id='app'>\n          <Switch>\n            <Route path='/'component={props => <HomePage {...props} />} exact />\n            <Route path='/edit/:type/:id' component={props => <BundlePage {...props} />} exact />\n            <Route path='/components' component={props => <ComponentsPage {...props} />} exact />\n            <Redirect from='/' to='/' />\n          </Switch>\n        </div>\n      </ConnectedRouter>\n    </ThemeProvider>\n  </Provider>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}